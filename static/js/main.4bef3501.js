/*! For license information please see main.4bef3501.js.LICENSE.txt */
!function(){var e={76:function(e,t,n){"use strict";n.d(t,{Z:function(){return re}});var i=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),r=Math.abs,a=String.fromCharCode,o=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function l(e,t){return e.indexOf(t)}function h(e,t){return 0|e.charCodeAt(t)}function c(e,t,n){return e.slice(t,n)}function f(e){return e.length}function d(e){return e.length}function m(e,t){return t.push(e),e}var g=1,v=1,y=0,p=0,_=0,b="";function k(e,t,n,i,r,a,o){return{value:e,root:t,parent:n,type:i,props:r,children:a,line:g,column:v,length:o,return:""}}function x(e,t){return o(k("",null,null,"",null,null,0),e,{length:-e.length},t)}function w(){return _=p>0?h(b,--p):0,v--,10===_&&(v=1,g--),_}function C(){return _=p<y?h(b,p++):0,v++,10===_&&(v=1,g++),_}function S(){return h(b,p)}function P(){return p}function M(e,t){return c(b,e,t)}function z(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return g=v=1,y=f(b=e),p=0,[]}function I(e){return b="",e}function R(e){return u(M(p-1,N(91===e?e+2:40===e?e+1:e)))}function F(e){for(;(_=S())&&_<33;)C();return z(e)>2||z(_)>3?"":" "}function T(e,t){for(;--t&&C()&&!(_<48||_>102||_>57&&_<65||_>70&&_<97););return M(e,P()+(t<6&&32==S()&&32==C()))}function N(e){for(;C();)switch(_){case e:return p;case 34:case 39:34!==e&&39!==e&&N(_);break;case 40:41===e&&N(e);break;case 92:C()}return p}function B(e,t){for(;C()&&e+_!==57&&(e+_!==84||47!==S()););return"/*"+M(t,p-1)+"*"+a(47===e?e:C())}function E(e){for(;!z(S());)C();return M(e,p)}var L="-ms-",D="-moz-",O="-webkit-",U="comm",V="rule",Z="decl",j="@keyframes";function H(e,t){for(var n="",i=d(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function W(e,t,n,i){switch(e.type){case"@import":case Z:return e.return=e.return||e.value;case U:return"";case j:return e.return=e.value+"{"+H(e.children,i)+"}";case V:e.value=e.props.join(",")}return f(n=H(e.children,i))?e.return=e.value+"{"+n+"}":""}function q(e,t){switch(function(e,t){return(((t<<2^h(e,0))<<2^h(e,1))<<2^h(e,2))<<2^h(e,3)}(e,t)){case 5103:return O+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return O+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return O+e+D+e+L+e+e;case 6828:case 4268:return O+e+L+e+e;case 6165:return O+e+L+"flex-"+e+e;case 5187:return O+e+s(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return O+e+L+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return O+e+L+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return O+e+L+s(e,"shrink","negative")+e;case 5292:return O+e+L+s(e,"basis","preferred-size")+e;case 6060:return O+"box-"+s(e,"-grow","")+O+e+L+s(e,"grow","positive")+e;case 4554:return O+s(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,O+"$1"),/(image-set)/,O+"$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,O+"$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+O+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,O+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(f(e)-1-t>6)switch(h(e,t+1)){case 109:if(45!==h(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+D+(108==h(e,t+3)?"$3":"$2-$3"))+e;case 115:return~l(e,"stretch")?q(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==h(e,t+1))break;case 6444:switch(h(e,f(e)-3-(~l(e,"!important")&&10))){case 107:return s(e,":",":"+O)+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+O+(45===h(e,14)?"inline-":"")+"box$3$1"+O+"$2$3$1"+L+"$2box$3")+e}break;case 5936:switch(h(e,t+11)){case 114:return O+e+L+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return O+e+L+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return O+e+L+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return O+e+L+e+e}return e}function G(e){return I($("",null,null,null,[""],e=A(e),0,[0],e))}function $(e,t,n,i,r,o,u,h,c){for(var d=0,g=0,v=u,y=0,p=0,_=0,b=1,k=1,x=1,M=0,z="",A=r,I=o,N=i,L=z;k;)switch(_=M,M=C()){case 40:if(108!=_&&58==L.charCodeAt(v-1)){-1!=l(L+=s(R(M),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:L+=R(M);break;case 9:case 10:case 13:case 32:L+=F(_);break;case 92:L+=T(P()-1,7);continue;case 47:switch(S()){case 42:case 47:m(X(B(C(),P()),t,n),c);break;default:L+="/"}break;case 123*b:h[d++]=f(L)*x;case 125*b:case 59:case 0:switch(M){case 0:case 125:k=0;case 59+g:p>0&&f(L)-v&&m(p>32?Q(L+";",i,n,v-1):Q(s(L," ","")+";",i,n,v-2),c);break;case 59:L+=";";default:if(m(N=Y(L,t,n,d,g,r,h,z,A=[],I=[],v),o),123===M)if(0===g)$(L,t,N,N,A,o,v,h,I);else switch(y){case 100:case 109:case 115:$(e,N,N,i&&m(Y(e,N,N,0,0,r,h,z,r,A=[],v),I),r,I,v,h,i?A:I);break;default:$(L,N,N,N,[""],I,0,h,I)}}d=g=p=0,b=x=1,z=L="",v=u;break;case 58:v=1+f(L),p=_;default:if(b<1)if(123==M)--b;else if(125==M&&0==b++&&125==w())continue;switch(L+=a(M),M*b){case 38:x=g>0?1:(L+="\f",-1);break;case 44:h[d++]=(f(L)-1)*x,x=1;break;case 64:45===S()&&(L+=R(C())),y=S(),g=v=f(z=L+=E(P())),M++;break;case 45:45===_&&2==f(L)&&(b=0)}}return o}function Y(e,t,n,i,a,o,l,h,f,m,g){for(var v=a-1,y=0===a?o:[""],p=d(y),_=0,b=0,x=0;_<i;++_)for(var w=0,C=c(e,v+1,v=r(b=l[_])),S=e;w<p;++w)(S=u(b>0?y[w]+" "+C:s(C,/&\f/g,y[w])))&&(f[x++]=S);return k(e,t,n,0===a?V:h,f,m,g)}function X(e,t,n){return k(e,t,n,U,a(_),c(e,2,-2),0)}function Q(e,t,n,i){return k(e,t,n,Z,c(e,0,i),c(e,i+1,-1),i)}var K=function(e,t,n){for(var i=0,r=0;i=r,r=S(),38===i&&12===r&&(t[n]=1),!z(r);)C();return M(e,p)},J=function(e,t){return I(function(e,t){var n=-1,i=44;do{switch(z(i)){case 0:38===i&&12===S()&&(t[n]=1),e[n]+=K(p-1,t,n);break;case 2:e[n]+=R(i);break;case 4:if(44===i){e[++n]=58===S()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(i)}}while(i=C());return e}(A(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!i){ee.set(e,!0);for(var r=[],a=J(t,r),o=n.props,u=0,s=0;u<a.length;u++)for(var l=0;l<o.length;l++,s++)e.props[s]=r[u]?a[u].replace(/&\f/g,o[l]):o[l]+" "+a[u]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ie=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case Z:e.return=q(e.value,e.length);break;case j:return H([x(e,{value:s(e.value,"@","@"+O)})],i);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return H([x(e,{props:[s(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return H([x(e,{props:[s(t,/:(plac\w+)/,":-webkit-input-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,L+"input-$1")]})],i)}return""}))}}],re=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||ie;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var l,h,c=[W,(h=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&h(e)})],f=function(e){var t=d(e);return function(n,i,r,a){for(var o="",u=0;u<t;u++)o+=e[u](n,i,r,a)||"";return o}}([te,ne].concat(r,c));o=function(e,t,n,i){l=n,H(G(e?e+"{"+t.styles+"}":t.styles),f),i&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new i({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return m.sheet.hydrate(s),m}},9797:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},5207:function(e,t,n){"use strict";n.d(t,{O:function(){return g}});var i=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},r={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(9797),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},h=(0,a.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),c=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===r[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function f(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)d={name:i.name,styles:i.styles,next:d},i=i.next;return n.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=f(e,t,n[r])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?i+=a+"{"+t[o]+"}":l(o)&&(i+=h(a)+":"+c(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=f(e,t,o);switch(a){case"animation":case"animationName":i+=h(a)+":"+u+";";break;default:i+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)l(o[s])&&(i+=h(a)+":"+c(a,o[s])+";")}return i}(e,t,n);case"function":if(void 0!==e){var r=d,a=n(e);return d=r,f(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,m=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var g=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,a+=f(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=f(n,t,e[u]),r&&(a+=o[u]);m.lastIndex=0;for(var s,l="";null!==(s=m.exec(a));)l+="-"+s[1];return{name:i(a)+l,styles:a,next:d}}},2561:function(e,t,n){"use strict";var i;n.d(t,{L:function(){return o}});var r=n(2791),a=!!(i||(i=n.t(r,2))).useInsertionEffect&&(i||(i=n.t(r,2))).useInsertionEffect,o=a||function(e){return e()};a||r.useLayoutEffect},5130:function(e,t,n){"use strict";var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=o},3518:function(e,t,n){"use strict";var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");t.Z=o},5423:function(e,t,n){"use strict";var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");t.Z=o},8370:function(e,t,n){"use strict";var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)([(0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},"0"),(0,a.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"},"1")],"ZoomIn");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=n(7473)},5361:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var i=n(7462),r=n(3366),a=n(6189),o=n(2466),u=n(5080),s=n(6222);function l(e,t){var n;return(0,i.Z)({toolbar:(n={minHeight:56},(0,s.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,s.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var h=n(2065),c={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},m={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},p={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},_=["mode","contrastThreshold","tonalOffset"],b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.white,default:c.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},k={text:{primary:c.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:c.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,i){var r=i.light||i,a=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,h.$n)(e.main,r):"dark"===t&&(e.dark=(0,h._j)(e.main,a)))}function w(e){var t=e.mode,n=void 0===t?"light":t,u=e.contrastThreshold,s=void 0===u?3:u,l=e.tonalOffset,w=void 0===l?.2:l,C=(0,r.Z)(e,_),S=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[700],light:v[400],dark:v[800]}}(n),P=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(n),M=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[500],light:m[300],dark:m[700]}:{main:m[700],light:m[400],dark:m[800]}}(n),z=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[700],light:y[500],dark:y[900]}}(n),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[400],light:p[300],dark:p[700]}:{main:p[800],light:p[500],dark:p[900]}}(n),I=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:"#ed6c02",light:g[500],dark:g[900]}}(n);function R(e){return(0,h.mi)(e,k.text.primary)>=s?k.text.primary:b.text.primary}var F=function(e){var t=e.color,n=e.name,r=e.mainShade,o=void 0===r?500:r,u=e.lightShade,s=void 0===u?300:u,l=e.darkShade,h=void 0===l?700:l;if(!(t=(0,i.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,a.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,a.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return x(t,"light",s,w),x(t,"dark",h,w),t.contrastText||(t.contrastText=R(t.main)),t},T={dark:k,light:b};return(0,o.Z)((0,i.Z)({common:(0,i.Z)({},c),mode:n,primary:F({color:S,name:"primary"}),secondary:F({color:P,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:F({color:M,name:"error"}),warning:F({color:I,name:"warning"}),info:F({color:z,name:"info"}),success:F({color:A,name:"success"}),grey:f,contrastThreshold:s,getContrastText:R,augmentColor:F,tonalOffset:w},T[n]),C)}var C=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var S={textTransform:"uppercase"},P='"Roboto", "Helvetica", "Arial", sans-serif';function M(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,u=void 0===a?P:a,s=n.fontSize,l=void 0===s?14:s,h=n.fontWeightLight,c=void 0===h?300:h,f=n.fontWeightRegular,d=void 0===f?400:f,m=n.fontWeightMedium,g=void 0===m?500:m,v=n.fontWeightBold,y=void 0===v?700:v,p=n.htmlFontSize,_=void 0===p?16:p,b=n.allVariants,k=n.pxToRem,x=(0,r.Z)(n,C);var w=l/14,M=k||function(e){return"".concat(e/_*w,"rem")},z=function(e,t,n,r,a){return(0,i.Z)({fontFamily:u,fontWeight:e,fontSize:M(t),lineHeight:n},u===P?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},A={h1:z(c,96,1.167,-1.5),h2:z(c,60,1.2,-.5),h3:z(d,48,1.167,0),h4:z(d,34,1.235,.25),h5:z(d,24,1.334,0),h6:z(g,20,1.6,.15),subtitle1:z(d,16,1.75,.15),subtitle2:z(g,14,1.57,.1),body1:z(d,16,1.5,.15),body2:z(d,14,1.43,.15),button:z(g,14,1.75,.4,S),caption:z(d,12,1.66,.4),overline:z(d,12,2.66,1,S)};return(0,o.Z)((0,i.Z)({htmlFontSize:_,pxToRem:M,fontFamily:u,fontSize:l,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:g,fontWeightBold:y},A),x,{clone:!1})}function z(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",z(0,2,1,-1,0,1,1,0,0,1,3,0),z(0,3,1,-2,0,2,2,0,0,1,5,0),z(0,3,3,-2,0,3,4,0,0,1,8,0),z(0,2,4,-1,0,4,5,0,0,1,10,0),z(0,3,5,-1,0,5,8,0,0,1,14,0),z(0,3,5,-1,0,6,10,0,0,1,18,0),z(0,4,5,-2,0,7,10,1,0,2,16,1),z(0,5,5,-3,0,8,10,1,0,3,14,2),z(0,5,6,-3,0,9,12,1,0,3,16,2),z(0,6,6,-3,0,10,14,1,0,4,18,3),z(0,6,7,-4,0,11,15,1,0,4,20,3),z(0,7,8,-4,0,12,17,2,0,5,22,4),z(0,7,8,-4,0,13,19,2,0,5,24,4),z(0,7,9,-4,0,14,21,2,0,5,26,4),z(0,8,9,-5,0,15,22,2,0,6,28,5),z(0,8,10,-5,0,16,24,2,0,6,30,5),z(0,8,11,-5,0,17,26,2,0,6,32,5),z(0,9,11,-5,0,18,28,2,0,7,34,6),z(0,9,12,-6,0,19,29,2,0,7,36,6),z(0,10,13,-6,0,20,31,3,0,8,38,7),z(0,10,13,-6,0,21,33,3,0,8,40,7),z(0,10,14,-6,0,22,35,3,0,8,42,7),z(0,11,14,-7,0,23,36,3,0,9,44,8),z(0,11,15,-7,0,24,38,3,0,9,46,8)],I=["duration","easing","delay"],R={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},F={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function T(e){return"".concat(Math.round(e),"ms")}function N(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function B(e){var t=(0,i.Z)({},R,e.easing),n=(0,i.Z)({},F,e.duration);return(0,i.Z)({getAutoHeightDuration:N,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.duration,o=void 0===a?n.standard:a,u=i.easing,s=void 0===u?t.easeInOut:u,l=i.delay,h=void 0===l?0:l;(0,r.Z)(i,I);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:T(o)," ").concat(s," ").concat("string"===typeof h?h:T(h))})).join(",")}},e,{easing:t,duration:n})}var E={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},L=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,s=e.palette,h=void 0===s?{}:s,c=e.transitions,f=void 0===c?{}:c,d=e.typography,m=void 0===d?{}:d,g=(0,r.Z)(e,L);if(e.vars)throw new Error((0,a.Z)(18));var v=w(h),y=(0,u.Z)(e),p=(0,o.Z)(y,{mixins:l(y.breakpoints,n),palette:v,shadows:A.slice(),typography:M(v,m),transitions:B(f),zIndex:(0,i.Z)({},E)});p=(0,o.Z)(p,g);for(var _=arguments.length,b=new Array(_>1?_-1:0),k=1;k<_;k++)b[k-1]=arguments[k];return p=b.reduce((function(e,t){return(0,o.Z)(e,t)}),p)}var O=D()},6026:function(e,t,n){"use strict";n.d(t,{ZP:function(){return ne},FO:function(){return J},Dz:function(){return ee}});var i=n(5531),r=n(3430),a=n(3366),o=n(7462),u=n(2791),s=n(9797),l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,h=(0,s.Z)((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),c=n(76),f=n(5207),d=n(2561),m=(0,u.createContext)("undefined"!==typeof HTMLElement?(0,c.Z)({key:"css"}):null);m.Provider;var g=function(e){return(0,u.forwardRef)((function(t,n){var i=(0,u.useContext)(m);return e(t,i,n)}))},v=(0,u.createContext)({});function y(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}var p=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},_=h,b=function(e){return"theme"!==e},k=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?_:b},x=function(e,t,n){var i;if(t){var r=t.shouldForwardProp;i=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!==typeof i&&n&&(i=e.__emotion_forwardProp),i},w=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;p(t,n,i);(0,d.L)((function(){return function(e,t,n){p(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,n,i)}));return null},C=function e(t,n){var i,r,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(i=n.label,r=n.target);var l=x(t,n,a),h=l||k(s),c=!h("as");return function(){var d=arguments,m=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&m.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)m.push.apply(m,d);else{0,m.push(d[0][0]);for(var p=d.length,_=1;_<p;_++)m.push(d[_],d[0][_])}var b=g((function(e,t,n){var i=c&&e.as||s,a="",o=[],d=e;if(null==e.theme){for(var g in d={},e)d[g]=e[g];d.theme=(0,u.useContext)(v)}"string"===typeof e.className?a=y(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var p=(0,f.O)(m.concat(o),t.registered,d);a+=t.key+"-"+p.name,void 0!==r&&(a+=" "+r);var _=c&&void 0===l?k(i):h,b={};for(var x in e)c&&"as"===x||_(x)&&(b[x]=e[x]);return b.className=a,b.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(w,{cache:t,serialized:p,isStringTag:"string"===typeof i}),(0,u.createElement)(i,b))}));return b.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=s,b.__emotion_styles=m,b.__emotion_forwardProp=l,Object.defineProperty(b,"toString",{value:function(){return"."+r}}),b.withComponent=function(t,i){return e(t,(0,o.Z)({},n,i,{shouldForwardProp:x(b,i,!0)})).apply(void 0,m)},b}},S=C.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){S[e]=S(e)}));var P=S;function M(e,t){return P(e,t)}var z=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},A=n(5080),I=n(7312),R=["variant"];function F(e){return 0===e.length}function T(e){var t=e.variant,n=(0,a.Z)(e,R),i=t||"";return Object.keys(n).sort().forEach((function(t){i+="color"===t?F(i)?e[t]:(0,I.Z)(e[t]):"".concat(F(i)?t:(0,I.Z)(t)).concat((0,I.Z)(e[t].toString()))})),i}var N=n(6222),B=n(8247),E=n(114),L=n(1184);function D(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),r=new Set(i);return t.every((function(e){return r.size===Object.keys(e).length}))}function O(e,t){return"function"===typeof e?e(t):e}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.G$,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(i){t[i]=e[n]})),t}),{});function n(e,n,i){var r,a=(r={},(0,N.Z)(r,e,n),(0,N.Z)(r,"theme",i),r),o=t[e];return o?o(a):(0,N.Z)({},e,n)}function i(e){var r=e||{},a=r.sx,o=r.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var r=e;if("function"===typeof e)r=e(u);else if("object"!==typeof e)return e;if(!r)return null;var a=(0,L.W8)(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(r).forEach((function(e){var a=O(r[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=(0,B.Z)(s,n(e,a,u));else{var o=(0,L.k9)({theme:u},a,(function(t){return(0,N.Z)({},e,t)}));D(o,a)?s[e]=i({sx:a,theme:u}):s=(0,B.Z)(s,o)}else s=(0,B.Z)(s,n(e,a,u))})),(0,L.L7)(o,s)}return Array.isArray(a)?a.map(s):s(a)}return i}();U.filterProps=["sx"];var V=U,Z=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],j=["theme"],H=["theme"];function W(e){return 0===Object.keys(e).length}function q(e){return"string"===typeof e&&e.charCodeAt(0)>96}var G=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},$=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var i={};return n.forEach((function(e){var t=T(e.props);i[t]=e.style})),i},Y=function(e,t,n,i){var r,a,o=e.ownerState,u=void 0===o?{}:o,s=[],l=null==n||null==(r=n.components)||null==(a=r[i])?void 0:a.variants;return l&&l.forEach((function(n){var i=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(i=!1)})),i&&s.push(t[T(n.props)])})),s};function X(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Q=(0,A.Z)();var K=n(5361),J=function(e){return X(e)&&"classes"!==e},ee=X,te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Q:t,u=e.rootShouldForwardProp,s=void 0===u?X:u,l=e.slotShouldForwardProp,h=void 0===l?X:l,c=e.styleFunctionSx,f=void 0===c?V:c,d=function(e){var t=W(e.theme)?n:e.theme;return f((0,o.Z)({},e,{theme:t}))};return d.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};z(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var u,l=t.name,c=t.slot,f=t.skipVariantsResolver,m=t.skipSx,g=t.overridesResolver,v=(0,a.Z)(t,Z),y=void 0!==f?f:c&&"Root"!==c||!1,p=m||!1;var _=X;"Root"===c?_=s:c?_=h:q(e)&&(_=void 0);var b=M(e,(0,o.Z)({shouldForwardProp:_,label:u},v)),k=function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),s=1;s<t;s++)u[s-1]=arguments[s];var h=u?u.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var i=t.theme,r=(0,a.Z)(t,j);return e((0,o.Z)({theme:W(i)?n:i},r))}:e})):[],c=e;l&&g&&h.push((function(e){var t=W(e.theme)?n:e.theme,i=G(l,t);if(i){var a={};return Object.entries(i).forEach((function(n){var i=(0,r.Z)(n,2),u=i[0],s=i[1];a[u]="function"===typeof s?s((0,o.Z)({},e,{theme:t})):s})),g(e,a)}return null})),l&&!y&&h.push((function(e){var t=W(e.theme)?n:e.theme;return Y(e,$(l,t),t,l)})),p||h.push(d);var f=h.length-u.length;if(Array.isArray(e)&&f>0){var m=new Array(f).fill("");(c=[].concat((0,i.Z)(e),(0,i.Z)(m))).raw=[].concat((0,i.Z)(e.raw),(0,i.Z)(m))}else"function"===typeof e&&e.__emotion_real!==e&&(c=function(t){var i=t.theme,r=(0,a.Z)(t,H);return e((0,o.Z)({theme:W(i)?n:i},r))});var v=b.apply(void 0,[c].concat((0,i.Z)(h)));return v};return b.withConfig&&(k.withConfig=b.withConfig),k}}({defaultTheme:K.Z,rootShouldForwardProp:J}),ne=te},5873:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(5735);var r=n(886);function a(e){var t=e.props,n=e.name,a=e.defaultTheme,o=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,i.Z)(t.components[n].defaultProps,r):r}({theme:(0,r.Z)(a),name:n,props:t});return o}var o=n(5361);function u(e){return a({props:e.props,name:e.name,defaultTheme:o.Z})}},9853:function(e,t,n){"use strict";var i=n(7312);t.Z=i.Z},7473:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return k},debounce:function(){return x},deprecatedPropType:function(){return w},isMuiElement:function(){return C},ownerDocument:function(){return P},ownerWindow:function(){return M},requirePropFactory:function(){return z},setRef:function(){return A},unstable_ClassNameGenerator:function(){return U},unstable_useEnhancedEffect:function(){return I},unstable_useId:function(){return N},unsupportedProp:function(){return B},useControlled:function(){return E},useEventCallback:function(){return L.Z},useForkRef:function(){return D.Z},useIsFocusVisible:function(){return O.Z}});var i=n(5902),r=n(9853);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}}),(function(){}))},o=n(7462),u=n(2791),s=n.t(u,2),l=n(3366),h=n(8182),c=n(4419),f=n(5873),d=n(6026),m=n(1217);function g(e){return(0,m.Z)("MuiSvgIcon",e)}(0,n(5878).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var v=n(184),y=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],p=(0,d.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,r.Z)(n.color))],t["fontSize".concat((0,r.Z)(n.fontSize))]]}})((function(e){var t,n,i,r,a,o,u,s,l,h,c,f,d,m,g,v,y,p=e.theme,_=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=p.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(i=p.transitions)||null==(r=i.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(a=p.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=p.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(l=p.typography)||null==(h=l.pxToRem)?void 0:h.call(l,35))||"2.1875rem"}[_.fontSize],color:null!=(c=null==(f=(p.vars||p).palette)||null==(d=f[_.color])?void 0:d.main)?c:{action:null==(m=(p.vars||p).palette)||null==(g=m.action)?void 0:g.active,disabled:null==(v=(p.vars||p).palette)||null==(y=v.action)?void 0:y.disabled,inherit:void 0}[_.color]}})),_=u.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,a=n.className,u=n.color,s=void 0===u?"inherit":u,d=n.component,m=void 0===d?"svg":d,_=n.fontSize,b=void 0===_?"medium":_,k=n.htmlColor,x=n.inheritViewBox,w=void 0!==x&&x,C=n.titleAccess,S=n.viewBox,P=void 0===S?"0 0 24 24":S,M=(0,l.Z)(n,y),z=(0,o.Z)({},n,{color:s,component:m,fontSize:b,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:P}),A={};w||(A.viewBox=P);var I=function(e){var t=e.color,n=e.fontSize,i=e.classes,a={root:["root","inherit"!==t&&"color".concat((0,r.Z)(t)),"fontSize".concat((0,r.Z)(n))]};return(0,c.Z)(a,g,i)}(z);return(0,v.jsxs)(p,(0,o.Z)({as:m,className:(0,h.Z)(I.root,a),focusable:"false",color:k,"aria-hidden":!C||void 0,role:C?"img":void 0,ref:t},A,M,{ownerState:z,children:[i,C?(0,v.jsx)("title",{children:C}):null]}))}));_.muiName="SvgIcon";var b=_;function k(e,t){var n=function(n,i){return(0,v.jsx)(b,(0,o.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))};return n.muiName=b.muiName,u.memo(u.forwardRef(n))}var x=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function i(){for(var i=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var u=function(){e.apply(i,a)};clearTimeout(t),t=setTimeout(u,n)}return i.clear=function(){clearTimeout(t)},i};var w=function(e,t){return function(){return null}};var C=function(e,t){return u.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)},S=n(9723),P=S.Z;var M=function(e){return(0,S.Z)(e).defaultView||window};var z=function(e,t){return function(){return null}},A=n(2971).Z,I=n(5721).Z,R=n(3430),F=0;var T=s.useId;var N=function(e){if(void 0!==T){var t=T();return null!=e?e:t}return function(e){var t=u.useState(e),n=(0,R.Z)(t,2),i=n[0],r=n[1],a=e||i;return u.useEffect((function(){null==i&&r("mui-".concat(F+=1))}),[i]),a}(e)};var B=function(e,t,n,i,r){return null},E=n(8959).Z,L=n(9511),D=n(7933),O=n(5559),U={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),i.Z.configure(e)}}},9511:function(e,t,n){"use strict";var i=n(8956);t.Z=i.Z},7933:function(e,t,n){"use strict";var i=n(7563);t.Z=i.Z},5559:function(e,t,n){"use strict";var i=n(5372);t.Z=i.Z},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return s},P$:function(){return h},VO:function(){return r},W8:function(){return u},dt:function(){return l},k9:function(){return o}});var i=n(2466),r={xs:0,sm:600,md:900,lg:1200,xl:1536},a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function o(e,t,n){var i=e.theme||{};if(Array.isArray(t)){var o=i.breakpoints||a;return t.reduce((function(e,i,r){return e[o.up(o.keys[r])]=n(t[r]),e}),{})}if("object"===typeof t){var u=i.breakpoints||a;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function s(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function l(e){for(var t=u(e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var o=[t].concat(r).reduce((function(e,t){return(0,i.Z)(e,t)}),{});return s(Object.keys(t),o)}function h(e){var t,n=e.values,i=e.breakpoints,r=e.base||function(e,t){if("object"!==typeof e)return{};var n={},i=Object.keys(t);return Array.isArray(e)?i.forEach((function(t,i){i<e.length&&(n[t]=!0)})):i.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,i),a=Object.keys(r);return 0===a.length?n:a.reduce((function(e,i,r){return Array.isArray(n)?(e[i]=null!=n[r]?n[r]:n[t],t=r):"object"===typeof n?(e[i]=null!=n[i]?n[i]:n[t],t=i):e[i]=n,e}),{})}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return c},Fq:function(){return l},_j:function(){return h},mi:function(){return s}});var i=n(6189);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,i.Z)(9,e));var r,o=e.substring(t+1,e.length-1);if("color"===n){if(r=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,i.Z)(10,r))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:r}}function o(e){var t=e.type,n=e.colorSpace,i=e.values;return-1!==t.indexOf("rgb")?i=i.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(i[1]="".concat(i[1],"%"),i[2]="".concat(i[2],"%")),i=-1!==t.indexOf("color")?"".concat(n," ").concat(i.join(" ")):"".concat(i.join(", ")),"".concat(t,"(").concat(i,")")}function u(e){var t="hsl"===(e=a(e)).type||"hsla"===e.type?a(function(e){var t=(e=a(e)).values,n=t[0],i=t[1]/100,r=t[2]/100,u=i*Math.min(r,1-r),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-u*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",h=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(l+="a",h.push(t[3])),o({type:l,values:h})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),i=u(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function l(e,t){return e=a(e),t=r(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function h(e,t){if(e=a(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function c(e,t){if(e=a(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var i=0;i<3;i+=1)e.values[i]+=(1-e.values[i])*t;return o(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(7462),r=n(3366),a=n(2466),o=n(6222),u=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,s=void 0===a?"px":a,l=e.step,h=void 0===l?5:l,c=(0,r.Z)(e,u),f=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,i.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})}(n),d=Object.keys(f);function m(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function g(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-h/100).concat(s,")")}function v(e,t){var i=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof n[d[i]]?n[d[i]]:t)-h/100).concat(s,")")}return(0,i.Z)({keys:d,values:f,up:m,down:g,between:v,only:function(e){return d.indexOf(e)+1<d.length?v(e,d[d.indexOf(e)+1]):m(e)},not:function(e){var t=d.indexOf(e);return 0===t?m(d[1]):t===d.length-1?g(d[t]):v(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:s},c)}var l={borderRadius:4},h=n(5682);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,h.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=0===n.length?[1]:n;return r.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var f=["breakpoints","palette","spacing","shape"];var d=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,u=void 0===o?{}:o,h=e.spacing,d=e.shape,m=void 0===d?{}:d,g=(0,r.Z)(e,f),v=s(n),y=c(h),p=(0,a.Z)({breakpoints:v,direction:"ltr",components:{},palette:(0,i.Z)({mode:"light"},u),spacing:y,shape:(0,i.Z)({},l,m)},g),_=arguments.length,b=new Array(_>1?_-1:0),k=1;k<_;k++)b[k-1]=arguments[k];return p=b.reduce((function(e,t){return(0,a.Z)(e,t)}),p)}},114:function(e,t,n){"use strict";n.d(t,{Gc:function(){return Y},G$:function(){return $}});var i=n(8529),r=n(8247);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),a=function(e){return Object.keys(e).reduce((function(t,n){return i[n]?(0,r.Z)(t,i[n](e)):t}),{})};return a.propTypes={},a.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),a},o=n(5682),u=n(1184);function s(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var l=(0,i.Z)({prop:"border",themeKey:"borders",transform:s}),h=(0,i.Z)({prop:"borderTop",themeKey:"borders",transform:s}),c=(0,i.Z)({prop:"borderRight",themeKey:"borders",transform:s}),f=(0,i.Z)({prop:"borderBottom",themeKey:"borders",transform:s}),d=(0,i.Z)({prop:"borderLeft",themeKey:"borders",transform:s}),m=(0,i.Z)({prop:"borderColor",themeKey:"palette"}),g=(0,i.Z)({prop:"borderTopColor",themeKey:"palette"}),v=(0,i.Z)({prop:"borderRightColor",themeKey:"palette"}),y=(0,i.Z)({prop:"borderBottomColor",themeKey:"palette"}),p=(0,i.Z)({prop:"borderLeftColor",themeKey:"palette"}),_=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,o.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,u.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,o.NA)(t,e)}}))}return null};_.propTypes={},_.filterProps=["borderRadius"];var b=a(l,h,c,f,d,m,g,v,y,p,_),k=a((0,i.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,i.Z)({prop:"display"}),(0,i.Z)({prop:"overflow"}),(0,i.Z)({prop:"textOverflow"}),(0,i.Z)({prop:"visibility"}),(0,i.Z)({prop:"whiteSpace"})),x=a((0,i.Z)({prop:"flexBasis"}),(0,i.Z)({prop:"flexDirection"}),(0,i.Z)({prop:"flexWrap"}),(0,i.Z)({prop:"justifyContent"}),(0,i.Z)({prop:"alignItems"}),(0,i.Z)({prop:"alignContent"}),(0,i.Z)({prop:"order"}),(0,i.Z)({prop:"flex"}),(0,i.Z)({prop:"flexGrow"}),(0,i.Z)({prop:"flexShrink"}),(0,i.Z)({prop:"alignSelf"}),(0,i.Z)({prop:"justifyItems"}),(0,i.Z)({prop:"justifySelf"})),w=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,o.eI)(e.theme,"spacing",8,"gap");return(0,u.k9)(e,e.gap,(function(e){return{gap:(0,o.NA)(t,e)}}))}return null};w.propTypes={},w.filterProps=["gap"];var C=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,o.eI)(e.theme,"spacing",8,"columnGap");return(0,u.k9)(e,e.columnGap,(function(e){return{columnGap:(0,o.NA)(t,e)}}))}return null};C.propTypes={},C.filterProps=["columnGap"];var S=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,o.eI)(e.theme,"spacing",8,"rowGap");return(0,u.k9)(e,e.rowGap,(function(e){return{rowGap:(0,o.NA)(t,e)}}))}return null};S.propTypes={},S.filterProps=["rowGap"];var P=a(w,C,S,(0,i.Z)({prop:"gridColumn"}),(0,i.Z)({prop:"gridRow"}),(0,i.Z)({prop:"gridAutoFlow"}),(0,i.Z)({prop:"gridAutoColumns"}),(0,i.Z)({prop:"gridAutoRows"}),(0,i.Z)({prop:"gridTemplateColumns"}),(0,i.Z)({prop:"gridTemplateRows"}),(0,i.Z)({prop:"gridTemplateAreas"}),(0,i.Z)({prop:"gridArea"})),M=a((0,i.Z)({prop:"position"}),(0,i.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,i.Z)({prop:"top"}),(0,i.Z)({prop:"right"}),(0,i.Z)({prop:"bottom"}),(0,i.Z)({prop:"left"})),z=a((0,i.Z)({prop:"color",themeKey:"palette"}),(0,i.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,i.Z)({prop:"backgroundColor",themeKey:"palette"})),A=(0,i.Z)({prop:"boxShadow",themeKey:"shadows"});function I(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var R=(0,i.Z)({prop:"width",transform:I}),F=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,u.k9)(e,e.maxWidth,(function(t){var n,i,r;return{maxWidth:(null==(n=e.theme)||null==(i=n.breakpoints)||null==(r=i.values)?void 0:r[t])||u.VO[t]||I(t)}}))}return null};F.filterProps=["maxWidth"];var T=(0,i.Z)({prop:"minWidth",transform:I}),N=(0,i.Z)({prop:"height",transform:I}),B=(0,i.Z)({prop:"maxHeight",transform:I}),E=(0,i.Z)({prop:"minHeight",transform:I}),L=((0,i.Z)({prop:"size",cssProperty:"width",transform:I}),(0,i.Z)({prop:"size",cssProperty:"height",transform:I}),a(R,F,T,N,B,E,(0,i.Z)({prop:"boxSizing"}))),D=(0,i.Z)({prop:"fontFamily",themeKey:"typography"}),O=(0,i.Z)({prop:"fontSize",themeKey:"typography"}),U=(0,i.Z)({prop:"fontStyle",themeKey:"typography"}),V=(0,i.Z)({prop:"fontWeight",themeKey:"typography"}),Z=(0,i.Z)({prop:"letterSpacing"}),j=(0,i.Z)({prop:"textTransform"}),H=(0,i.Z)({prop:"lineHeight"}),W=(0,i.Z)({prop:"textAlign"}),q=a((0,i.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),D,O,U,V,Z,H,W,j),G={borders:b.filterProps,display:k.filterProps,flexbox:x.filterProps,grid:P.filterProps,positions:M.filterProps,palette:z.filterProps,shadows:A.filterProps,sizing:L.filterProps,spacing:o.ZP.filterProps,typography:q.filterProps},$={borders:b,display:k,flexbox:x,grid:P,positions:M,palette:z,shadows:A,sizing:L,spacing:o.ZP,typography:q},Y=Object.keys(G).reduce((function(e,t){return G[t].forEach((function(n){e[n]=$[t]})),e}),{})},8247:function(e,t,n){"use strict";var i=n(2466);t.Z=function(e,t){return t?(0,i.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return g},eI:function(){return m},ZP:function(){return x},NA:function(){return v}});var i=n(3430),r=n(1184),a=n(8529),o=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},h=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=u[r],h=s[a]||"";return Array.isArray(h)?h.map((function(e){return o+e})):[o+h]})),c=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],f=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(c,f);function m(e,t,n,i){var r,o=null!=(r=(0,a.D)(e,t,!1))?r:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function g(e){return m(e,"spacing",8)}function v(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function y(e,t,n,i){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,i){return e[i]=v(t,n),e}),{})}}(h(n),i),o=e[n];return(0,r.k9)(e,o,a)}function p(e,t){var n=g(e.theme);return Object.keys(e).map((function(i){return y(e,t,i,n)})).reduce(o.Z,{})}function _(e){return p(e,c)}function b(e){return p(e,f)}function k(e){return p(e,d)}_.propTypes={},_.filterProps=c,b.propTypes={},b.filterProps=f,k.propTypes={},k.filterProps=d;var x=k},8529:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var i=n(6222),r=n(7312),a=n(1184);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var i="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=i)return i}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return i="function"===typeof e?e(n):Array.isArray(e)?e[n]||r:o(e,n)||r,t&&(i=t(i)),i}t.Z=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,l=e.themeKey,h=e.transform,c=function(e){if(null==e[t])return null;var n=e[t],c=o(e.theme,l)||{};return(0,a.k9)(e,n,(function(e){var n=u(c,h,e);return e===n&&"string"===typeof e&&(n=u(c,h,"".concat(t).concat("default"===e?"":(0,r.Z)(e)),e)),!1===s?n:(0,i.Z)({},s,n)}))};return c.propTypes={},c.filterProps=[t],c}},886:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(5080),r=n(2791);var a=r.createContext(null);function o(){return r.useContext(a)}function u(e){return 0===Object.keys(e).length}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=o();return!t||u(t)?e:t},l=(0,i.Z)();var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return s(e)}},5902:function(e,t){"use strict";var n=function(e){return e},i=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=i},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(6189);function r(e){if("string"!==typeof e)throw new Error((0,i.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function i(e,t,n){var i={};return Object.keys(e).forEach((function(r){i[r]=e[r].reduce((function(e,i){return i&&(e.push(t(i)),n&&n[i]&&e.push(n[i])),e}),[]).join(" ")})),i}n.d(t,{Z:function(){return i}})},2466:function(e,t,n){"use strict";n.d(t,{P:function(){return r},Z:function(){return a}});var i=n(7462);function r(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?(0,i.Z)({},e):e;return r(e)&&r(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(r(t[i])&&i in e&&r(e[i])?o[i]=a(e[i],t[i],n):o[i]=t[i])})),o}},6189:function(e,t,n){"use strict";function i(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return i}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(5902),r={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a=r[t];return a?"".concat(n,"-").concat(a):"".concat(i.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(1217);function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=(0,i.Z)(e,t,n)})),r}},9723:function(e,t,n){"use strict";function i(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return i}})},5735:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(7462);function r(e,t){var n=(0,i.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}},2971:function(e,t,n){"use strict";function i(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return i}})},8959:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(3430),r=n(2791);function a(e){var t=e.controlled,n=e.default,a=(e.name,e.state,r.useRef(void 0!==t).current),o=r.useState(n),u=(0,i.Z)(o,2),s=u[0],l=u[1];return[a?t:s,r.useCallback((function(e){a||l(e)}),[])]}},5721:function(e,t,n){"use strict";var i=n(2791),r="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;t.Z=r},8956:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(2791),r=n(5721);function a(e){var t=i.useRef(e);return(0,r.Z)((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},7563:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(2791),r=n(2971);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,r.Z)(t,e)}))}}),t)}},5372:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i,r=n(2791),a=!0,o=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function l(){a=!1}function h(){"hidden"===this.visibilityState&&o&&(a=!0)}function c(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function f(){var e=r.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",h,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!c(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(i),i=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},9998:function(e,t){"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i=e.name||"",r=(e.type||"").toLowerCase(),a=r.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?i.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):r===t}))}return!0}},8182:function(e,t,n){"use strict";function i(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}t.Z=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r}},2110:function(e,t,n){"use strict";var i=n(8309),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return i.isMemo(e)?o:u[e.$$typeof]||r}u[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[i.Memo]=o;var l=Object.defineProperty,h=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(m){var r=d(n);r&&r!==m&&e(t,r,i)}var o=h(n);c&&(o=o.concat(c(n)));for(var u=s(t),g=s(n),v=0;v<o.length;++v){var y=o[v];if(!a[y]&&(!i||!i[y])&&(!g||!g[y])&&(!u||!u[y])){var p=f(n,y);try{l(t,y,p)}catch(_){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,c=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,p=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case c:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case v:case g:case s:return e;default:return t}}case r:return t}}}function x(e){return k(e)===c}t.AsyncMode=h,t.ConcurrentMode=c,t.ContextConsumer=l,t.ContextProvider=s,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=g,t.Portal=r,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||k(e)===h},t.isConcurrentMode=x,t.isContextConsumer=function(e){return k(e)===l},t.isContextProvider=function(e){return k(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return k(e)===f},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===v},t.isMemo=function(e){return k(e)===g},t.isPortal=function(e){return k(e)===r},t.isProfiler=function(e){return k(e)===u},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===c||e===u||e===o||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===s||e.$$typeof===l||e.$$typeof===f||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===y)},t.typeOf=k},8309:function(e,t,n){"use strict";e.exports=n(746)},888:function(e,t,n){"use strict";var i=n(9047);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,o){if(o!==i){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var i=n(2791),r=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},m={};function g(e,t,n,i,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}function _(e,t,n,i){var r=v.hasOwnProperty(t)?v[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!c.call(m,e)||!c.call(d,e)&&(f.test(e)?m[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,p);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,p);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,p);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var E,L=Object.assign;function D(e){if(void 0===E)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return"\n"+E+e}var O=!1;function U(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var i=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){i=l}e.call(t.prototype)}else{try{throw Error()}catch(l){i=l}e()}}catch(l){if(l&&i&&"string"===typeof l.stack){for(var r=l.stack.split("\n"),a=i.stack.split("\n"),o=r.length-1,u=a.length-1;1<=o&&0<=u&&r[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(r[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||r[o]!==a[u]){var s="\n"+r[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function V(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case x:return"Portal";case S:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case z:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=W(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function K(e,t){Q(e,t);var n=H(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),i=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,he,ce=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(de).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pe(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,we=null,Ce=null;function Se(e){if(e=_r(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=kr(t),xe(e.stateNode,e.type,t))}}function Pe(e){we?Ce?Ce.push(e):Ce=[e]:we=e}function Me(){if(we){var e=we,t=Ce;if(Ce=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function ze(e,t){return e(t)}function Ae(){}var Ie=!1;function Re(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return ze(e,t,n)}finally{Ie=!1,(null!==we||null!==Ce)&&(Ae(),Me())}}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var i=kr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Te=!1;if(h)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(he){Te=!1}function Be(e,t,n,i,r,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(h){this.onError(h)}}var Ee=!1,Le=null,De=!1,Oe=null,Ue={onError:function(e){Ee=!0,Le=e}};function Ve(e,t,n,i,r,a,o,u,s){Ee=!1,Le=null,Be.apply(Ue,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return He(r),e;if(o===i)return He(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var u=!1,s=r.child;s;){if(s===n){u=!0,n=r,i=o;break}if(s===i){u=!0,i=r,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,i=r;break}if(s===i){u=!0,i=o,n=r;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=r.unstable_scheduleCallback,$e=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Xe=r.unstable_requestPaint,Qe=r.unstable_now,Ke=r.unstable_getCurrentPriorityLevel,Je=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ht=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~r;0!==u?i=ct(u):0!==(a&=o)&&(i=ct(a))}else 0!==(o=n&~r)?i=ct(o):0!==a&&(i=ct(a));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,wt,Ct,St,Pt=!1,Mt=[],zt=null,At=null,It=null,Rt=new Map,Ft=new Map,Tt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bt(e,t){switch(e){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ft.delete(t.pointerId)}}function Et(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&xt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Lt(e){var t=pr(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=je(n)))return e.blockedOn=t,void St(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&xt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);be=i,n.target.dispatchEvent(i),be=null,t.shift()}return!0}function Ot(e,t,n){Dt(e)&&n.delete(t)}function Ut(){Pt=!1,null!==zt&&Dt(zt)&&(zt=null),null!==At&&Dt(At)&&(At=null),null!==It&&Dt(It)&&(It=null),Rt.forEach(Ot),Ft.forEach(Ot)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Zt(e){function t(t){return Vt(t,e)}if(0<Mt.length){Vt(Mt[0],e);for(var n=1;n<Mt.length;n++){var i=Mt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==zt&&Vt(zt,e),null!==At&&Vt(At,e),null!==It&&Vt(It,e),Rt.forEach(t),Ft.forEach(t),n=0;n<Tt.length;n++)(i=Tt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Tt.shift()}var jt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,i){var r=_t,a=jt.transition;jt.transition=null;try{_t=1,Gt(e,t,n,i)}finally{_t=r,jt.transition=a}}function qt(e,t,n,i){var r=_t,a=jt.transition;jt.transition=null;try{_t=4,Gt(e,t,n,i)}finally{_t=r,jt.transition=a}}function Gt(e,t,n,i){if(Ht){var r=Yt(e,t,n,i);if(null===r)Hi(e,t,i,$t,n),Bt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return zt=Et(zt,e,t,n,i,r),!0;case"dragenter":return At=Et(At,e,t,n,i,r),!0;case"mouseover":return It=Et(It,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Rt.set(a,Et(Rt.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Ft.set(a,Et(Ft.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Bt(e,i),4&t&&-1<Nt.indexOf(e)){for(;null!==r;){var a=_r(r);if(null!==a&&kt(a),null===(a=Yt(e,t,n,i))&&Hi(e,t,i,$t,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Hi(e,t,i,null,n)}}var $t=null;function Yt(e,t,n,i){if($t=null,null!==(e=pr(e=ke(i))))if(null===(t=Ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Qt=null,Kt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Kt,i=n.length,r="value"in Qt?Qt.value:Qt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return Jt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,i,r,a){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(ln),cn=L({},ln,{view:0,detail:0}),fn=an(cn),dn=L({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),mn=an(dn),gn=an(L({},dn,{dataTransfer:0})),vn=an(L({},cn,{relatedTarget:0})),yn=an(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),pn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(pn),bn=an(L({},ln,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return Cn}var Pn=L({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=an(Pn),zn=an(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(L({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),In=an(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=an(Rn),Tn=[9,13,27,32],Nn=h&&"CompositionEvent"in window,Bn=null;h&&"documentMode"in document&&(Bn=document.documentMode);var En=h&&"TextEvent"in window&&!Bn,Ln=h&&(!Nn||Bn&&8<Bn&&11>=Bn),Dn=String.fromCharCode(32),On=!1;function Un(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Wn(e,t,n,i){Pe(i),0<(t=qi(t,"onChange")).length&&(n=new hn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function $n(e){Di(e,0)}function Yn(e){if(G(br(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(h){var Kn;if(h){var Jn="oninput"in document;if(!Jn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Jn="function"===typeof ei.oninput}Kn=Jn}else Kn=!1;Qn=Kn&&(!document.documentMode||9<document.documentMode)}function ti(){qn&&(qn.detachEvent("onpropertychange",ni),Gn=qn=null)}function ni(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,ke(e)),Re($n,t)}}function ii(e,t,n){"focusin"===e?(ti(),Gn=n,(qn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ai(e,t){if("click"===e)return Yn(t)}function oi(e,t){if("input"===e||"change"===e)return Yn(t)}var ui="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function si(e,t){if(ui(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!c.call(t,r)||!ui(e[r],t[r]))return!1}return!0}function li(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hi(e,t){var n,i=li(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=li(i)}}function ci(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ci(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fi(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mi(e){var t=fi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ci(n.ownerDocument.documentElement,n)){if(null!==i&&di(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!e.extend&&a>i&&(r=i,i=a,a=r),r=hi(n,a);var o=hi(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=h&&"documentMode"in document&&11>=document.documentMode,vi=null,yi=null,pi=null,_i=!1;function bi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_i||null==vi||vi!==$(i)||("selectionStart"in(i=vi)&&di(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},pi&&si(pi,i)||(pi=i,0<(i=qi(yi,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=vi)))}function ki(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xi={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},wi={},Ci={};function Si(e){if(wi[e])return wi[e];if(!xi[e])return e;var t,n=xi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ci)return wi[e]=n[t];return e}h&&(Ci=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var Pi=Si("animationend"),Mi=Si("animationiteration"),zi=Si("animationstart"),Ai=Si("transitionend"),Ii=new Map,Ri="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(e,t){Ii.set(e,t),s(t,[e])}for(var Ti=0;Ti<Ri.length;Ti++){var Ni=Ri[Ti];Fi(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}Fi(Pi,"onAnimationEnd"),Fi(Mi,"onAnimationIteration"),Fi(zi,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(Ai,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ei=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bi));function Li(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,u,s,l){if(Ve.apply(this,arguments),Ee){if(!Ee)throw Error(a(198));var h=Le;Ee=!1,Le=null,De||(De=!0,Oe=h)}}(i,t,void 0,e),e.currentTarget=null}function Di(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var u=i[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&r.isPropagationStopped())break e;Li(r,u,l),a=s}else for(o=0;o<i.length;o++){if(s=(u=i[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&r.isPropagationStopped())break e;Li(r,u,l),a=s}}}if(De)throw e=Oe,De=!1,Oe=null,e}function Oi(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var i=e+"__bubble";n.has(i)||(ji(t,e,2,!1),n.add(i))}function Ui(e,t,n){var i=0;t&&(i|=4),ji(n,e,i,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Zi(e){if(!e[Vi]){e[Vi]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ei.has(t)||Ui(t,!1,e),Ui(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vi]||(t[Vi]=!0,Ui("selectionchange",!1,t))}}function ji(e,t,n,i){switch(Xt(t)){case 1:var r=Wt;break;case 4:r=qt;break;default:r=Gt}n=r.bind(null,t,n,e),r=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hi(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var u=i.stateNode.containerInfo;if(u===r||8===u.nodeType&&u.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===r||8===s.nodeType&&s.parentNode===r))return;o=o.return}for(;null!==u;){if(null===(o=pr(u)))return;if(5===(s=o.tag)||6===s){i=a=o;continue e}u=u.parentNode}}i=i.return}Re((function(){var i=a,r=ke(n),o=[];e:{var u=Ii.get(e);if(void 0!==u){var s=hn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Mn;break;case"focusin":l="focus",s=vn;break;case"focusout":l="blur",s=vn;break;case"beforeblur":case"afterblur":s=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Pi:case Mi:case zi:s=yn;break;case Ai:s=In;break;case"scroll":s=fn;break;case"wheel":s=Fn;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=zn}var h=0!==(4&t),c=!h&&"scroll"===e,f=h?null!==u?u+"Capture":null:u;h=[];for(var d,m=i;null!==m;){var g=(d=m).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=Fe(m,f))&&h.push(Wi(m,g,d)))),c)break;m=m.return}0<h.length&&(u=new s(u,l,null,n,r),o.push({event:u,listeners:h}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!pr(l)&&!l[mr])&&(s||u)&&(u=r.window===r?r:(u=r.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=i,null!==(l=(l=n.relatedTarget||n.toElement)?pr(l):null)&&(l!==(c=Ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=i),s!==l)){if(h=mn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=zn,g="onPointerLeave",f="onPointerEnter",m="pointer"),c=null==s?u:br(s),d=null==l?u:br(l),(u=new h(g,m+"leave",s,n,r)).target=c,u.relatedTarget=d,g=null,pr(r)===i&&((h=new h(f,m+"enter",l,n,r)).target=d,h.relatedTarget=c,g=h),c=g,s&&l)e:{for(f=l,m=0,d=h=s;d;d=Gi(d))m++;for(d=0,g=f;g;g=Gi(g))d++;for(;0<m-d;)h=Gi(h),m--;for(;0<d-m;)f=Gi(f),d--;for(;m--;){if(h===f||null!==f&&h===f.alternate)break e;h=Gi(h),f=Gi(f)}h=null}else h=null;null!==s&&$i(o,u,s,h,!1),null!==l&&null!==c&&$i(o,c,l,h,!0)}if("select"===(s=(u=i?br(i):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var v=Xn;else if(Hn(u))if(Qn)v=oi;else{v=ri;var y=ii}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(v=ai);switch(v&&(v=v(e,i))?Wn(o,v,n,r):(y&&y(e,u,i),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=i?br(i):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(vi=y,yi=i,pi=null);break;case"focusout":pi=yi=vi=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,bi(o,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":bi(o,n,r)}var p;if(Nn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Zn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Ln&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Zn&&(p=en()):(Kt="value"in(Qt=r)?Qt.value:Qt.textContent,Zn=!0)),0<(y=qi(i,_)).length&&(_=new bn(_,e,null,n,r),o.push({event:_,listeners:y}),p?_.data=p:null!==(p=Vn(n))&&(_.data=p))),(p=En?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(On=!0,Dn);case"textInput":return(e=t.data)===Dn&&On?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Nn&&Un(e,t)?(e=en(),Jt=Kt=Qt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=p))}Di(o,t)}))}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Fe(e,n))&&i.unshift(Wi(e,a,r)),null!=(a=Fe(e,t))&&i.push(Wi(e,a,r))),e=e.return}return i}function Gi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $i(e,t,n,i,r){for(var a=t._reactName,o=[];null!==n&&n!==i;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===i)break;5===u.tag&&null!==l&&(u=l,r?null!=(s=Fe(n,a))&&o.unshift(Wi(n,s,u)):r||null!=(s=Fe(n,a))&&o.push(Wi(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yi=/\r\n?/g,Xi=/\u0000|\uFFFD/g;function Qi(e){return("string"===typeof e?e:""+e).replace(Yi,"\n").replace(Xi,"")}function Ki(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(a(425))}function Ji(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(e){return ar.resolve(null).then(e).catch(ur)}:ir;function ur(e){setTimeout((function(){throw e}))}function sr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Zt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Zt(t)}function lr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),fr="__reactFiber$"+cr,dr="__reactProps$"+cr,mr="__reactContainer$"+cr,gr="__reactEvents$"+cr,vr="__reactListeners$"+cr,yr="__reactHandles$"+cr;function pr(e){var t=e[fr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mr]||n[fr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hr(e);null!==e;){if(n=e[fr])return n;e=hr(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[fr]||e[mr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function kr(e){return e[dr]||null}var xr=[],wr=-1;function Cr(e){return{current:e}}function Sr(e){0>wr||(e.current=xr[wr],xr[wr]=null,wr--)}function Pr(e,t){wr++,xr[wr]=e.current,e.current=t}var Mr={},zr=Cr(Mr),Ar=Cr(!1),Ir=Mr;function Rr(e,t){var n=e.type.contextTypes;if(!n)return Mr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Fr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Tr(){Sr(Ar),Sr(zr)}function Nr(e,t,n){if(zr.current!==Mr)throw Error(a(168));Pr(zr,t),Pr(Ar,n)}function Br(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(a(108,j(e)||"Unknown",r));return L({},n,i)}function Er(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mr,Ir=zr.current,Pr(zr,e),Pr(Ar,Ar.current),!0}function Lr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Br(e,t,Ir),i.__reactInternalMemoizedMergedChildContext=e,Sr(Ar),Sr(zr),Pr(zr,e)):Sr(Ar),Pr(Ar,n)}var Dr=null,Or=!1,Ur=!1;function Vr(e){null===Dr?Dr=[e]:Dr.push(e)}function Zr(){if(!Ur&&null!==Dr){Ur=!0;var e=0,t=_t;try{var n=Dr;for(_t=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Dr=null,Or=!1}catch(r){throw null!==Dr&&(Dr=Dr.slice(e+1)),Ge(Je,Zr),r}finally{_t=t,Ur=!1}}return null}var jr=[],Hr=0,Wr=null,qr=0,Gr=[],$r=0,Yr=null,Xr=1,Qr="";function Kr(e,t){jr[Hr++]=qr,jr[Hr++]=Wr,Wr=e,qr=t}function Jr(e,t,n){Gr[$r++]=Xr,Gr[$r++]=Qr,Gr[$r++]=Yr,Yr=e;var i=Xr;e=Qr;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var a=32-ot(t)+r;if(30<a){var o=r-r%5;a=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Xr=1<<32-ot(t)+r|n<<r|i,Qr=a+e}else Xr=1<<a|n<<r|i,Qr=e}function ea(e){null!==e.return&&(Kr(e,1),Jr(e,1,0))}function ta(e){for(;e===Wr;)Wr=jr[--Hr],jr[Hr]=null,qr=jr[--Hr],jr[Hr]=null;for(;e===Yr;)Yr=Gr[--$r],Gr[$r]=null,Qr=Gr[--$r],Gr[$r]=null,Xr=Gr[--$r],Gr[$r]=null}var na=null,ia=null,ra=!1,aa=null;function oa(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ia=lr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Xr,overflow:Qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ia=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ra){var t=ia;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=lr(n.nextSibling);var i=na;t&&ua(e,t)?oa(i,n):(e.flags=-4097&e.flags|2,ra=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,na=e}}}function ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ca(e){if(e!==na)return!1;if(!ra)return ha(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ia)){if(sa(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=lr(t.nextSibling)}if(ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=lr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=na?lr(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ia;e;)e=lr(e.nextSibling)}function da(){ia=na=null,ra=!1}function ma(e){null===aa?aa=[e]:aa.push(e)}var ga=b.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Cr(null),pa=null,_a=null,ba=null;function ka(){ba=_a=pa=null}function xa(e){var t=ya.current;Sr(ya),e._currentValue=t}function wa(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){pa=e,ba=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===pa)throw Error(a(308));_a=e,pa.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Pa=null;function Ma(e){null===Pa?Pa=[e]:Pa.push(e)}function za(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Ma(t)):(n.next=r.next,r.next=n),t.interleaved=n,Aa(e,i)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&zs)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Aa(e,n)}return null===(r=i.interleaved)?(t.next=t,Ma(i)):(t.next=r.next,r.next=t),i.interleaved=t,Aa(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,pt(e,n)}}function Ea(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,i){var r=e.updateQueue;Ia=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,u=r.shared.pending;if(null!==u){r.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var h=e.alternate;null!==h&&((u=(h=h.updateQueue).lastBaseUpdate)!==o&&(null===u?h.firstBaseUpdate=l:u.next=l,h.lastBaseUpdate=s))}if(null!==a){var c=r.baseState;for(o=0,h=l=s=null,u=a;;){var f=u.lane,d=u.eventTime;if((i&f)===f){null!==h&&(h=h.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var m=e,g=u;switch(f=t,d=n,g.tag){case 1:if("function"===typeof(m=g.payload)){c=m.call(d,c,f);break e}c=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(d,c,f):m)||void 0===f)break e;c=L({},c,f);break e;case 2:Ia=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(f=r.effects)?r.effects=[u]:f.push(u))}else d={eventTime:d,lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===h?(l=h=d,s=c):h=h.next=d,o|=f;if(null===(u=u.next)){if(null===(u=r.shared.pending))break;u=(f=u).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}if(null===h&&(s=c),r.baseState=s,r.firstBaseUpdate=l,r.lastBaseUpdate=h,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Es|=o,e.lanes=o,e.memoizedState=c}}function Da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var Oa=(new i.Component).refs;function Ua(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=el(),r=tl(e),a=Ta(i,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,r))&&(nl(t,e,r,i),Ba(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=el(),r=tl(e),a=Ta(i,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,r))&&(nl(t,e,r,i),Ba(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),i=tl(e),r=Ta(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Na(e,r,i))&&(nl(t,e,i,n),Ba(t,e,i))}};function Za(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!si(n,i)||!si(r,a))}function ja(e,t,n){var i=!1,r=Mr,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(r=Fr(t)?Ir:zr.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?Rr(e,r):Mr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Oa,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Sa(a):(a=Fr(t)?Ir:zr.current,r.context=Rr(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Va.enqueueReplaceState(r,r.state,null),La(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===Oa&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Tl(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,i){return null===t||6!==t.tag?((t=Ll(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,i){var a=n.type;return a===w?c(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===F&&$a(a)===t.type)?((i=r(t,n.props)).ref=qa(e,t,n),i.return=e,i):((i=Nl(n.type,n.key,n.props,null,e.mode,i)).ref=qa(e,t,n),i.return=e,i)}function h(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dl(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function c(e,t,n,i,a){return null===t||7!==t.tag?((t=Bl(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ll(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Nl(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case x:return(t=Dl(t,e.mode,n)).return=e,t;case F:return f(e,(0,t._init)(t._payload),n)}if(te(t)||B(t))return(t=Bl(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:s(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===r?l(e,t,n,i):null;case x:return n.key===r?h(e,t,n,i):null;case F:return d(e,t,(r=n._init)(n._payload),i)}if(te(n)||B(n))return null!==r?null:c(e,t,n,i,null);Ga(e,n)}return null}function m(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return s(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case k:return l(t,e=e.get(null===i.key?n:i.key)||null,i,r);case x:return h(t,e=e.get(null===i.key?n:i.key)||null,i,r);case F:return m(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||B(i))return c(t,e=e.get(n)||null,i,r,null);Ga(t,i)}return null}function g(r,a,u,s){for(var l=null,h=null,c=a,g=a=0,v=null;null!==c&&g<u.length;g++){c.index>g?(v=c,c=null):v=c.sibling;var y=d(r,c,u[g],s);if(null===y){null===c&&(c=v);break}e&&c&&null===y.alternate&&t(r,c),a=o(y,a,g),null===h?l=y:h.sibling=y,h=y,c=v}if(g===u.length)return n(r,c),ra&&Kr(r,g),l;if(null===c){for(;g<u.length;g++)null!==(c=f(r,u[g],s))&&(a=o(c,a,g),null===h?l=c:h.sibling=c,h=c);return ra&&Kr(r,g),l}for(c=i(r,c);g<u.length;g++)null!==(v=m(c,r,g,u[g],s))&&(e&&null!==v.alternate&&c.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?l=v:h.sibling=v,h=v);return e&&c.forEach((function(e){return t(r,e)})),ra&&Kr(r,g),l}function v(r,u,s,l){var h=B(s);if("function"!==typeof h)throw Error(a(150));if(null==(s=h.call(s)))throw Error(a(151));for(var c=h=null,g=u,v=u=0,y=null,p=s.next();null!==g&&!p.done;v++,p=s.next()){g.index>v?(y=g,g=null):y=g.sibling;var _=d(r,g,p.value,l);if(null===_){null===g&&(g=y);break}e&&g&&null===_.alternate&&t(r,g),u=o(_,u,v),null===c?h=_:c.sibling=_,c=_,g=y}if(p.done)return n(r,g),ra&&Kr(r,v),h;if(null===g){for(;!p.done;v++,p=s.next())null!==(p=f(r,p.value,l))&&(u=o(p,u,v),null===c?h=p:c.sibling=p,c=p);return ra&&Kr(r,v),h}for(g=i(r,g);!p.done;v++,p=s.next())null!==(p=m(g,r,v,p.value,l))&&(e&&null!==p.alternate&&g.delete(null===p.key?v:p.key),u=o(p,u,v),null===c?h=p:c.sibling=p,c=p);return e&&g.forEach((function(e){return t(r,e)})),ra&&Kr(r,v),h}return function e(i,a,o,s){if("object"===typeof o&&null!==o&&o.type===w&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var l=o.key,h=a;null!==h;){if(h.key===l){if((l=o.type)===w){if(7===h.tag){n(i,h.sibling),(a=r(h,o.props.children)).return=i,i=a;break e}}else if(h.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===F&&$a(l)===h.type){n(i,h.sibling),(a=r(h,o.props)).ref=qa(i,h,o),a.return=i,i=a;break e}n(i,h);break}t(i,h),h=h.sibling}o.type===w?((a=Bl(o.props.children,i.mode,s,o.key)).return=i,i=a):((s=Nl(o.type,o.key,o.props,null,i.mode,s)).ref=qa(i,a,o),s.return=i,i=s)}return u(i);case x:e:{for(h=o.key;null!==a;){if(a.key===h){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(i,a.sibling),(a=r(a,o.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=Dl(o,i.mode,s)).return=i,i=a}return u(i);case F:return e(i,a,(h=o._init)(o._payload),s)}if(te(o))return g(i,a,o,s);if(B(o))return v(i,a,o,s);Ga(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(i,a.sibling),(a=r(a,o)).return=i,i=a):(n(i,a),(a=Ll(o,i.mode,s)).return=i,i=a),u(i)):n(i,a)}}var Xa=Ya(!0),Qa=Ya(!1),Ka={},Ja=Cr(Ka),eo=Cr(Ka),to=Cr(Ka);function no(e){if(e===Ka)throw Error(a(174));return e}function io(e,t){switch(Pr(to,t),Pr(eo,e),Pr(Ja,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Ja),Pr(Ja,t)}function ro(){Sr(Ja),Sr(eo),Sr(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Pr(eo,e),Pr(Ja,n))}function oo(e){eo.current===e&&(Sr(Ja),Sr(eo))}var uo=Cr(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function ho(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var co=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,mo=0,go=null,vo=null,yo=null,po=!1,_o=!1,bo=0,ko=0;function xo(){throw Error(a(321))}function wo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ui(e[n],t[n]))return!1;return!0}function Co(e,t,n,i,r,o){if(mo=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,co.current=null===e||null===e.memoizedState?uu:su,e=n(i,r),_o){o=0;do{if(_o=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=vo=null,t.updateQueue=null,co.current=lu,e=n(i,r)}while(_o)}if(co.current=ou,t=null!==vo&&null!==vo.next,mo=0,yo=vo=go=null,po=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Po(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?go.memoizedState=yo=e:yo=yo.next=e,yo}function Mo(){if(null===vo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===yo?go.memoizedState:yo.next;if(null!==t)yo=t,vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===yo?go.memoizedState=yo=e:yo=yo.next=e}return yo}function zo(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Mo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=vo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var u=r.next;r.next=o.next,o.next=u}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var s=u=null,l=null,h=o;do{var c=h.lane;if((mo&c)===c)null!==l&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:e(i,h.action);else{var f={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===l?(s=l=f,u=i):l=l.next=f,go.lanes|=c,Es|=c}h=h.next}while(null!==h&&h!==o);null===l?u=i:l.next=s,ui(i,t.memoizedState)||(bu=!0),t.memoizedState=i,t.baseState=u,t.baseQueue=l,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,go.lanes|=o,Es|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=Mo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var u=r=r.next;do{o=e(o,u.action),u=u.next}while(u!==r);ui(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Ro(){}function Fo(e,t){var n=go,i=Mo(),r=t(),o=!ui(i.memoizedState,r);if(o&&(i.memoizedState=r,bu=!0),i=i.queue,Ho(Bo.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Oo(9,No.bind(null,n,i,r,t),void 0,null),null===As)throw Error(a(349));0!==(30&mo)||To(n,t,r)}return r}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,i){t.value=n,t.getSnapshot=i,Eo(t)&&Lo(e)}function Bo(e,t,n){return n((function(){Eo(t)&&Lo(e)}))}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ui(e,n)}catch(i){return!0}}function Lo(e){var t=Aa(e,1);null!==t&&nl(t,e,1,-1)}function Do(e){var t=Po();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,go,e),[t.memoizedState,e]}function Oo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Uo(){return Mo().memoizedState}function Vo(e,t,n,i){var r=Po();go.flags|=e,r.memoizedState=Oo(1|t,n,void 0,void 0===i?null:i)}function Zo(e,t,n,i){var r=Mo();i=void 0===i?null:i;var a=void 0;if(null!==vo){var o=vo.memoizedState;if(a=o.destroy,null!==i&&wo(i,o.deps))return void(r.memoizedState=Oo(t,n,a,i))}go.flags|=e,r.memoizedState=Oo(1|t,n,a,i)}function jo(e,t){return Vo(8390656,8,e,t)}function Ho(e,t){return Zo(2048,8,e,t)}function Wo(e,t){return Zo(4,2,e,t)}function qo(e,t){return Zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Mo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&wo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=Mo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&wo(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&mo)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ui(n,t)||(n=gt(),go.lanes|=n,Es|=n,e.baseState=!0),t)}function Jo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var i=fo.transition;fo.transition={};try{e(!1),t()}finally{_t=n,fo.transition=i}}function eu(){return Mo().memoizedState}function tu(e,t,n){var i=tl(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},iu(e))ru(t,n);else if(null!==(n=za(e,t,n,i))){nl(n,e,i,el()),au(n,t,i)}}function nu(e,t,n){var i=tl(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(iu(e))ru(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(r.hasEagerState=!0,r.eagerState=u,ui(u,o)){var s=t.interleaved;return null===s?(r.next=r,Ma(t)):(r.next=s.next,s.next=r),void(t.interleaved=r)}}catch(l){}null!==(n=za(e,t,r,i))&&(nl(n,e,i,r=el()),au(n,t,i))}}function iu(e){var t=e.alternate;return e===go||null!==t&&t===go}function ru(e,t){_o=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,pt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Po().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:jo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Po();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Po();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=tu.bind(null,go,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Po().memoizedState=e},useState:Do,useDebugValue:Yo,useDeferredValue:function(e){return Po().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=Jo.bind(null,e[1]),Po().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=go,r=Po();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&mo)||To(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,jo(Bo.bind(null,i,o,e),[e]),i.flags|=2048,Oo(9,No.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Po(),t=As.identifierPrefix;if(ra){var n=Qr;t=":"+t+"R"+(n=(Xr&~(1<<32-ot(Xr)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Ho,useImperativeHandle:$o,useInsertionEffect:Wo,useLayoutEffect:qo,useMemo:Qo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(zo)},useDebugValue:Yo,useDeferredValue:function(e){return Ko(Mo(),vo.memoizedState,e)},useTransition:function(){return[Ao(zo)[0],Mo().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Fo,useId:eu,unstable_isNewReconciler:!1},lu={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Ho,useImperativeHandle:$o,useInsertionEffect:Wo,useLayoutEffect:qo,useMemo:Qo,useReducer:Io,useRef:Uo,useState:function(){return Io(zo)},useDebugValue:Yo,useDeferredValue:function(e){var t=Mo();return null===vo?t.memoizedState=e:Ko(t,vo.memoizedState,e)},useTransition:function(){return[Io(zo)[0],Mo().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Fo,useId:eu,unstable_isNewReconciler:!1};function hu(e,t){try{var n="",i=t;do{n+=V(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function cu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function mu(e,t,n){(n=Ta(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Hs||(Hs=!0,Ws=i),fu(0,t)},n}function gu(e,t,n){(n=Ta(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){fu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fu(0,t),"function"!==typeof i&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vu(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new du;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function pu(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ta(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var _u=b.ReactCurrentOwner,bu=!1;function ku(e,t,n,i){t.child=null===e?Qa(t,null,n,i):Xa(t,e.child,n,i)}function xu(e,t,n,i,r){n=n.render;var a=t.ref;return Ca(t,r),i=Co(e,t,n,i,a,r),n=So(),null===e||bu?(ra&&n&&ea(t),t.flags|=1,ku(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Hu(e,t,r))}function wu(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Fl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nl(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cu(e,t,a,i,r))}if(a=e.child,0===(e.lanes&r)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:si)(o,i)&&e.ref===t.ref)return Hu(e,t,r)}return t.flags|=1,(e=Tl(a,i)).ref=t.ref,e.return=t,t.child=e}function Cu(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(si(a,i)&&e.ref===t.ref){if(bu=!1,t.pendingProps=i=a,0===(e.lanes&r))return t.lanes=e.lanes,Hu(e,t,r);0!==(131072&e.flags)&&(bu=!0)}}return Mu(e,t,n,i,r)}function Su(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pr(Ts,Fs),Fs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pr(Ts,Fs),Fs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,Pr(Ts,Fs),Fs|=i}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Pr(Ts,Fs),Fs|=i;return ku(e,t,r,n),t.child}function Pu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mu(e,t,n,i,r){var a=Fr(n)?Ir:zr.current;return a=Rr(t,a),Ca(t,r),n=Co(e,t,n,i,a,r),i=So(),null===e||bu?(ra&&i&&ea(t),t.flags|=1,ku(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Hu(e,t,r))}function zu(e,t,n,i,r){if(Fr(n)){var a=!0;Er(t)}else a=!1;if(Ca(t,r),null===t.stateNode)ju(e,t),ja(t,n,i),Wa(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Sa(l):l=Rr(t,l=Fr(n)?Ir:zr.current);var h=n.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate;c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==i||s!==l)&&Ha(t,o,i,l),Ia=!1;var f=t.memoizedState;o.state=f,La(t,i,o,r),s=t.memoizedState,u!==i||f!==s||Ar.current||Ia?("function"===typeof h&&(Ua(t,n,h,i),s=t.memoizedState),(u=Ia||Za(t,n,u,i,f,s,l))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=s),o.props=i,o.state=s,o.context=l,i=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Fa(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:va(t.type,u),o.props=l,c=t.pendingProps,f=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Rr(t,s=Fr(n)?Ir:zr.current);var d=n.getDerivedStateFromProps;(h="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==c||f!==s)&&Ha(t,o,i,s),Ia=!1,f=t.memoizedState,o.state=f,La(t,i,o,r);var m=t.memoizedState;u!==c||f!==m||Ar.current||Ia?("function"===typeof d&&(Ua(t,n,d,i),m=t.memoizedState),(l=Ia||Za(t,n,l,i,f,m,s)||!1)?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,m,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,m,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),o.props=i,o.state=m,o.context=s,i=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return Au(e,t,n,i,a,r)}function Au(e,t,n,i,r,a){Pu(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&Lr(t,n,!1),Hu(e,t,a);i=t.stateNode,_u.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):ku(e,t,u,a),t.memoizedState=i.state,r&&Lr(t,n,!0),t.child}function Iu(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),io(e,t.containerInfo)}function Ru(e,t,n,i,r){return da(),ma(r),t.flags|=256,ku(e,t,n,i),t.child}var Fu,Tu,Nu,Bu={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t,n){var i,r=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Pr(uo,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=r.children,e=r.fallback,u?(r=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&r)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=El(s,r,0,null),e=Bl(e,r,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Eu(n),t.memoizedState=Bu,e):Du(t,s));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,u){if(n)return 256&t.flags?(t.flags&=-257,Ou(e,t,u,i=cu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=El({mode:"visible",children:i.children},r,0,null),(o=Bl(o,r,u,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Eu(u),t.memoizedState=Bu,o);if(0===(1&t.mode))return Ou(e,t,u,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var s=i.dgst;return i=s,Ou(e,t,u,i=cu(o=Error(a(419)),i,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(i=As)){switch(u&-u){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|u))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Aa(e,r),nl(i,e,r,-1))}return gl(),Ou(e,t,u,i=cu(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ml.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,ia=lr(r.nextSibling),na=t,ra=!0,aa=null,null!==e&&(Gr[$r++]=Xr,Gr[$r++]=Qr,Gr[$r++]=Yr,Xr=e.id,Qr=e.overflow,Yr=t),(t=Du(t,i.children)).flags|=4096,t)}(e,t,s,r,i,o,n);if(u){u=r.fallback,s=t.mode,i=(o=e.child).sibling;var l={mode:"hidden",children:r.children};return 0===(1&s)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=l,t.deletions=null):(r=Tl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==i?u=Tl(i,u):(u=Bl(u,s,n,null)).flags|=2,u.return=t,r.return=t,r.sibling=u,t.child=r,r=u,u=t.child,s=null===(s=e.child.memoizedState)?Eu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Bu,r}return e=(u=e.child).sibling,r=Tl(u,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Du(e,t){return(t=El({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ou(e,t,n,i){return null!==i&&ma(i),Xa(t,e.child,null,n),(e=Du(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),wa(e.return,t,n)}function Vu(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Zu(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(ku(e,t,i.children,n),0!==(2&(i=uo.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Pr(uo,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vu(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===so(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ju(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Es|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Tl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function qu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Gu(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qu(t),null;case 1:case 17:return Fr(t.type)&&Tr(),qu(t),null;case 3:return i=t.stateNode,ro(),Sr(Ar),Sr(zr),ho(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ca(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),qu(t),null;case 5:oo(t);var r=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Tu(e,t,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return qu(t),null}if(e=no(Ja.current),ca(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[fr]=t,i[dr]=o,e=0!==(1&t.mode),n){case"dialog":Oi("cancel",i),Oi("close",i);break;case"iframe":case"object":case"embed":Oi("load",i);break;case"video":case"audio":for(r=0;r<Bi.length;r++)Oi(Bi[r],i);break;case"source":Oi("error",i);break;case"img":case"image":case"link":Oi("error",i),Oi("load",i);break;case"details":Oi("toggle",i);break;case"input":X(i,o),Oi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Oi("invalid",i);break;case"textarea":re(i,o),Oi("invalid",i)}for(var s in pe(n,o),r=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?i.textContent!==l&&(!0!==o.suppressHydrationWarning&&Ki(i.textContent,l,e),r=["children",l]):"number"===typeof l&&i.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Ki(i.textContent,l,e),r=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Oi("scroll",i)}switch(n){case"input":q(i),J(i,o,!0);break;case"textarea":q(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Ji)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{s=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=s.createElement(n,{is:i.is}):(e=s.createElement(n),"select"===n&&(s=e,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):e=s.createElementNS(e,n),e[fr]=t,e[dr]=i,Fu(e,t),t.stateNode=e;e:{switch(s=_e(n,i),n){case"dialog":Oi("cancel",e),Oi("close",e),r=i;break;case"iframe":case"object":case"embed":Oi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Bi.length;r++)Oi(Bi[r],e);r=i;break;case"source":Oi("error",e),r=i;break;case"img":case"image":case"link":Oi("error",e),Oi("load",e),r=i;break;case"details":Oi("toggle",e),r=i;break;case"input":X(e,i),r=Y(e,i),Oi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=L({},i,{value:void 0}),Oi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Oi("invalid",e)}for(o in pe(n,r),l=r)if(l.hasOwnProperty(o)){var h=l[o];"style"===o?ve(e,h):"dangerouslySetInnerHTML"===o?null!=(h=h?h.__html:void 0)&&ce(e,h):"children"===o?"string"===typeof h?("textarea"!==n||""!==h)&&fe(e,h):"number"===typeof h&&fe(e,""+h):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=h&&"onScroll"===o&&Oi("scroll",e):null!=h&&_(e,o,h,s))}switch(n){case"input":q(e),J(e,i,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+H(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qu(t),null;case 6:if(e&&null!=t.stateNode)Nu(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),ca(t)){if(i=t.stateNode,n=t.memoizedProps,i[fr]=t,(o=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Ki(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ki(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[fr]=t,t.stateNode=i}return qu(t),null;case 13:if(Sr(uo),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ca(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fr]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qu(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ns&&(Ns=3):gl())),null!==t.updateQueue&&(t.flags|=4),qu(t),null);case 4:return ro(),null===e&&Zi(t.stateNode.containerInfo),qu(t),null;case 10:return xa(t.type._context),qu(t),null;case 19:if(Sr(uo),null===(o=t.memoizedState))return qu(t),null;if(i=0!==(128&t.flags),null===(s=o.rendering))if(i)Wu(o,!1);else{if(0!==Ns||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(i=s.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pr(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Zs&&(t.flags|=128,i=!0,Wu(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=so(s))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ra)return qu(t),null}else 2*Qe()-o.renderingStartTime>Zs&&1073741824!==n&&(t.flags|=128,i=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=uo.current,Pr(uo,i?1&n|2:1&n),t):(qu(t),null);case 22:case 23:return cl(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Fs)&&(qu(t),6&t.subtreeFlags&&(t.flags|=8192)):qu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Fr(t.type)&&Tr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ro(),Sr(Ar),Sr(zr),ho(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Sr(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(uo),null;case 4:return ro(),null;case 10:return xa(t.type._context),null;case 22:case 23:return cl(),null;default:return null}}Fu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Tu=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":r=Y(e,r),i=Y(e,i),o=[];break;case"select":r=L({},r,{value:void 0}),i=L({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Ji)}for(h in pe(n,i),n=null,r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&null!=r[h])if("style"===h){var s=r[h];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in i){var l=i[h];if(s=null!=r?r[h]:void 0,i.hasOwnProperty(h)&&l!==s&&(null!=l||null!=s))if("style"===h)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Oi("scroll",e),o||s===l||(o=[])):(o=o||[]).push(h,l))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}},Nu=function(e,t,n,i){n!==i&&(t.flags|=4)};var Yu=!1,Xu=!1,Qu="function"===typeof WeakSet?WeakSet:Set,Ku=null;function Ju(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Cl(e,t,i)}else n.current=null}function es(e,t,n){try{n()}catch(i){Cl(e,t,i)}}var ts=!1;function ns(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&es(t,n,a)}r=r.next}while(r!==i)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rs(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fr],delete t[dr],delete t[gr],delete t[vr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ji));else if(4!==i&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function ls(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var hs=null,cs=!1;function fs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(u){}switch(n.tag){case 5:Xu||Ju(n,t);case 6:var i=hs,r=cs;hs=null,fs(e,t,n),cs=r,null!==(hs=i)&&(cs?(e=hs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hs.removeChild(n.stateNode));break;case 18:null!==hs&&(cs?(e=hs,n=n.stateNode,8===e.nodeType?sr(e.parentNode,n):1===e.nodeType&&sr(e,n),Zt(e)):sr(hs,n.stateNode));break;case 4:i=hs,r=cs,hs=n.stateNode.containerInfo,cs=!0,fs(e,t,n),hs=i,cs=r;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var a=r,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),r=r.next}while(r!==i)}fs(e,t,n);break;case 1:if(!Xu&&(Ju(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){Cl(n,t,u)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:1&n.mode?(Xu=(i=Xu)||null!==n.memoizedState,fs(e,t,n),Xu=i):fs(e,t,n);break;default:fs(e,t,n)}}function ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach((function(t){var i=zl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function gs(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:hs=s.stateNode,cs=!1;break e;case 3:case 4:hs=s.stateNode.containerInfo,cs=!0;break e}s=s.return}if(null===hs)throw Error(a(160));ds(o,u,r),hs=null,cs=!1;var l=r.alternate;null!==l&&(l.return=null),r.return=null}catch(h){Cl(r,t,h)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vs(t,e),t=t.sibling}function vs(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gs(t,e),ys(e),4&i){try{ns(3,e,e.return),is(3,e)}catch(v){Cl(e,e.return,v)}try{ns(5,e,e.return)}catch(v){Cl(e,e.return,v)}}break;case 1:gs(t,e),ys(e),512&i&&null!==n&&Ju(n,n.return);break;case 5:if(gs(t,e),ys(e),512&i&&null!==n&&Ju(n,n.return),32&e.flags){var r=e.stateNode;try{fe(r,"")}catch(v){Cl(e,e.return,v)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&Q(r,o),_e(s,u);var h=_e(s,o);for(u=0;u<l.length;u+=2){var c=l[u],f=l[u+1];"style"===c?ve(r,f):"dangerouslySetInnerHTML"===c?ce(r,f):"children"===c?fe(r,f):_(r,c,f,h)}switch(s){case"input":K(r,o);break;case"textarea":ae(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var m=o.value;null!=m?ne(r,!!o.multiple,m,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[dr]=o}catch(v){Cl(e,e.return,v)}}break;case 6:if(gs(t,e),ys(e),4&i){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(v){Cl(e,e.return,v)}}break;case 3:if(gs(t,e),ys(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(v){Cl(e,e.return,v)}break;case 4:default:gs(t,e),ys(e);break;case 13:gs(t,e),ys(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Vs=Qe())),4&i&&ms(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(h=Xu)||c,gs(t,e),Xu=h):gs(t,e),ys(e),8192&i){if(h=null!==e.memoizedState,(e.stateNode.isHidden=h)&&!c&&0!==(1&e.mode))for(Ku=e,c=e.child;null!==c;){for(f=Ku=c;null!==Ku;){switch(m=(d=Ku).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Ju(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){i=d,n=d.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Cl(i,n,v)}}break;case 5:Ju(d,d.return);break;case 22:if(null!==d.memoizedState){ks(f);continue}}null!==m?(m.return=d,Ku=m):ks(f)}c=c.sibling}e:for(c=null,f=e;;){if(5===f.tag){if(null===c){c=f;try{r=f.stateNode,h?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=f.stateNode,u=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=ge("display",u))}catch(v){Cl(e,e.return,v)}}}else if(6===f.tag){if(null===c)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(v){Cl(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gs(t,e),ys(e),4&i&&ms(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(fe(r,""),i.flags&=-33),ls(e,us(e),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Cl(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ps(e,t,n){Ku=e,_s(e,t,n)}function _s(e,t,n){for(var i=0!==(1&e.mode);null!==Ku;){var r=Ku,a=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Yu;if(!o){var u=r.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Yu;var l=Xu;if(Yu=o,(Xu=s)&&!l)for(Ku=r;null!==Ku;)s=(o=Ku).child,22===o.tag&&null!==o.memoizedState?xs(r):null!==s?(s.return=o,Ku=s):xs(r);for(;null!==a;)Ku=a,_s(a,t,n),a=a.sibling;Ku=r,Yu=u,Xu=l}bs(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,Ku=a):bs(e)}}function bs(e){for(;null!==Ku;){var t=Ku;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Xu)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Da(t,o,i);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Da(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var h=t.alternate;if(null!==h){var c=h.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&Zt(f)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&rs(t)}catch(d){Cl(t,t.return,d)}}if(t===e){Ku=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ku=n;break}Ku=t.return}}function ks(e){for(;null!==Ku;){var t=Ku;if(t===e){Ku=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ku=n;break}Ku=t.return}}function xs(e){for(;null!==Ku;){var t=Ku;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Cl(t,n,s)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(s){Cl(t,r,s)}}var a=t.return;try{rs(t)}catch(s){Cl(t,a,s)}break;case 5:var o=t.return;try{rs(t)}catch(s){Cl(t,o,s)}}}catch(s){Cl(t,t.return,s)}if(t===e){Ku=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ku=u;break}Ku=t.return}}var ws,Cs=Math.ceil,Ss=b.ReactCurrentDispatcher,Ps=b.ReactCurrentOwner,Ms=b.ReactCurrentBatchConfig,zs=0,As=null,Is=null,Rs=0,Fs=0,Ts=Cr(0),Ns=0,Bs=null,Es=0,Ls=0,Ds=0,Os=null,Us=null,Vs=0,Zs=1/0,js=null,Hs=!1,Ws=null,qs=null,Gs=!1,$s=null,Ys=0,Xs=0,Qs=null,Ks=-1,Js=0;function el(){return 0!==(6&zs)?Qe():-1!==Ks?Ks:Ks=Qe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&zs)&&0!==Rs?Rs&-Rs:null!==ga.transition?(0===Js&&(Js=gt()),Js):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nl(e,t,n,i){if(50<Xs)throw Xs=0,Qs=null,Error(a(185));yt(e,n,i),0!==(2&zs)&&e===As||(e===As&&(0===(2&zs)&&(Ls|=n),4===Ns&&ul(e,Rs)),il(e,i),1===n&&0===zs&&0===(1&t.mode)&&(Zs=Qe()+500,Or&&Zr()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=r[o];-1===s?0!==(u&n)&&0===(u&i)||(r[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var i=ft(e,e===As?Rs:0);if(0===i)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Or=!0,Vr(e)}(sl.bind(null,e)):Vr(sl.bind(null,e)),or((function(){0===(6&zs)&&Zr()})),n=null;else{switch(bt(i)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Al(n,rl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rl(e,t){if(Ks=-1,Js=0,0!==(6&zs))throw Error(a(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var i=ft(e,e===As?Rs:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=vl(e,i);else{t=i;var r=zs;zs|=2;var o=ml();for(As===e&&Rs===t||(js=null,Zs=Qe()+500,fl(e,t));;)try{pl();break}catch(s){dl(e,s)}ka(),Ss.current=o,zs=r,null!==Is?t=0:(As=null,Rs=0,t=Ns)}if(0!==t){if(2===t&&(0!==(r=mt(e))&&(i=r,t=al(e,r))),1===t)throw n=Bs,fl(e,0),ul(e,i),il(e,Qe()),n;if(6===t)ul(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!ui(a(),r))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vl(e,i))&&(0!==(o=mt(e))&&(i=o,t=al(e,o))),1===t))throw n=Bs,fl(e,0),ul(e,i),il(e,Qe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:kl(e,Us,js);break;case 3:if(ul(e,i),(130023424&i)===i&&10<(t=Vs+500-Qe())){if(0!==ft(e,0))break;if(((r=e.suspendedLanes)&i)!==i){el(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(kl.bind(null,e,Us,js),t);break}kl(e,Us,js);break;case 4:if(ul(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var u=31-ot(i);o=1<<u,(u=t[u])>r&&(r=u),i&=~o}if(i=r,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Cs(i/1960))-i)){e.timeoutHandle=ir(kl.bind(null,e,Us,js),i);break}kl(e,Us,js);break;default:throw Error(a(329))}}}return il(e,Qe()),e.callbackNode===n?rl.bind(null,e):null}function al(e,t){var n=Os;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Us,Us=n,null!==t&&ol(t)),e}function ol(e){null===Us?Us=e:Us.push.apply(Us,e)}function ul(e,t){for(t&=~Ds,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function sl(e){if(0!==(6&zs))throw Error(a(327));xl();var t=ft(e,0);if(0===(1&t))return il(e,Qe()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var i=mt(e);0!==i&&(t=i,n=al(e,i))}if(1===n)throw n=Bs,fl(e,0),ul(e,t),il(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,Us,js),il(e,Qe()),null}function ll(e,t){var n=zs;zs|=1;try{return e(t)}finally{0===(zs=n)&&(Zs=Qe()+500,Or&&Zr())}}function hl(e){null!==$s&&0===$s.tag&&0===(6&zs)&&xl();var t=zs;zs|=1;var n=Ms.transition,i=_t;try{if(Ms.transition=null,_t=1,e)return e()}finally{_t=i,Ms.transition=n,0===(6&(zs=t))&&Zr()}}function cl(){Fs=Ts.current,Sr(Ts)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Is)for(n=Is.return;null!==n;){var i=n;switch(ta(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Tr();break;case 3:ro(),Sr(Ar),Sr(zr),ho();break;case 5:oo(i);break;case 4:ro();break;case 13:case 19:Sr(uo);break;case 10:xa(i.type._context);break;case 22:case 23:cl()}n=n.return}if(As=e,Is=e=Tl(e.current,null),Rs=Fs=t,Ns=0,Bs=null,Ds=Ls=Es=0,Us=Os=null,null!==Pa){for(t=0;t<Pa.length;t++)if(null!==(i=(n=Pa[t]).interleaved)){n.interleaved=null;var r=i.next,a=n.pending;if(null!==a){var o=a.next;a.next=r,i.next=o}n.pending=i}Pa=null}return e}function dl(e,t){for(;;){var n=Is;try{if(ka(),co.current=ou,po){for(var i=go.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}po=!1}if(mo=0,yo=vo=go=null,_o=!1,bo=0,Ps.current=null,null===n||null===n.return){Ns=1,Bs=t,Is=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=Rs,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var h=l,c=s,f=c.tag;if(0===(1&c.mode)&&(0===f||11===f||15===f)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=yu(u);if(null!==m){m.flags&=-257,pu(m,u,s,0,t),1&m.mode&&vu(o,h,t),l=h;var g=(t=m).updateQueue;if(null===g){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}if(0===(1&t)){vu(o,h,t),gl();break e}l=Error(a(426))}else if(ra&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),pu(y,u,s,0,t),ma(hu(l,s));break e}}o=l=hu(l,s),4!==Ns&&(Ns=2),null===Os?Os=[o]:Os.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ea(o,mu(0,l,t));break e;case 1:s=l;var p=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof p.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===qs||!qs.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ea(o,gu(o,s,t));break e}}o=o.return}while(null!==o)}bl(n)}catch(b){t=b,Is===n&&null!==n&&(Is=n=n.return);continue}break}}function ml(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function gl(){0!==Ns&&3!==Ns&&2!==Ns||(Ns=4),null===As||0===(268435455&Es)&&0===(268435455&Ls)||ul(As,Rs)}function vl(e,t){var n=zs;zs|=2;var i=ml();for(As===e&&Rs===t||(js=null,fl(e,t));;)try{yl();break}catch(r){dl(e,r)}if(ka(),zs=n,Ss.current=i,null!==Is)throw Error(a(261));return As=null,Rs=0,Ns}function yl(){for(;null!==Is;)_l(Is)}function pl(){for(;null!==Is&&!Ye();)_l(Is)}function _l(e){var t=ws(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,null===t?bl(e):Is=t,Ps.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Fs)))return void(Is=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Is=n);if(null===e)return Ns=6,void(Is=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Is=t);Is=t=e}while(null!==t);0===Ns&&(Ns=5)}function kl(e,t,n){var i=_t,r=Ms.transition;try{Ms.transition=null,_t=1,function(e,t,n,i){do{xl()}while(null!==$s);if(0!==(6&zs))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),a=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~a}}(e,o),e===As&&(Is=As=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Al(tt,(function(){return xl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ms.transition,Ms.transition=null;var u=_t;_t=1;var s=zs;zs|=4,Ps.current=null,function(e,t){if(er=Ht,di(e=fi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var u=0,s=-1,l=-1,h=0,c=0,f=e,d=null;t:for(;;){for(var m;f!==n||0!==r&&3!==f.nodeType||(s=u+r),f!==o||0!==i&&3!==f.nodeType||(l=u+i),3===f.nodeType&&(u+=f.nodeValue.length),null!==(m=f.firstChild);)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++h===r&&(s=u),d===o&&++c===i&&(l=u),null!==(m=f.nextSibling))break;d=(f=d).parentNode}f=m}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,Ku=t;null!==Ku;)if(e=(t=Ku).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ku=e;else for(;null!==Ku;){t=Ku;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,y=g.memoizedState,p=t.stateNode,_=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:va(t.type,v),y);p.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(k){Cl(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Ku=e;break}Ku=t.return}g=ts,ts=!1}(e,n),vs(n,e),mi(tr),Ht=!!er,tr=er=null,e.current=n,ps(n,e,r),Xe(),zs=s,_t=u,Ms.transition=o}else e.current=n;if(Gs&&(Gs=!1,$s=e,Ys=r),0===(o=e.pendingLanes)&&(qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i((r=t[n]).value,{componentStack:r.stack,digest:r.digest});if(Hs)throw Hs=!1,e=Ws,Ws=null,e;0!==(1&Ys)&&0!==e.tag&&xl(),0!==(1&(o=e.pendingLanes))?e===Qs?Xs++:(Xs=0,Qs=e):Xs=0,Zr()}(e,t,n,i)}finally{Ms.transition=r,_t=i}return null}function xl(){if(null!==$s){var e=bt(Ys),t=Ms.transition,n=_t;try{if(Ms.transition=null,_t=16>e?16:e,null===$s)var i=!1;else{if(e=$s,$s=null,Ys=0,0!==(6&zs))throw Error(a(331));var r=zs;for(zs|=4,Ku=e.current;null!==Ku;){var o=Ku,u=o.child;if(0!==(16&Ku.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var h=s[l];for(Ku=h;null!==Ku;){var c=Ku;switch(c.tag){case 0:case 11:case 15:ns(8,c,o)}var f=c.child;if(null!==f)f.return=c,Ku=f;else for(;null!==Ku;){var d=(c=Ku).sibling,m=c.return;if(as(c),c===h){Ku=null;break}if(null!==d){d.return=m,Ku=d;break}Ku=m}}}var g=o.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}Ku=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ku=u;else e:for(;null!==Ku;){if(0!==(2048&(o=Ku).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var p=o.sibling;if(null!==p){p.return=o.return,Ku=p;break e}Ku=o.return}}var _=e.current;for(Ku=_;null!==Ku;){var b=(u=Ku).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ku=b;else e:for(u=_;null!==Ku;){if(0!==(2048&(s=Ku).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Cl(s,s.return,x)}if(s===u){Ku=null;break e}var k=s.sibling;if(null!==k){k.return=s.return,Ku=k;break e}Ku=s.return}}if(zs=r,Zr(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(x){}i=!0}return i}finally{_t=n,Ms.transition=t}}return!1}function wl(e,t,n){e=Na(e,t=mu(0,t=hu(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),il(e,t))}function Cl(e,t,n){if(3===e.tag)wl(e,e,n);else for(;null!==t;){if(3===t.tag){wl(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===qs||!qs.has(i))){t=Na(t,e=gu(t,e=hu(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function Sl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Rs&n)===n&&(4===Ns||3===Ns&&(130023424&Rs)===Rs&&500>Qe()-Vs?fl(e,0):Ds|=n),il(e,t)}function Pl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var n=el();null!==(e=Aa(e,t))&&(yt(e,t,n),il(e,n))}function Ml(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pl(e,n)}function zl(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),Pl(e,n)}function Al(e,t){return Ge(e,t)}function Il(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,i){return new Il(e,t,n,i)}function Fl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tl(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nl(e,t,n,i,r,o){var u=2;if(i=e,"function"===typeof e)Fl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case w:return Bl(n.children,r,o,t);case C:u=8,r|=8;break;case S:return(e=Rl(12,n,t,2|r)).elementType=S,e.lanes=o,e;case A:return(e=Rl(13,n,t,r)).elementType=A,e.lanes=o,e;case I:return(e=Rl(19,n,t,r)).elementType=I,e.lanes=o,e;case T:return El(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:u=10;break e;case M:u=9;break e;case z:u=11;break e;case R:u=14;break e;case F:u=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(u,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Bl(e,t,n,i){return(e=Rl(7,e,i,t)).lanes=n,e}function El(e,t,n,i){return(e=Rl(22,e,i,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Dl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ol(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,i,r,a,o,u,s){return e=new Ol(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Vl(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Zl(e){if(!e)return Mr;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Fr(n))return Br(e,n,t)}return t}function jl(e,t,n,i,r,a,o,u,s){return(e=Ul(n,i,!0,e,0,a,0,u,s)).context=Zl(null),n=e.current,(a=Ta(i=el(),r=tl(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,r),e.current.lanes=r,yt(e,r,i),il(e,i),e}function Hl(e,t,n,i){var r=t.current,a=el(),o=tl(r);return n=Zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ta(a,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Na(r,t,o))&&(nl(e,r,o,a),Ba(e,r,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}ws=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ar.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Iu(t),da();break;case 5:ao(t);break;case 1:Fr(t.type)&&Er(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Pr(ya,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Pr(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lu(e,t,n):(Pr(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Pr(uo,1&uo.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Zu(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Pr(uo,uo.current),i)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Hu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ra&&0!==(1048576&t.flags)&&Jr(t,qr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ju(e,t),e=t.pendingProps;var r=Rr(t,zr.current);Ca(t,n),r=Co(null,t,i,e,r,n);var o=So();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fr(i)?(o=!0,Er(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ra(t),r.updater=Va,t.stateNode=r,r._reactInternals=t,Wa(t,i,e,n),t=Au(null,t,i,!0,o,n)):(t.tag=0,ra&&o&&ea(t),ku(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(ju(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Fl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===z)return 11;if(e===R)return 14}return 2}(i),e=va(i,e),r){case 0:t=Mu(null,t,i,e,n);break e;case 1:t=zu(null,t,i,e,n);break e;case 11:t=xu(null,t,i,e,n);break e;case 14:t=wu(null,t,i,va(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Mu(e,t,i,r=t.elementType===i?r:va(i,r),n);case 1:return i=t.type,r=t.pendingProps,zu(e,t,i,r=t.elementType===i?r:va(i,r),n);case 3:e:{if(Iu(t),null===e)throw Error(a(387));i=t.pendingProps,r=(o=t.memoizedState).element,Fa(e,t),La(t,i,null,n);var u=t.memoizedState;if(i=u.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,i,n,r=hu(Error(a(423)),t));break e}if(i!==r){t=Ru(e,t,i,n,r=hu(Error(a(424)),t));break e}for(ia=lr(t.stateNode.containerInfo.firstChild),na=t,ra=!0,aa=null,n=Qa(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),i===r){t=Hu(e,t,n);break e}ku(e,t,i,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,u=r.children,nr(i,r)?u=null:null!==o&&nr(i,o)&&(t.flags|=32),Pu(e,t),ku(e,t,u,n),t.child;case 6:return null===e&&la(t),null;case 13:return Lu(e,t,n);case 4:return io(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Xa(t,null,i,n):ku(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,xu(e,t,i,r=t.elementType===i?r:va(i,r),n);case 7:return ku(e,t,t.pendingProps,n),t.child;case 8:case 12:return ku(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,u=r.value,Pr(ya,i._currentValue),i._currentValue=u,null!==o)if(ui(o.value,u)){if(o.children===r.children&&!Ar.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===i){if(1===o.tag){(l=Ta(-1,n&-n)).tag=2;var h=o.updateQueue;if(null!==h){var c=(h=h.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),h.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),wa(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),wa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}ku(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ca(t,n),i=i(r=Sa(r)),t.flags|=1,ku(e,t,i,n),t.child;case 14:return r=va(i=t.type,t.pendingProps),wu(e,t,i,r=va(i.type,r),n);case 15:return Cu(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:va(i,r),ju(e,t),t.tag=1,Fr(i)?(e=!0,Er(t)):e=!1,Ca(t,n),ja(t,i,r),Wa(t,i,r,n),Au(null,t,i,!0,e,n);case 19:return Zu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var $l="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Xl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function eh(e,t,n,i,r){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof r){var u=r;r=function(){var e=Wl(o);u.call(e)}}Hl(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var a=i;i=function(){var e=Wl(o);a.call(e)}}var o=jl(t,i,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[mr]=o.current,Zi(8===e.nodeType?e.parentNode:e),hl(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var u=i;i=function(){var e=Wl(s);u.call(e)}}var s=Ul(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=s,e[mr]=s.current,Zi(8===e.nodeType?e.parentNode:e),hl((function(){Hl(t,s,n,i)})),s}(n,t,e,r,i);return Wl(o)}Xl.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},Xl.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){Hl(null,e,null,null)})),t[mr]=null}},Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&Lt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(pt(t,1|n),il(t,Qe()),0===(6&zs)&&(Zs=Qe()+500,Zr()))}break;case 13:hl((function(){var t=Aa(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Gl(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nl(t,e,134217728,el());Gl(e,134217728)}},wt=function(e){if(13===e.tag){var t=tl(e),n=Aa(e,t);if(null!==n)nl(n,e,t,el());Gl(e,t)}},Ct=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},xe=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=kr(i);if(!r)throw Error(a(90));G(i),K(i,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ze=ll,Ae=hl;var th={usingClientEntryPoint:!1,Events:[_r,br,kr,Pe,Me,ll]},nh={findFiberByHostInstance:pr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ih={bundleType:nh.bundleType,version:nh.version,rendererPackageName:nh.rendererPackageName,rendererConfig:nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{rt=rh.inject(ih),at=rh}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=th,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(a(200));return Vl(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(a(299));var n=!1,i="",r=$l;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,i,r),e[mr]=t.current,Zi(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!Kl(t))throw Error(a(200));return eh(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",u=$l;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=jl(t,null,e,1,null!=n?n:null,r,0,o,u),e[mr]=t.current,Zi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Xl(t)},t.render=function(e,t,n){if(!Kl(t))throw Error(a(200));return eh(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Kl(e))throw Error(a(40));return!!e._reactRootContainer&&(hl((function(){eh(null,null,e,!1,(function(){e._reactRootContainer=null,e[mr]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Kl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return eh(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var i=n(4164);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var i=n(2791),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var i,a={},l=null,h=null;for(i in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(h=t.ref),t)o.call(t,i)&&!s.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:r,type:e,key:l,ref:h,props:a,_owner:u.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function p(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},p.prototype=y.prototype;var b=_.prototype=new p;b.constructor=_,g(b,y.prototype),b.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,w={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,i){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&!C.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=i;else if(1<s){for(var l=Array(s),h=0;h<s;h++)l[h]=arguments[h+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:w.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function z(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,r,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case i:s=!0}}if(s)return o=o(s=e),e=""===a?"."+z(s,0):a,k(o)?(r="",null!=e&&(r=e.replace(M,"$&/")+"/"),A(o,t,r,"",(function(e){return e}))):null!=o&&(P(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(M,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",k(e))for(var l=0;l<e.length;l++){var h=a+z(u=e[l],l);s+=A(u,t,r,h,o)}else if(h=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof h)for(e=h.call(e),l=0;!(u=e.next()).done;)s+=A(u=u.value,t,r,h=a+z(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function I(e,t,n){if(null==e)return e;var i=[],r=0;return A(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F={current:null},T={transition:null},N={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:T,ReactCurrentOwner:w};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)x.call(t,l)&&!C.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){s=Array(l);for(var h=0;h<l;h++)s[h]=arguments[h+2];r.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:r,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return F.current.useCallback(e,t)},t.useContext=function(e){return F.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return F.current.useDeferredValue(e)},t.useEffect=function(e,t){return F.current.useEffect(e,t)},t.useId=function(){return F.current.useId()},t.useImperativeHandle=function(e,t,n){return F.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return F.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return F.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return F.current.useMemo(e,t)},t.useReducer=function(e,t,n){return F.current.useReducer(e,t,n)},t.useRef=function(e){return F.current.useRef(e)},t.useState=function(e){return F.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return F.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return F.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var u=2*(i+1)-1,s=e[u],l=u+1,h=e[l];if(0>a(s,n))l<r&&0>a(h,s)?(e[i]=h,e[l]=n,i=l):(e[i]=s,e[u]=n,i=u);else{if(!(l<r&&0>a(h,n)))break e;e[i]=h,e[l]=n,i=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],h=[],c=1,f=null,d=3,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,p="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(h);null!==t;){if(null===t.callback)r(h);else{if(!(t.startTime<=e))break;r(h),t.sortIndex=t.expirationTime,n(l,t)}t=i(h)}}function k(e){if(v=!1,b(e),!g)if(null!==i(l))g=!0,T(x);else{var t=i(h);null!==t&&N(k,t.startTime-e)}}function x(e,n){g=!1,v&&(v=!1,p(P),P=-1),m=!0;var a=d;try{for(b(n),f=i(l);null!==f&&(!(f.expirationTime>n)||e&&!A());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var u=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?f.callback=u:f===i(l)&&r(l),b(n)}else r(l);f=i(l)}if(null!==f)var s=!0;else{var c=i(h);null!==c&&N(k,c.startTime-n),s=!1}return s}finally{f=null,d=a,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,C=!1,S=null,P=-1,M=5,z=-1;function A(){return!(t.unstable_now()-z<M)}function I(){if(null!==S){var e=t.unstable_now();z=e;var n=!0;try{n=S(!0,e)}finally{n?w():(C=!1,S=null)}}else C=!1}if("function"===typeof _)w=function(){_(I)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,F=R.port2;R.port1.onmessage=I,w=function(){F.postMessage(null)}}else w=function(){y(I,0)};function T(e){S=e,C||(C=!0,w())}function N(e,n){P=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,T(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return i(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,r,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:c++,callback:r,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(h,e),null===i(l)&&e===i(h)&&(v?(p(P),P=-1):v=!0,N(k,a-o))):(e.sortIndex=u,n(l,e),g||m||(g=!0,T(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6235:function(e){var t={};e.exports=t,t.parse=function(e,n){for(var i=t.bin.readUshort,r=t.bin.readUint,a=0,o={},u=new Uint8Array(e),s=u.length-4;101010256!=r(u,s);)s--;a=s;a+=4;var l=i(u,a+=4),h=(i(u,a+=2),r(u,a+=2)),c=r(u,a+=4);a+=4,a=c;for(var f=0;f<l;f++){r(u,a);a+=4,a+=4,a+=4;r(u,a+=4),h=r(u,a+=4);var d=r(u,a+=4),m=i(u,a+=4),g=i(u,a+2),v=i(u,a+4);a+=6;var y=r(u,a+=8);a+=4,a+=m+g+v,t._readLocal(u,y,o,h,d,n)}return o},t._readLocal=function(e,n,i,r,a,o){var u=t.bin.readUshort,s=t.bin.readUint,l=(s(e,n),u(e,n+=4),u(e,n+=2),u(e,n+=2));s(e,n+=2),s(e,n+=4);n+=4;var h=u(e,n+=8),c=u(e,n+=2);n+=2;var f=t.bin.readUTF8(e,n,h);if(n+=h,n+=c,o)i[f]={size:a,csize:r};else{var d=new Uint8Array(e.buffer,n);if(0==l)i[f]=new Uint8Array(d.buffer.slice(n,n+r));else{if(8!=l)throw"unknown compression method: "+l;var m=new Uint8Array(a);t.inflateRaw(d,m),i[f]=m}}},t.inflateRaw=function(e,n){return t.F.inflate(e,n)},t.inflate=function(e,n){e[0],e[1];return t.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),n)},t.deflate=function(e,n){null==n&&(n={level:6});var i=0,r=new Uint8Array(50+Math.floor(1.1*e.length));r[i]=120,r[i+1]=156,i+=2,i=t.F.deflateRaw(e,r,i,n.level);var a=t.adler(e,0,e.length);return r[i+0]=a>>>24&255,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a>>>0&255,new Uint8Array(r.buffer,0,i+4)},t.deflateRaw=function(e,n){null==n&&(n={level:6});var i=new Uint8Array(50+Math.floor(1.1*e.length)),r=t.F.deflateRaw(e,i,r,n.level);return new Uint8Array(i.buffer,0,r)},t.encode=function(e,n){null==n&&(n=!1);var i=0,r=t.bin.writeUint,a=t.bin.writeUshort,o={};for(var u in e){var s=!t._noNeed(u)&&!n,l=e[u],h=t.crc.crc(l,0,l.length);o[u]={cpr:s,usize:l.length,crc:h,file:s?t.deflateRaw(l):l}}for(var u in o)i+=o[u].file.length+30+46+2*t.bin.sizeUTF8(u);i+=22;var c=new Uint8Array(i),f=0,d=[];for(var u in o){var m=o[u];d.push(f),f=t._writeHeader(c,f,u,m,0)}var g=0,v=f;for(var u in o){m=o[u];d.push(f),f=t._writeHeader(c,f,u,m,1,d[g++])}var y=f-v;return r(c,f,101010256),f+=4,a(c,f+=4,g),a(c,f+=2,g),r(c,f+=2,y),r(c,f+=4,v),f+=4,f+=2,c.buffer},t._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},t._writeHeader=function(e,n,i,r,a,o){var u=t.bin.writeUint,s=t.bin.writeUshort,l=r.file;return u(e,n,0==a?67324752:33639248),n+=4,1==a&&(n+=2),s(e,n,20),s(e,n+=2,0),s(e,n+=2,r.cpr?8:0),u(e,n+=2,0),u(e,n+=4,r.crc),u(e,n+=4,l.length),u(e,n+=4,r.usize),s(e,n+=4,t.bin.sizeUTF8(i)),s(e,n+=2,0),n+=2,1==a&&(n+=2,n+=2,u(e,n+=6,o),n+=4),n+=t.bin.writeUTF8(e,n,i),0==a&&(e.set(l,n),n+=l.length),n},t.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,i=0;i<8;i++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,n,i,r){for(var a=0;a<r;a++)e=t.crc.table[255&(e^n[i+a])]^e>>>8;return e},crc:function(e,n,i){return 4294967295^t.crc.update(4294967295,e,n,i)}},t.adler=function(e,t,n){for(var i=1,r=0,a=t,o=t+n;a<o;){for(var u=Math.min(a+5552,o);a<u;)r+=i+=e[a++];i%=65521,r%=65521}return r<<16|i},t.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(e[t+r]);return i},writeASCII:function(e,t,n){for(var i=0;i<n.length;i++)e[t+i]=n.charCodeAt(i)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,n,i){for(var r,a="",o=0;o<i;o++)a+="%"+t.bin.pad(e[n+o].toString(16));try{r=decodeURIComponent(a)}catch(u){return t.bin.readASCII(e,n,i)}return r},writeUTF8:function(e,t,n){for(var i=n.length,r=0,a=0;a<i;a++){var o=n.charCodeAt(a);if(0==(4294967168&o))e[t+r]=o,r++;else if(0==(4294965248&o))e[t+r]=192|o>>6,e[t+r+1]=128|o>>0&63,r+=2;else if(0==(4294901760&o))e[t+r]=224|o>>12,e[t+r+1]=128|o>>6&63,e[t+r+2]=128|o>>0&63,r+=3;else{if(0!=(4292870144&o))throw"e";e[t+r]=240|o>>18,e[t+r+1]=128|o>>12&63,e[t+r+2]=128|o>>6&63,e[t+r+3]=128|o>>0&63,r+=4}}return r},sizeUTF8:function(e){for(var t=e.length,n=0,i=0;i<t;i++){var r=e.charCodeAt(i);if(0==(4294967168&r))n++;else if(0==(4294965248&r))n+=2;else if(0==(4294901760&r))n+=3;else{if(0!=(4292870144&r))throw"e";n+=4}}return n}},t.F={},t.F.deflateRaw=function(e,n,i,r){var a=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],o=t.F.U,u=t.F._goodIndex,s=(t.F._hash,t.F._putsE),l=0,h=i<<3,c=0,f=e.length;if(0==r){for(;l<f;){s(n,h,l+(C=Math.min(65535,f-l))==f?1:0),h=t.F._copyExact(e,l,C,n,h+8),l+=C}return h>>>3}var d=o.lits,m=o.strt,g=o.prev,v=0,y=0,p=0,_=0,b=0,k=0;f>2&&(m[k=t.F._hash(e,0)]=0);for(l=0;l<f;l++){if(b=k,l+1<f-2){k=t.F._hash(e,l+1);var x=l+1&32767;g[x]=m[k],m[k]=x}if(c<=l){(v>14e3||y>26697)&&f-l>100&&(c<l&&(d[v]=l-c,v+=2,c=l),h=t.F._writeBlock(l==f-1||c==f?1:0,d,v,_,e,p,l-p,n,h),v=y=_=0,p=l);var w=0;l<f-2&&(w=t.F._bestMatch(e,l,g,b,Math.min(a[2],f-l),a[3]));var C=w>>>16,S=65535&w;if(0!=w){S=65535&w;var P=u(C=w>>>16,o.of0);o.lhst[257+P]++;var M=u(S,o.df0);o.dhst[M]++,_+=o.exb[P]+o.dxb[M],d[v]=C<<23|l-c,d[v+1]=S<<16|P<<8|M,v+=2,c=l+C}else o.lhst[e[l]]++;y++}}for(p==l&&0!=e.length||(c<l&&(d[v]=l-c,v+=2,c=l),h=t.F._writeBlock(1,d,v,_,e,p,l-p,n,h),v=0,y=0,v=y=_=0,p=l);0!=(7&h);)h++;return h>>>3},t.F._bestMatch=function(e,n,i,r,a,o){var u=32767&n,s=i[u],l=u-s+32768&32767;if(s==u||r!=t.F._hash(e,n-l))return 0;for(var h=0,c=0,f=Math.min(32767,n);l<=f&&0!=--o&&s!=u;){if(0==h||e[n+h]==e[n+h-l]){var d=t.F._howLong(e,n,l);if(d>h){if(c=l,(h=d)>=a)break;l+2<d&&(d=l+2);for(var m=0,g=0;g<d-2;g++){var v=n-l+g+32768&32767,y=v-i[v]+32768&32767;y>m&&(m=y,s=v)}}}l+=(u=s)-(s=i[u])+32768&32767}return h<<16|c},t.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var i=t,r=Math.min(e.length,t+258);for(t+=3;t<r&&e[t]==e[t-n];)t++;return t-i},t.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},t.saved=0,t.F._writeBlock=function(e,n,i,r,a,o,u,s,l){var h,c,f,d,m,g,v,y,p,_=t.F.U,b=t.F._putsF,k=t.F._putsE;_.lhst[256]++,c=(h=t.F.getTrees())[0],f=h[1],d=h[2],m=h[3],g=h[4],v=h[5],y=h[6],p=h[7];var x=32+(0==(l+3&7)?0:8-(l+3&7))+(u<<3),w=r+t.F.contSize(_.fltree,_.lhst)+t.F.contSize(_.fdtree,_.dhst),C=r+t.F.contSize(_.ltree,_.lhst)+t.F.contSize(_.dtree,_.dhst);C+=14+3*v+t.F.contSize(_.itree,_.ihst)+(2*_.ihst[16]+3*_.ihst[17]+7*_.ihst[18]);for(var S=0;S<286;S++)_.lhst[S]=0;for(S=0;S<30;S++)_.dhst[S]=0;for(S=0;S<19;S++)_.ihst[S]=0;var P=x<w&&x<C?0:w<C?1:2;b(s,l,e),b(s,l+1,P);l+=3;if(0==P){for(;0!=(7&l);)l++;l=t.F._copyExact(a,o,u,s,l)}else{var M,z;if(1==P&&(M=_.fltree,z=_.fdtree),2==P){t.F.makeCodes(_.ltree,c),t.F.revCodes(_.ltree,c),t.F.makeCodes(_.dtree,f),t.F.revCodes(_.dtree,f),t.F.makeCodes(_.itree,d),t.F.revCodes(_.itree,d),M=_.ltree,z=_.dtree,k(s,l,m-257),k(s,l+=5,g-1),k(s,l+=5,v-4),l+=4;for(var A=0;A<v;A++)k(s,l+3*A,_.itree[1+(_.ordr[A]<<1)]);l+=3*v,l=t.F._codeTiny(y,_.itree,s,l),l=t.F._codeTiny(p,_.itree,s,l)}for(var I=o,R=0;R<i;R+=2){for(var F=n[R],T=F>>>23,N=I+(8388607&F);I<N;)l=t.F._writeLit(a[I++],M,s,l);if(0!=T){var B=n[R+1],E=B>>16,L=B>>8&255,D=255&B;k(s,l=t.F._writeLit(257+L,M,s,l),T-_.of0[L]),l+=_.exb[L],b(s,l=t.F._writeLit(D,z,s,l),E-_.df0[D]),l+=_.dxb[D],I+=T}}l=t.F._writeLit(256,M,s,l)}return l},t.F._copyExact=function(e,t,n,i,r){var a=r>>>3;return i[a]=n,i[a+1]=n>>>8,i[a+2]=255-i[a],i[a+3]=255-i[a+1],a+=4,i.set(new Uint8Array(e.buffer,t,n),a),r+(n+4<<3)},t.F.getTrees=function(){for(var e=t.F.U,n=t.F._hufTree(e.lhst,e.ltree,15),i=t.F._hufTree(e.dhst,e.dtree,15),r=[],a=t.F._lenCodes(e.ltree,r),o=[],u=t.F._lenCodes(e.dtree,o),s=0;s<r.length;s+=2)e.ihst[r[s]]++;for(s=0;s<o.length;s+=2)e.ihst[o[s]]++;for(var l=t.F._hufTree(e.ihst,e.itree,7),h=19;h>4&&0==e.itree[1+(e.ordr[h-1]<<1)];)h--;return[n,i,l,a,u,h,r,o]},t.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},t.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},t.F.contSize=function(e,t){for(var n=0,i=0;i<t.length;i++)n+=t[i]*e[1+(i<<1)];return n},t.F._codeTiny=function(e,n,i,r){for(var a=0;a<e.length;a+=2){var o=e[a],u=e[a+1];r=t.F._writeLit(o,n,i,r);var s=16==o?2:17==o?3:7;o>15&&(t.F._putsE(i,r,u,s),r+=s)}return r},t.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var i=0;i<n;i+=2){var r=e[i+1],a=i+3<n?e[i+3]:-1,o=i+5<n?e[i+5]:-1,u=0==i?-1:e[i-1];if(0==r&&a==r&&o==r){for(var s=i+5;s+2<n&&e[s+2]==r;)s+=2;(l=Math.min(s+1-i>>>1,138))<11?t.push(17,l-3):t.push(18,l-11),i+=2*l-2}else if(r==u&&a==r&&o==r){for(s=i+5;s+2<n&&e[s+2]==r;)s+=2;var l=Math.min(s+1-i>>>1,6);t.push(16,l-3),i+=2*l-2}else t.push(r,0)}return n>>>1},t.F._hufTree=function(e,n,i){var r=[],a=e.length,o=n.length,u=0;for(u=0;u<o;u+=2)n[u]=0,n[u+1]=0;for(u=0;u<a;u++)0!=e[u]&&r.push({lit:u,f:e[u]});var s=r.length,l=r.slice(0);if(0==s)return 0;if(1==s){var h=r[0].lit;l=0==h?1:0;return n[1+(h<<1)]=1,n[1+(l<<1)]=1,1}r.sort((function(e,t){return e.f-t.f}));var c=r[0],f=r[1],d=0,m=1,g=2;for(r[0]={lit:-1,f:c.f+f.f,l:c,r:f,d:0};m!=s-1;)c=d!=m&&(g==s||r[d].f<r[g].f)?r[d++]:r[g++],f=d!=m&&(g==s||r[d].f<r[g].f)?r[d++]:r[g++],r[m++]={lit:-1,f:c.f+f.f,l:c,r:f};var v=t.F.setDepth(r[m-1],0);for(v>i&&(t.F.restrictDepth(l,i,v),v=i),u=0;u<s;u++)n[1+(l[u].lit<<1)]=l[u].d;return v},t.F.setDepth=function(e,n){return-1!=e.lit?(e.d=n,n):Math.max(t.F.setDepth(e.l,n+1),t.F.setDepth(e.r,n+1))},t.F.restrictDepth=function(e,t,n){var i=0,r=1<<n-t,a=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),i=0;i<e.length&&e[i].d>t;i++){var o=e[i].d;e[i].d=t,a+=r-(1<<n-o)}for(a>>>=n-t;a>0;){(o=e[i].d)<t?(e[i].d++,a-=1<<t-o-1):i++}for(;i>=0;i--)e[i].d==t&&a<0&&(e[i].d--,a++);0!=a&&console.log("debt left")},t.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},t.F._writeLit=function(e,n,i,r){return t.F._putsF(i,r,n[e<<1]),r+n[1+(e<<1)]},t.F.inflate=function(e,n){var i=Uint8Array;if(3==e[0]&&0==e[1])return n||new i(0);var r=t.F,a=r._bitsF,o=r._bitsE,u=r._decodeTiny,s=r.makeCodes,l=r.codes2map,h=r._get17,c=r.U,f=null==n;f&&(n=new i(e.length>>>2<<3));for(var d,m,g=0,v=0,y=0,p=0,_=0,b=0,k=0,x=0,w=0;0==g;)if(g=a(e,w,1),v=a(e,w+1,2),w+=3,0!=v){if(f&&(n=t.F._check(n,x+(1<<17))),1==v&&(d=c.flmap,m=c.fdmap,b=511,k=31),2==v){y=o(e,w,5)+257,p=o(e,w+5,5)+1,_=o(e,w+10,4)+4;w+=14;for(var C=0;C<38;C+=2)c.itree[C]=0,c.itree[C+1]=0;var S=1;for(C=0;C<_;C++){var P=o(e,w+3*C,3);c.itree[1+(c.ordr[C]<<1)]=P,P>S&&(S=P)}w+=3*_,s(c.itree,S),l(c.itree,S,c.imap),d=c.lmap,m=c.dmap,w=u(c.imap,(1<<S)-1,y+p,e,w,c.ttree);var M=r._copyOut(c.ttree,0,y,c.ltree);b=(1<<M)-1;var z=r._copyOut(c.ttree,y,p,c.dtree);k=(1<<z)-1,s(c.ltree,M),l(c.ltree,M,d),s(c.dtree,z),l(c.dtree,z,m)}for(;;){var A=d[h(e,w)&b];w+=15&A;var I=A>>>4;if(I>>>8==0)n[x++]=I;else{if(256==I)break;var R=x+I-254;if(I>264){var F=c.ldef[I-257];R=x+(F>>>3)+o(e,w,7&F),w+=7&F}var T=m[h(e,w)&k];w+=15&T;var N=T>>>4,B=c.ddef[N],E=(B>>>4)+a(e,w,15&B);for(w+=15&B,f&&(n=t.F._check(n,x+(1<<17)));x<R;)n[x]=n[x++-E],n[x]=n[x++-E],n[x]=n[x++-E],n[x]=n[x++-E];x=R}}}else{0!=(7&w)&&(w+=8-(7&w));var L=4+(w>>>3),D=e[L-4]|e[L-3]<<8;f&&(n=t.F._check(n,x+D)),n.set(new i(e.buffer,e.byteOffset+L,D),x),w=L+D<<3,x+=D}return n.length==x?n:n.slice(0,x)},t.F._check=function(e,t){var n=e.length;if(t<=n)return e;var i=new Uint8Array(Math.max(n<<1,t));return i.set(e,0),i},t.F._decodeTiny=function(e,n,i,r,a,o){for(var u=t.F._bitsE,s=t.F._get17,l=0;l<i;){var h=e[s(r,a)&n];a+=15&h;var c=h>>>4;if(c<=15)o[l]=c,l++;else{var f=0,d=0;16==c?(d=3+u(r,a,2),a+=2,f=o[l-1]):17==c?(d=3+u(r,a,3),a+=3):18==c&&(d=11+u(r,a,7),a+=7);for(var m=l+d;l<m;)o[l]=f,l++}}return a},t.F._copyOut=function(e,t,n,i){for(var r=0,a=0,o=i.length>>>1;a<n;){var u=e[a+t];i[a<<1]=0,i[1+(a<<1)]=u,u>r&&(r=u),a++}for(;a<o;)i[a<<1]=0,i[1+(a<<1)]=0,a++;return r},t.F.makeCodes=function(e,n){for(var i,r,a,o,u=t.F.U,s=e.length,l=u.bl_count,h=0;h<=n;h++)l[h]=0;for(h=1;h<s;h+=2)l[e[h]]++;var c=u.next_code;for(i=0,l[0]=0,r=1;r<=n;r++)i=i+l[r-1]<<1,c[r]=i;for(a=0;a<s;a+=2)0!=(o=e[a+1])&&(e[a]=c[o],c[o]++)},t.F.codes2map=function(e,n,i){for(var r=e.length,a=t.F.U.rev15,o=0;o<r;o+=2)if(0!=e[o+1])for(var u=o>>1,s=e[o+1],l=u<<4|s,h=n-s,c=e[o]<<h,f=c+(1<<h);c!=f;){i[a[c]>>>15-n]=l,c++}},t.F.revCodes=function(e,n){for(var i=t.F.U.rev15,r=15-n,a=0;a<e.length;a+=2){var o=e[a]<<n-e[a+1];e[a]=i[o]>>>r}},t.F._putsE=function(e,t,n){n<<=7&t;var i=t>>>3;e[i]|=n,e[i+1]|=n>>>8},t.F._putsF=function(e,t,n){n<<=7&t;var i=t>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},t.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},t.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},t.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},t.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},t.F.U=function(){var e=Uint16Array,t=Uint32Array;return{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}}(),function(){for(var e=t.F.U,n=0;n<32768;n++){var i=n;i=(4278255360&(i=(4042322160&(i=(3435973836&(i=(2863311530&i)>>>1|(1431655765&i)<<1))>>>2|(858993459&i)<<2))>>>4|(252645135&i)<<4))>>>8|(16711935&i)<<8,e.rev15[n]=(i>>>16|i<<16)>>>17}function r(e,t,n){for(;0!=t--;)e.push(0,n)}for(n=0;n<32;n++)e.ldef[n]=e.of0[n]<<3|e.exb[n],e.ddef[n]=e.df0[n]<<4|e.dxb[n];r(e.fltree,144,8),r(e.fltree,112,9),r(e.fltree,24,7),r(e.fltree,8,8),t.F.makeCodes(e.fltree,9),t.F.codes2map(e.fltree,9,e.flmap),t.F.revCodes(e.fltree,9),r(e.fdtree,32,5),t.F.makeCodes(e.fdtree,5),t.F.codes2map(e.fdtree,5,e.fdmap),t.F.revCodes(e.fdtree,5),r(e.itree,19,0),r(e.ltree,286,0),r(e.dtree,30,0),r(e.ttree,320,0)}()},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7462:function(e,t,n){"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(this,arguments)}n.d(t,{Z:function(){return i}})},3366:function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,{Z:function(){return i}})},4400:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{Z:function(){return i}})},6222:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return i}})},3430:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(2327);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(s){u=!0,r=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw r}}return a}}(e,t)||(0,i.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},5531:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(4400);var r=n(2327);function a(e){return function(e){if(Array.isArray(e))return(0,i.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,r.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2327:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(4400);function r(e,t){if(e){if("string"===typeof e)return(0,i.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.Z)(e,t):void 0}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&r&&i;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return i[e]}}));return o.default=function(){return i},n.d(a,o),a}}(),n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".fd3328c4.chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="registration-ui:";n.l=function(i,r,a,o){if(e[i])e[i].push(r);else{var u,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),h=0;h<l.length;h++){var c=l[h];if(c.getAttribute("src")==i||c.getAttribute("data-webpack")==t+a){u=c;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=i),e[i]=[r];var f=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var r=e[i];if(delete e[i],u.parentNode&&u.parentNode.removeChild(u),r&&r.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=f.bind(null,u.onerror),u.onload=f.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/registration-ui/",function(){var e={179:0};n.f.j=function(t,i){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var a=new Promise((function(n,i){r=e[t]=[n,i]}));i.push(r[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(i){if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,r[1](u)}}),"chunk-"+t,t)}};var t=function(t,i){var r,a,o=i[0],u=i[1],s=i[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(r in u)n.o(u,r)&&(n.m[r]=u[r]);if(s)s(n)}for(t&&t(i);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},i=self.webpackChunkregistration_ui=self.webpackChunkregistration_ui||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}(),function(){"use strict";var e=n(2791),t=n(1250),i=n(5531),r=n(3430),a=n(6222);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=n(3366),l=n(7462),h=n(8182),c=n(5878),f=n(1217);function d(e){return(0,f.Z)("MuiSlider",e)}var m=(0,c.Z)("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel"]),g=n(184);function v(t){var n=t.children,i=t.className,r=t.value,a=function(e){var t=e.open;return{offset:(0,h.Z)(t&&m.valueLabelOpen),circle:m.valueLabelCircle,label:m.valueLabelLabel}}(t);return e.cloneElement(n,{className:(0,h.Z)(n.props.className)},(0,g.jsxs)(e.Fragment,{children:[n.props.children,(0,g.jsx)("span",{className:(0,h.Z)(a.offset,i),"aria-hidden":!0,children:(0,g.jsx)("span",{className:a.circle,children:(0,g.jsx)("span",{className:a.label,children:r})})})]}))}var y=function(e){return"string"===typeof e},p=n(4419),_=n(9723),b=n(8959),k=n(5372),x=n(7563),w=n(5721),C=n(8956),S={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function P(e,t){return e-t}function M(e,t,n){return null==e?t:Math.min(Math.max(t,e),n)}function z(e,t){var n;return(null!=(n=e.reduce((function(e,n,i){var r=Math.abs(t-n);return null===e||r<e.distance||r===e.distance?{distance:r,index:i}:e}),null))?n:{}).index}function A(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=e,i=0;i<n.changedTouches.length;i+=1){var r=n.changedTouches[i];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function I(e,t,n){return 100*(e-t)/(n-t)}function R(e,t,n){var i=Math.round((e-n)/t)*t+n;return Number(i.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var i=e.toString().split(".")[1];return i?i.length:0}(t)))}function F(e){var t=e.values,n=e.newValue,i=e.index,r=t.slice();return r[i]=n,r.sort(P)}function T(e){var t,n,i,r=e.sliderRef,a=e.activeIndex,o=e.setActive,u=(0,_.Z)(r.current);null!=(t=r.current)&&t.contains(u.activeElement)&&Number(null==u||null==(n=u.activeElement)?void 0:n.getAttribute("data-index"))===a||(null==(i=r.current)||i.querySelector('[type="range"][data-index="'.concat(a,'"]')).focus());o&&o(a)}var N,B={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},E=function(e){return e};function L(){return void 0===N&&(N="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),N}function D(t){var n=t["aria-labelledby"],a=t.defaultValue,o=t.disabled,u=void 0!==o&&o,s=t.disableSwap,h=void 0!==s&&s,c=t.isRtl,f=void 0!==c&&c,d=t.marks,m=void 0!==d&&d,g=t.max,v=void 0===g?100:g,y=t.min,p=void 0===y?0:y,N=t.name,D=t.onChange,O=t.onChangeCommitted,U=t.orientation,V=void 0===U?"horizontal":U,Z=t.ref,j=t.scale,H=void 0===j?E:j,W=t.step,q=void 0===W?1:W,G=t.tabIndex,$=t.value,Y=e.useRef(),X=e.useState(-1),Q=(0,r.Z)(X,2),K=Q[0],J=Q[1],ee=e.useState(-1),te=(0,r.Z)(ee,2),ne=te[0],ie=te[1],re=e.useState(!1),ae=(0,r.Z)(re,2),oe=ae[0],ue=ae[1],se=e.useRef(0),le=(0,b.Z)({controlled:$,default:null!=a?a:p,name:"Slider"}),he=(0,r.Z)(le,2),ce=he[0],fe=he[1],de=D&&function(e,t,n){var i=e.nativeEvent||e,r=new i.constructor(i.type,i);Object.defineProperty(r,"target",{writable:!0,value:{value:t,name:N}}),D(r,t,n)},me=Array.isArray(ce),ge=me?ce.slice().sort(P):[ce];ge=ge.map((function(e){return M(e,p,v)}));var ve=!0===m&&null!==q?(0,i.Z)(Array(Math.floor((v-p)/q)+1)).map((function(e,t){return{value:p+q*t}})):m||[],ye=ve.map((function(e){return e.value})),pe=(0,k.Z)(),_e=pe.isFocusVisibleRef,be=pe.onBlur,ke=pe.onFocus,xe=pe.ref,we=e.useState(-1),Ce=(0,r.Z)(we,2),Se=Ce[0],Pe=Ce[1],Me=e.useRef(),ze=(0,x.Z)(xe,Me),Ae=(0,x.Z)(Z,ze),Ie=function(e){return function(t){var n,i=Number(t.currentTarget.getAttribute("data-index"));ke(t),!0===_e.current&&Pe(i),ie(i),null==e||null==(n=e.onFocus)||n.call(e,t)}},Re=function(e){return function(t){var n;be(t),!1===_e.current&&Pe(-1),ie(-1),null==e||null==(n=e.onBlur)||n.call(e,t)}};(0,w.Z)((function(){var e;u&&Me.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[u]),u&&-1!==K&&J(-1),u&&-1!==Se&&Pe(-1);var Fe=function(e){return function(t){var n;null==(n=e.onChange)||n.call(e,t);var i=Number(t.currentTarget.getAttribute("data-index")),r=ge[i],a=ye.indexOf(r),o=t.target.valueAsNumber;if(ve&&null==q&&(o=o<r?ye[a-1]:ye[a+1]),o=M(o,p,v),ve&&null==q){var u=ye.indexOf(ge[i]);o=o<ge[i]?ye[u-1]:ye[u+1]}if(me){h&&(o=M(o,ge[i-1]||-1/0,ge[i+1]||1/0));var s=o;o=F({values:ge,newValue:o,index:i});var l=i;h||(l=o.indexOf(s)),T({sliderRef:Me,activeIndex:l})}fe(o),Pe(i),de&&de(t,o,i),O&&O(t,o)}},Te=e.useRef(),Ne=V;f&&"horizontal"===V&&(Ne+="-reverse");var Be=function(e){var t,n,i=e.finger,r=e.move,a=void 0!==r&&r,o=Me.current.getBoundingClientRect(),u=o.width,s=o.height,l=o.bottom,c=o.left;if(t=0===Ne.indexOf("vertical")?(l-i.y)/s:(i.x-c)/u,-1!==Ne.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,p,v),q)n=R(n,q,p);else{var f=z(ye,n);n=ye[f]}n=M(n,p,v);var d=0;if(me){d=a?Te.current:z(ge,n),h&&(n=M(n,ge[d-1]||-1/0,ge[d+1]||1/0));var m=n;n=F({values:ge,newValue:n,index:d}),h&&a||(d=n.indexOf(m),Te.current=d)}return{newValue:n,activeIndex:d}},Ee=(0,C.Z)((function(e){var t=A(e,Y);if(t)if(se.current+=1,"mousemove"!==e.type||0!==e.buttons){var n=Be({finger:t,move:!0}),i=n.newValue,r=n.activeIndex;T({sliderRef:Me,activeIndex:r,setActive:J}),fe(i),!oe&&se.current>2&&ue(!0),de&&i!==ce&&de(e,i,r)}else Le(e)})),Le=(0,C.Z)((function(e){var t=A(e,Y);if(ue(!1),t){var n=Be({finger:t,move:!0}).newValue;J(-1),"touchend"===e.type&&ie(-1),O&&O(e,n),Y.current=void 0,Oe()}})),De=(0,C.Z)((function(e){if(!u){L()||e.preventDefault();var t=e.changedTouches[0];null!=t&&(Y.current=t.identifier);var n=A(e,Y);if(!1!==n){var i=Be({finger:n}),r=i.newValue,a=i.activeIndex;T({sliderRef:Me,activeIndex:a,setActive:J}),fe(r),de&&de(e,r,a)}se.current=0;var o=(0,_.Z)(Me.current);o.addEventListener("touchmove",Ee),o.addEventListener("touchend",Le)}})),Oe=e.useCallback((function(){var e=(0,_.Z)(Me.current);e.removeEventListener("mousemove",Ee),e.removeEventListener("mouseup",Le),e.removeEventListener("touchmove",Ee),e.removeEventListener("touchend",Le)}),[Le,Ee]);e.useEffect((function(){var e=Me.current;return e.addEventListener("touchstart",De,{passive:L()}),function(){e.removeEventListener("touchstart",De,{passive:L()}),Oe()}}),[Oe,De]),e.useEffect((function(){u&&Oe()}),[u,Oe]);var Ue=function(e){return function(t){var n;if(null==(n=e.onMouseDown)||n.call(e,t),!u&&!t.defaultPrevented&&0===t.button){t.preventDefault();var i=A(t,Y);if(!1!==i){var r=Be({finger:i}),a=r.newValue,o=r.activeIndex;T({sliderRef:Me,activeIndex:o,setActive:J}),fe(a),de&&de(t,a,o)}se.current=0;var s=(0,_.Z)(Me.current);s.addEventListener("mousemove",Ee),s.addEventListener("mouseup",Le)}}},Ve=I(me?ge[0]:p,p,v),Ze=I(ge[ge.length-1],p,v)-Ve,je=function(e){return function(t){var n;null==(n=e.onMouseOver)||n.call(e,t);var i=Number(t.currentTarget.getAttribute("data-index"));ie(i)}},He=function(e){return function(t){var n;null==(n=e.onMouseLeave)||n.call(e,t),ie(-1)}};return{active:K,axis:Ne,axisProps:B,dragging:oe,focusedThumbIndex:Se,getHiddenInputProps:function(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={onChange:Fe(i||{}),onFocus:Ie(i||{}),onBlur:Re(i||{})},a=(0,l.Z)({},i,r);return(0,l.Z)({tabIndex:G,"aria-labelledby":n,"aria-orientation":V,"aria-valuemax":H(v),"aria-valuemin":H(p),name:N,type:"range",min:t.min,max:t.max,step:null!=(e=t.step)?e:void 0,disabled:u},a,{style:(0,l.Z)({},S,{direction:f?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={onMouseDown:Ue(e||{})},n=(0,l.Z)({},e,t);return(0,l.Z)({ref:Ae},n)},getThumbProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={onMouseOver:je(e||{}),onMouseLeave:He(e||{})};return(0,l.Z)({},e,t)},marks:ve,open:ne,range:me,trackLeap:Ze,trackOffset:Ve,values:ge}}function O(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function U(e){var t=e.getSlotProps,n=e.additionalProps,i=e.externalSlotProps,r=e.externalForwardedProps,a=e.className;if(!t){var o=(0,h.Z)(null==r?void 0:r.className,null==i?void 0:i.className,a,null==n?void 0:n.className),u=(0,l.Z)({},null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),s=(0,l.Z)({},n,r,i);return o.length>0&&(s.className=o),Object.keys(u).length>0&&(s.style=u),{props:s,internalRef:void 0}}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}((0,l.Z)({},r,i)),f=O(i),d=O(r),m=t(c),g=(0,h.Z)(null==m?void 0:m.className,null==n?void 0:n.className,a,null==r?void 0:r.className,null==i?void 0:i.className),v=(0,l.Z)({},null==m?void 0:m.style,null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),y=(0,l.Z)({},m,n,d,f);return g.length>0&&(y.className=g),Object.keys(v).length>0&&(y.style=v),{props:y,internalRef:m.ref}}var V=["elementType","externalSlotProps","ownerState"];function Z(e){var t,n=e.elementType,i=e.externalSlotProps,r=e.ownerState,a=(0,s.Z)(e,V),o=function(e,t){return"function"===typeof e?e(t):e}(i,r),u=U((0,l.Z)({},a,{externalSlotProps:o})),h=u.props,c=u.internalRef,f=(0,x.Z)(c,null==o?void 0:o.ref,null==(t=e.additionalProps)?void 0:t.ref),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return y(e)?t:(0,l.Z)({},t,{ownerState:(0,l.Z)({},t.ownerState,n)})}(n,(0,l.Z)({},h,{ref:f}),r);return d}var j=["aria-label","aria-valuetext","aria-labelledby","className","component","classes","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","scale","step","tabIndex","track","value","valueLabelDisplay","valueLabelFormat","isRtl","components","componentsProps"],H=function(e){return e},W=function(e){return e.children},q=e.forwardRef((function(t,n){var i,r,a,o,u,c,f,m=t["aria-label"],_=t["aria-valuetext"],b=t["aria-labelledby"],k=t.className,x=t.component,w=t.classes,C=t.disableSwap,S=void 0!==C&&C,P=t.disabled,M=void 0!==P&&P,z=t.getAriaLabel,A=t.getAriaValueText,R=t.marks,F=void 0!==R&&R,T=t.max,N=void 0===T?100:T,B=t.min,E=void 0===B?0:B,L=t.orientation,O=void 0===L?"horizontal":L,U=t.scale,V=void 0===U?H:U,q=t.step,G=void 0===q?1:q,$=t.track,Y=void 0===$?"normal":$,X=t.valueLabelDisplay,Q=void 0===X?"off":X,K=t.valueLabelFormat,J=void 0===K?H:K,ee=t.isRtl,te=void 0!==ee&&ee,ne=t.components,ie=void 0===ne?{}:ne,re=t.componentsProps,ae=void 0===re?{}:re,oe=(0,s.Z)(t,j),ue=(0,l.Z)({},t,{marks:F,classes:w,disabled:M,isRtl:te,max:N,min:E,orientation:O,scale:V,step:G,track:Y,valueLabelDisplay:Q,valueLabelFormat:J}),se=D((0,l.Z)({},ue,{ref:n})),le=se.axisProps,he=se.getRootProps,ce=se.getHiddenInputProps,fe=se.getThumbProps,de=se.open,me=se.active,ge=se.axis,ve=se.range,ye=se.focusedThumbIndex,pe=se.dragging,_e=se.marks,be=se.values,ke=se.trackOffset,xe=se.trackLeap;ue.marked=_e.length>0&&_e.some((function(e){return e.label})),ue.dragging=pe,ue.focusedThumbIndex=ye;var we=function(e){var t=e.disabled,n=e.dragging,i=e.marked,r=e.orientation,a=e.track,o=e.classes,u={root:["root",t&&"disabled",n&&"dragging",i&&"marked","vertical"===r&&"vertical","inverted"===a&&"trackInverted",!1===a&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,p.Z)(u,d,o)}(ue),Ce=null!=(i=null!=x?x:ie.Root)?i:"span",Se=Z({elementType:Ce,getSlotProps:he,externalSlotProps:ae.root,externalForwardedProps:oe,ownerState:ue,className:[we.root,k]}),Pe=null!=(r=ie.Rail)?r:"span",Me=Z({elementType:Pe,externalSlotProps:ae.rail,ownerState:ue,className:we.rail}),ze=null!=(a=ie.Track)?a:"span",Ae=Z({elementType:ze,externalSlotProps:ae.track,additionalProps:{style:(0,l.Z)({},le[ge].offset(ke),le[ge].leap(xe))},ownerState:ue,className:we.track}),Ie=null!=(o=ie.Thumb)?o:"span",Re=Z({elementType:Ie,getSlotProps:fe,externalSlotProps:ae.thumb,ownerState:ue}),Fe=null!=(u=ie.ValueLabel)?u:v,Te=Z({elementType:Fe,externalSlotProps:ae.valueLabel,ownerState:ue}),Ne=null!=(c=ie.Mark)?c:"span",Be=Z({elementType:Ne,externalSlotProps:ae.mark,ownerState:ue,className:we.mark}),Ee=null!=(f=ie.MarkLabel)?f:"span",Le=Z({elementType:Ee,externalSlotProps:ae.markLabel,ownerState:ue}),De=ie.Input||"input",Oe=Z({elementType:De,getSlotProps:ce,externalSlotProps:ae.input,ownerState:ue});return(0,g.jsxs)(Ce,(0,l.Z)({},Se,{children:[(0,g.jsx)(Pe,(0,l.Z)({},Me)),(0,g.jsx)(ze,(0,l.Z)({},Ae)),_e.filter((function(e){return e.value>=E&&e.value<=N})).map((function(t,n){var i,r=I(t.value,E,N),a=le[ge].offset(r);return i=!1===Y?-1!==be.indexOf(t.value):"normal"===Y&&(ve?t.value>=be[0]&&t.value<=be[be.length-1]:t.value<=be[0])||"inverted"===Y&&(ve?t.value<=be[0]||t.value>=be[be.length-1]:t.value>=be[0]),(0,g.jsxs)(e.Fragment,{children:[(0,g.jsx)(Ne,(0,l.Z)({"data-index":n},Be,!y(Ne)&&{markActive:i},{style:(0,l.Z)({},a,Be.style),className:(0,h.Z)(Be.className,i&&we.markActive)})),null!=t.label?(0,g.jsx)(Ee,(0,l.Z)({"aria-hidden":!0,"data-index":n},Le,!y(Ee)&&{markLabelActive:i},{style:(0,l.Z)({},a,Le.style),className:(0,h.Z)(we.markLabel,Le.className,i&&we.markLabelActive),children:t.label})):null]},n)})),be.map((function(t,n){var i=I(t,E,N),r=le[ge].offset(i),a="off"===Q?W:Fe;return(0,g.jsx)(e.Fragment,{children:(0,g.jsx)(a,(0,l.Z)({},!y(a)&&{valueLabelFormat:J,valueLabelDisplay:Q,value:"function"===typeof J?J(V(t),n):J,index:n,open:de===n||me===n||"on"===Q,disabled:M},Te,{className:(0,h.Z)(we.valueLabel,Te.className),children:(0,g.jsx)(Ie,(0,l.Z)({"data-index":n,"data-focusvisible":ye===n},Re,{className:(0,h.Z)(we.thumb,Re.className,me===n&&we.active,ye===n&&we.focusVisible),style:(0,l.Z)({},r,{pointerEvents:S&&me!==n?"none":void 0},Re.style),children:(0,g.jsx)(De,(0,l.Z)({"data-index":n,"aria-label":z?z(n):m,"aria-valuenow":V(t),"aria-labelledby":b,"aria-valuetext":A?A(V(t),n):_,value:be[n]},Oe))}))}))},n)}))]}))})),G=q,$=n(2065),Y=n(5873),X=n(6026),Q=n(886),K=n(5361);var J=function(e){return!e||!y(e)},ee=n(9853),te=["component","components","componentsProps","color","size"],ne=(0,l.Z)({},m,(0,c.Z)("MuiSlider",["colorPrimary","colorSecondary","thumbColorPrimary","thumbColorSecondary","sizeSmall","thumbSizeSmall"])),ie=(0,X.ZP)("span",{name:"MuiSlider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat((0,ee.Z)(n.color))],"medium"!==n.size&&t["size".concat((0,ee.Z)(n.size))],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})((function(e){var t,n=e.theme,i=e.ownerState;return(0,l.Z)({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(n.vars||n).palette[i.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===i.orientation&&(0,l.Z)({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===i.size&&{height:2},i.marked&&{marginBottom:20}),"vertical"===i.orientation&&(0,l.Z)({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===i.size&&{width:2},i.marked&&{marginRight:44}),(t={"@media print":{colorAdjust:"exact"}},(0,a.Z)(t,"&.".concat(ne.disabled),{pointerEvents:"none",cursor:"default",color:(n.vars||n).palette.grey[400]}),(0,a.Z)(t,"&.".concat(ne.dragging),(0,a.Z)({},"& .".concat(ne.thumb,", & .").concat(ne.track),{transition:"none"})),t))})),re=(0,X.ZP)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:function(e,t){return t.rail}})((function(e){var t=e.ownerState;return(0,l.Z)({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===t.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===t.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===t.track&&{opacity:1})})),ae=(0,X.ZP)("span",{name:"MuiSlider",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme,n=e.ownerState,i="light"===t.palette.mode?(0,$.$n)(t.palette[n.color].main,.62):(0,$._j)(t.palette[n.color].main,.5);return(0,l.Z)({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},"small"===n.size&&{border:"none"},"horizontal"===n.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===n.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===n.track&&{display:"none"},"inverted"===n.track&&{backgroundColor:t.vars?t.vars.palette.Slider["".concat(n.color,"Track")]:i,borderColor:t.vars?t.vars.palette.Slider["".concat(n.color,"Track")]:i})})),oe=(0,X.ZP)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:function(e,t){var n=e.ownerState;return[t.thumb,t["thumbColor".concat((0,ee.Z)(n.color))],"medium"!==n.size&&t["thumbSize".concat((0,ee.Z)(n.size))]]}})((function(e){var t,n=e.theme,i=e.ownerState;return(0,l.Z)({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest})},"small"===i.size&&{width:12,height:12},"horizontal"===i.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===i.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},(t={"&:before":(0,l.Z)({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(n.vars||n).shadows[2]},"small"===i.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},(0,a.Z)(t,"&:hover, &.".concat(ne.focusVisible),{boxShadow:"0px 0px 0px 8px ".concat(n.vars?"rgba(".concat(n.vars.palette[i.color].mainChannel," / 0.16)"):(0,$.Fq)(n.palette[i.color].main,.16)),"@media (hover: none)":{boxShadow:"none"}}),(0,a.Z)(t,"&.".concat(ne.active),{boxShadow:"0px 0px 0px 14px ".concat(n.vars?"rgba(".concat(n.vars.palette[i.color].mainChannel," / 0.16)"):(0,$.Fq)(n.palette[i.color].main,.16))}),(0,a.Z)(t,"&.".concat(ne.disabled),{"&:hover":{boxShadow:"none"}}),t))})),ue=(0,X.ZP)(v,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:function(e,t){return t.valueLabel}})((function(e){var t,n=e.theme,i=e.ownerState;return(0,l.Z)((t={},(0,a.Z)(t,"&.".concat(ne.valueLabelOpen),{transform:"translateY(-100%) scale(1)"}),(0,a.Z)(t,"zIndex",1),(0,a.Z)(t,"whiteSpace","nowrap"),t),n.typography.body2,{fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:(n.vars||n).palette.grey[600],borderRadius:2,color:(n.vars||n).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"horizontal"===i.orientation&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},"vertical"===i.orientation&&{right:"30px",top:"24px",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"25%"}},"small"===i.size&&{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"})})),se=(0,X.ZP)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:function(e){return(0,X.Dz)(e)&&"markActive"!==e},overridesResolver:function(e,t){return t.mark}})((function(e){var t=e.theme,n=e.ownerState,i=e.markActive;return(0,l.Z)({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===n.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===n.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},i&&{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8})})),le=(0,X.ZP)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:function(e){return(0,X.Dz)(e)&&"markLabelActive"!==e},overridesResolver:function(e,t){return t.markLabel}})((function(e){var t=e.theme,n=e.ownerState,i=e.markLabelActive;return(0,l.Z)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===n.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===n.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},i&&{color:(t.vars||t).palette.text.primary})})),he=e.forwardRef((function(e,t){var n,i,r,a,o=(0,Y.Z)({props:e,name:"MuiSlider"}),u="rtl"===(0,Q.Z)(K.Z).direction,c=o.component,f=void 0===c?"span":c,m=o.components,v=void 0===m?{}:m,y=o.componentsProps,p=void 0===y?{}:y,_=o.color,b=void 0===_?"primary":_,k=o.size,x=void 0===k?"medium":k,w=(0,s.Z)(o,te),C=function(e){var t=e.color,n=e.size,i=e.classes,r=void 0===i?{}:i;return(0,l.Z)({},r,{root:(0,h.Z)(r.root,d("color".concat((0,ee.Z)(t))),r["color".concat((0,ee.Z)(t))],n&&[d("size".concat((0,ee.Z)(n))),r["size".concat((0,ee.Z)(n))]]),thumb:(0,h.Z)(r.thumb,d("thumbColor".concat((0,ee.Z)(t))),r["thumbColor".concat((0,ee.Z)(t))],n&&[d("thumbSize".concat((0,ee.Z)(n))),r["thumbSize".concat((0,ee.Z)(n))]])})}((0,l.Z)({},o,{color:b,size:x}));return(0,g.jsx)(G,(0,l.Z)({},w,{isRtl:u,components:(0,l.Z)({Root:ie,Rail:re,Track:ae,Thumb:oe,ValueLabel:ue,Mark:se,MarkLabel:le},v),componentsProps:(0,l.Z)({},p,{root:(0,l.Z)({},p.root,J(v.Root)&&{as:f,ownerState:(0,l.Z)({},null==(n=p.root)?void 0:n.ownerState,{color:b,size:x})}),thumb:(0,l.Z)({},p.thumb,J(v.Thumb)&&{ownerState:(0,l.Z)({},null==(i=p.thumb)?void 0:i.ownerState,{color:b,size:x})}),track:(0,l.Z)({},p.track,J(v.Track)&&{ownerState:(0,l.Z)({},null==(r=p.track)?void 0:r.ownerState,{color:b,size:x})}),valueLabel:(0,l.Z)({},p.valueLabel,J(v.ValueLabel)&&{ownerState:(0,l.Z)({},null==(a=p.valueLabel)?void 0:a.ownerState,{color:b,size:x})})}),classes:C,ref:t}))})),ce=n(1184),fe=n(5682),de=n(2466),me=n(114),ge=["sx"];function ve(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){me.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}((0,s.Z)(e,ge)),a=r.systemProps,o=r.otherProps;return t=Array.isArray(n)?[a].concat((0,i.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,de.P)(e)?(0,l.Z)({},a,e):a}:(0,l.Z)({},a,n),(0,l.Z)({},o,{sx:t})}var ye=["component","direction","spacing","divider","children"];function pe(t,n){var i=e.Children.toArray(t).filter(Boolean);return i.reduce((function(t,r,a){return t.push(r),a<i.length-1&&t.push(e.cloneElement(n,{key:"separator-".concat(a)})),t}),[])}var _e=(0,X.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,i=(0,l.Z)({display:"flex",flexDirection:"column"},(0,ce.k9)({theme:n},(0,ce.P$)({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var r=(0,fe.hB)(n),o=Object.keys(n.breakpoints.values).reduce((function(e,n){return("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e}),{}),u=(0,ce.P$)({values:t.direction,base:o}),s=(0,ce.P$)({values:t.spacing,base:o});"object"===typeof u&&Object.keys(u).forEach((function(e,t,n){if(!u[e]){var i=t>0?u[n[t-1]]:"column";u[e]=i}}));i=(0,de.Z)(i,(0,ce.k9)({theme:n},s,(function(e,n){return{"& > :not(style) + :not(style)":(0,a.Z)({margin:0},"margin".concat((i=n?u[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i])),(0,fe.NA)(r,e))};var i})))}return i=(0,ce.dt)(n.breakpoints,i)})),be=e.forwardRef((function(e,t){var n=ve((0,Y.Z)({props:e,name:"MuiStack"})),i=n.component,r=void 0===i?"div":i,a=n.direction,o=void 0===a?"column":a,u=n.spacing,h=void 0===u?0:u,c=n.divider,f=n.children,d=(0,s.Z)(n,ye),m={direction:o,spacing:h};return(0,g.jsx)(_e,(0,l.Z)({as:r,ownerState:m,ref:t},d,{children:c?pe(f,c):f}))})),ke=be,xe=n(8370),we=[{fontSize:"0.01em",value:.1,label:"slowZoom"},{value:.9,label:"fastZoom"}];function Ce(e,t,n,i,r){return{onMouseDown:function(e){return n({x:e.clientX,y:e.clientY,viewBox:r})},onMouseUp:function(){return n(null)},onMouseMove:function(n){if(t){var a={x:n.clientX-t.x,y:n.clientY-t.y};console.log(a);var o=+e.current.clientWidth,u=+e.current.clientHeight;i([t.viewBox[0]-a.x/o*r[2],t.viewBox[1]-a.y/u*r[3],r[2],r[3]])}}}}function Se(e){return Array.from({length:e},(function(e,t){return t}))}function Pe(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height&&e.scaling===t.scaling&&e.rotation===t.rotation&&e.opacity===t.opacity&&e.id===t.id}var Me=(0,e.memo)((function(e){return(0,g.jsx)("image",u(u({},e),{},{width:e.width*e.scaling,height:e.height*e.scaling,transform:"rotate(".concat(e.rotation,",").concat(e.x,",").concat(e.y,")")}))}),Pe),ze=function(e){var t=e.inner_canvas_width,n=e.inner_canvas_height,i=e.inner_grid_start;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("rect",{width:t+Math.abs(i[0]),height:n+Math.abs(i[1]),x:i[0],y:i[1],fill:"url(#grid)"}),(0,g.jsx)("defs",{children:(0,g.jsxs)("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:[(0,g.jsx)("line",{x1:"0",y1:"0",x2:"0",y2:"10",stroke:"black",strokeOpacity:"0.67",strokeWidth:"0.5"}),(0,g.jsx)("line",{x1:"0",y1:"0",x2:"10",y2:"0",stroke:"grey",strokeOpacity:"0.5",strokeWidth:"0.5"})]})}),(0,g.jsx)("line",{id:"myWorkSpace_axis_x",x1:i[0],y1:0,x2:t,y2:0,stroke:"grey",strokeOpacity:"0.67",strokeWidth:"1.0"}),(0,g.jsx)("line",{id:"myWorkSpace_axis_y",x1:0,y1:i[1],x2:0,y2:n,stroke:"grey",strokeOpacity:"0.67",strokeWidth:"1.0"}),Se(Math.ceil((n+Math.abs(i[1]))/100)).map((function(e){return e+Math.min(0,Math.ceil(i[1]/100))})).map((function(e){return(0,g.jsxs)("text",{x:-15,y:100*e,fontSize:"0.25em",fill:"blck",children:[" ","(0,",100*e,")"," "]},e)})),Se(Math.ceil((t+Math.abs(i[0]))/100)).map((function(e){return e+Math.min(0,Math.ceil(i[0]/100))})).map((function(e){return(0,g.jsxs)("text",{x:100*e,y:-2,fontSize:"0.25em",fill:"blck",children:[" ","(",100*e,", 0)"," "]},e)}))]})};function Ae(t){var n=(0,e.useRef)(),i=(0,e.useState)([0,0,500,500]),a=(0,r.Z)(i,2),o=a[0],s=a[1],l=(0,e.useState)(null),h=(0,r.Z)(l,2),c=h[0],f=h[1],d=(0,e.useState)(.01),m=(0,r.Z)(d,2),v=m[0],y=m[1],p=(0,e.useState)(1e3),_=(0,r.Z)(p,2),b=_[0],k=_[1],x=(0,e.useState)(950),w=(0,r.Z)(x,2),C=w[0],S=w[1],P=t.images.map((function(e){return e.width*e.scaling+e.x})).reduce((function(e,t){return e>t?e:t}),0),M=t.images.map((function(e){return e.height*e.scaling+e.y})).reduce((function(e,t){return e>t?e:t}),0),z=t.images.reduce((function(e,t){var n=(0,r.Z)(e,2),i=n[0],a=n[1];return[i<t.x?i:t.x,a<t.y?a:t.y]}),[0,0]);return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{style:{paddingBottom:"20px",paddingLeft:"40px",width:"450px"},children:[(0,g.jsxs)("div",{children:["outer canvas (red) width:"," ",(0,g.jsx)("input",{value:b,type:"number",style:{width:"50px"},onChange:function(e){return k(e.target.value)}})," ","x height:"," ",(0,g.jsx)("input",{value:C,type:"number",style:{width:"50px"},onChange:function(e){return S(e.target.value)}})," ","(pixels)"]}),(0,g.jsxs)(ke,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",children:[(0,g.jsx)("span",{children:"zoomSpeed "}),(0,g.jsx)("span",{children:(0,g.jsx)(xe.Z,{})}),(0,g.jsx)(he,{size:"small",value:v,startIcon:(0,g.jsx)(xe.Z,{}),type:"range",min:.1,max:.9,step:.1,valueLabelDisplay:"auto",marks:we,onChange:function(e){return y(e.target.value)}})]})]}),(0,g.jsxs)("svg",u(u({xmlns:"http://www.w3.org/2000/svg",ref:n,id:"myCanvas",onWheel:function(e){return s(function(e,t,n,i){var r=-n.current.getBoundingClientRect().x+e.clientX,a=-n.current.getBoundingClientRect().y+e.clientY,o=+n.current.clientWidth,u=+n.current.clientHeight,s=e.deltaY>0?1:-1,l=t[2]+i*s*t[2],h=t[3]+i*s*t[3],c=r/o*(t[2]-l),f=a/u*(t[3]-h);return[t[0]+c,t[1]+f,l,h]}(e,o,n,v))}},Ce(n,c,f,s,o)),{},{viewBox:o.join(" "),style:{width:b,height:C},children:[t.images.map((function(e){return(0,g.jsx)(Me,u({},e),e.id)})),(0,g.jsx)(ze,{inner_canvas_width:P,inner_canvas_height:M,inner_grid_start:z})]}))]})}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Fe(e,t,n){return t&&Re(e.prototype,t),n&&Re(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Te=function(){function e(){Ie(this,e)}return Fe(e,null,[{key:"fract",value:function(e){return e-Math.floor(e)}},{key:"smoothStep",value:function(t,n,i){var r=(i-t)/(n-t),a=e.clamp(r,0,1);return a*a*(3-2*a)}},{key:"mix",value:function(e,t,n){return e*(1-n)+t*n}},{key:"sign",value:function(e){return e<0?-1:e>0?1:0}},{key:"step",value:function(e,t){return t<e?0:1}},{key:"length3",value:function(e,t,n){return Math.sqrt(e*e+t*t+n*n)}},{key:"gcd",value:function(e,t){for(var n=Math.abs(e),i=Math.abs(t);i;){var r=i;i=n%i,n=r}return n}},{key:"clamp",value:function(e,t,n){return Math.max(t,Math.min(e,n))}},{key:"clampInt",value:function(t,n,i){return Math.trunc(e.clamp(t,n,i))}},{key:"clampInt255",value:function(t){return Math.trunc(e.clamp(t,0,255))}}]),e}();function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ne(e,t)}function Be(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}function Ee(e){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ee(e)}function Le(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Oe(e,t){if(t&&("object"===De(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ue(e){var t=Le();return function(){var n,i=Ee(e);if(t){var r=Ee(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Oe(this,n)}}function Ve(e,t,n){return Ve=Le()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Ne(r,n.prototype),r},Ve.apply(null,arguments)}function Ze(e){var t="function"===typeof Map?new Map:void 0;return Ze=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return Ve(e,arguments,Ee(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ne(i,e)},Ze(e)}var je,He,We=function(e){Be(n,e);var t=Ue(n);function n(){return Ie(this,n),t.apply(this,arguments)}return Fe(n,[{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this.message,")")}}]),n}(Ze(Error));!function(e){e[e.uint1=0]="uint1",e[e.uint2=1]="uint2",e[e.uint4=2]="uint4",e[e.uint8=3]="uint8",e[e.uint16=4]="uint16",e[e.uint32=5]="uint32",e[e.int8=6]="int8",e[e.int16=7]="int16",e[e.int32=8]="int32",e[e.float16=9]="float16",e[e.float32=10]="float32",e[e.float64=11]="float64"}(je||(je={})),function(e){e[e.uint=0]="uint",e[e.int=1]="int",e[e.float=2]="float"}(He||(He={}));new Map([[je.uint1,He.uint],[je.uint2,He.uint],[je.uint4,He.uint],[je.uint8,He.uint],[je.uint16,He.uint],[je.uint32,He.uint],[je.int8,He.int],[je.int16,He.int],[je.int32,He.int],[je.float16,He.float],[je.float32,He.float],[je.float64,He.float]]);var qe=new Map([[je.uint1,1],[je.uint2,1],[je.uint4,1],[je.uint8,1],[je.uint16,2],[je.uint32,4],[je.int8,1],[je.int16,2],[je.int32,4],[je.float16,2],[je.float32,4],[je.float64,8]]),Ge=new Map([[je.uint1,1],[je.uint2,3],[je.uint4,15],[je.uint8,255],[je.uint16,65535],[je.uint32,4294967295],[je.int8,127],[je.int16,32767],[je.int32,2147483647],[je.float16,1],[je.float32,1],[je.float64,1]]);function $e(e,t,n){if(t===n)return e;switch(t){case je.uint1:return 0===e?0:Ge.get(n);case je.uint2:switch(n){case je.uint1:return 0===e?0:1;case je.uint2:return e;case je.uint4:return 5*e;case je.uint8:return 75*e;case je.uint16:return 21845*e;case je.uint32:return 1431655765*e;case je.int8:return 42*e;case je.int16:return 10922*e;case je.int32:return 715827882*e;case je.float16:case je.float32:case je.float64:return e/3}break;case je.uint4:switch(n){case je.uint1:return 0===e?0:1;case je.uint2:return Math.trunc(e)>>1;case je.uint4:return e;case je.uint8:return 17*e;case je.uint16:return 4369*e;case je.uint32:return 286331153*e;case je.int8:return 8*e;case je.int16:return 2184*e;case je.int32:return 143165576*e;case je.float16:case je.float32:case je.float64:return e/3}break;case je.uint8:switch(n){case je.uint1:return 0===e?0:1;case je.uint2:return Math.trunc(e)>>6;case je.uint4:return Math.trunc(e)>>4;case je.uint8:return e;case je.uint16:return 257*e;case je.uint32:return 16843009*e;case je.int8:return Math.trunc(e)>>1;case je.int16:return 128*e;case je.int32:return 8421504*e;case je.float16:case je.float32:case je.float64:return e/255}break;case je.uint16:switch(n){case je.uint1:return 0===e?0:1;case je.uint2:return Math.trunc(e)>>14;case je.uint4:return Math.trunc(e)>>12;case je.uint8:return Math.trunc(e)>>8;case je.uint16:return e;case je.uint32:return Math.trunc(e)<<8;case je.int8:return Math.trunc(e)>>9;case je.int16:return Math.trunc(e)>>1;case je.int32:return 524296*e;case je.float16:case je.float32:case je.float64:return e/65535}break;case je.uint32:switch(n){case je.uint1:return 0===e?0:1;case je.uint2:return Math.trunc(e)>>30;case je.uint4:return Math.trunc(e)>>28;case je.uint8:return Math.trunc(e)>>24;case je.uint16:return Math.trunc(e)>>16;case je.uint32:return e;case je.int8:return Math.trunc(e)>>25;case je.int16:return Math.trunc(e)>>17;case je.int32:return Math.trunc(e)>>1;case je.float16:case je.float32:case je.float64:return e/4294967295}break;case je.int8:switch(n){case je.uint1:return 0===e?0:1;case je.uint2:return e<=0?0:Math.trunc(e)>>5;case je.uint4:return e<=0?0:Math.trunc(e)>>3;case je.uint8:return e<=0?0:Math.trunc(e)<<1;case je.uint16:return e<=0?0:516*Math.trunc(e);case je.uint32:return e<=0?0:33818640*Math.trunc(e);case je.int8:return e;case je.int16:return 258*e;case je.int32:return 16909320*e;case je.float16:case je.float32:case je.float64:return e/127}break;case je.int16:switch(n){case je.uint1:return 0===e?0:1;case je.uint2:return e<=0?0:Math.trunc(e)>>15;case je.uint4:return e<=0?0:Math.trunc(e)>>11;case je.uint8:return e<=0?0:Math.trunc(e)>>7;case je.uint16:return e<=0?0:Math.trunc(e)<<1;case je.uint32:return e<=0?0:131076*Math.trunc(e);case je.int8:return Math.trunc(e)>>8;case je.int16:return e;case je.int32:return 65538*Math.trunc(e);case je.float16:case je.float32:case je.float64:return e/32767}break;case je.int32:switch(n){case je.uint1:return 0===e?0:1;case je.uint2:return e<=0?0:Math.trunc(e)>>29;case je.uint4:return e<=0?0:Math.trunc(e)>>27;case je.uint8:return e<=0?0:Math.trunc(e)>>23;case je.uint16:return e<=0?0:Math.trunc(e)>>16;case je.uint32:return e<=0?0:Math.trunc(e)<<1;case je.int8:return Math.trunc(e)>>24;case je.int16:return Math.trunc(e)>>16;case je.int32:return e;case je.float16:case je.float32:case je.float64:return e/2147483647}break;case je.float16:case je.float32:case je.float64:switch(n){case je.uint1:return 0===e?0:1;case je.uint2:return Math.trunc(3*Te.clamp(e,0,1));case je.uint4:return Math.trunc(15*Te.clamp(e,0,1));case je.uint8:return Math.trunc(255*Te.clamp(e,0,1));case je.uint16:return Math.trunc(65535*Te.clamp(e,0,1));case je.uint32:return Math.trunc(4294967295*Te.clamp(e,0,1));case je.int8:return Math.trunc(e<0?128*Te.clamp(e,-1,1):127*Te.clamp(e,-1,1));case je.int16:return Math.trunc(e<0?32768*Te.clamp(e,-1,1):32767*Te.clamp(e,-1,1));case je.int32:return Math.trunc(e<0?2147483648*Te.clamp(e,-1,1):2147483647*Te.clamp(e,-1,1));case je.float16:case je.float32:case je.float64:return e}}throw new We("Unknown format.")}var Ye=function(){function e(){Ie(this,e)}return Fe(e,null,[{key:"countTrailingZeroBits",value:function(e){var t=32,n=e&-e;return 0!==n&&t--,0!==(65535&n)&&(t-=16),0!==(16711935&n)&&(t-=8),0!==(252645135&n)&&(t-=4),0!==(858993459&n)&&(t-=2),0!==(1431655765&n)&&(t-=1),t}},{key:"reverseByte",value:function(e){return this._reverseByteTable[e]}},{key:"signed",value:function(e,t){return t&1<<e-1?t-(1<<e):t}},{key:"shiftR",value:function(t,n){return e.signed(32,t>>n)}},{key:"shiftL",value:function(t,n){return e.signed(32,t<<n)}},{key:"uint8ToInt8",value:function(e){return this._uint8[0]=e,this._uint8ToInt8[0]}},{key:"int8ToUint8",value:function(e){return this._int8[0]=e,this._int8ToUint8[0]}},{key:"uint16ToInt16",value:function(e){return this._uint16[0]=e,this._uint16ToInt16[0]}},{key:"int16ToUint16",value:function(e){return this._int16[0]=e,this._int16ToUint16[0]}},{key:"uint32ToInt32",value:function(e){return this._uint32[0]=e,this._uint32ToInt32[0]}},{key:"uint32ToFloat32",value:function(e){return this._uint32[0]=e,this._uint32ToFloat32[0]}},{key:"uint64ToFloat64",value:function(e){return this._uint64[0]=e,this._uint64ToFloat64[0]}},{key:"int32ToUint32",value:function(e){return this._int32[0]=e,this._int32ToUint32[0]}},{key:"float32ToUint32",value:function(e){return this._float32[0]=e,this._float32ToUint32[0]}},{key:"debugBits32",value:function(e){if(void 0===e)return"undefined";for(var t="",n=32;n>-1;n--)t+=0===(e&1<<n)?"0":"1";return t}}]),e}();Ye._uint8=new Uint8Array(1),Ye._uint8ToInt8=new Int8Array(Ye._uint8.buffer),Ye._int8=new Int8Array(1),Ye._int8ToUint8=new Uint8Array(Ye._int8.buffer),Ye._uint16=new Uint16Array(1),Ye._uint16ToInt16=new Int16Array(Ye._uint16.buffer),Ye._int16=new Int16Array(1),Ye._int16ToUint16=new Uint16Array(Ye._int16.buffer),Ye._uint32=new Uint32Array(1),Ye._uint32ToInt32=new Int32Array(Ye._uint32.buffer),Ye._uint32ToFloat32=new Float32Array(Ye._uint32.buffer),Ye._int32=new Int32Array(1),Ye._int32ToUint32=new Uint32Array(Ye._int32.buffer),Ye._float32=new Float32Array(1),Ye._float32ToUint32=new Uint32Array(Ye._float32.buffer),Ye._uint64=new BigUint64Array(1),Ye._uint64ToFloat64=new Float64Array(Ye._uint64.buffer),Ye._reverseByteTable=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255];var Xe=function(){function e(){Ie(this,e)}return Fe(e,null,[{key:"getCodePoints",value:function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++){var i=e.codePointAt(n);if(void 0===i)throw new We('Error encoding text "'.concat(e,'"'));if(!(0<=i&&i<256))throw new We('Error encoding text "'.concat(e,'": unknown character code point ').concat(i));t[n]=i}return t}}]),e}();Xe.utf8Decoder=new TextDecoder("utf8"),Xe.latin1Decoder=new TextDecoder("latin1");var Qe,Ke=function(){function e(t){var n,i;Ie(this,e),this._buffer=t.buffer,this._bigEndian=null!==(n=t.bigEndian)&&void 0!==n&&n,this._offset=null!==(i=t.offset)&&void 0!==i?i:0,this._start=this._offset,this._end=void 0!==t.length?this._start+t.length:this._buffer.length}return Fe(e,[{key:"buffer",get:function(){return this._buffer}},{key:"bigEndian",get:function(){return this._bigEndian},set:function(e){this._bigEndian=e}},{key:"offset",get:function(){return this._offset},set:function(e){this._offset=e}},{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}},{key:"position",get:function(){return this._offset-this._start}},{key:"length",get:function(){return this._end-this._offset}},{key:"isEOS",get:function(){return this._offset>=this._end}},{key:"rewind",value:function(){this._offset=this._start}},{key:"getByte",value:function(e){return this._buffer[this._offset+e]}},{key:"setByte",value:function(e,t){return this._buffer[this._offset+e]=t}},{key:"memset",value:function(e,t,n){this._buffer.fill(this._offset+e,this._offset+e+t,n)}},{key:"subarray",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=void 0!==n?this._start+n:this._offset;return r+=i,new e({buffer:this._buffer,bigEndian:this._bigEndian,offset:r,length:t})}},{key:"indexOf",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.offset+this.length,i=this.offset+t;i<n;++i)if(this._buffer[i]===e)return i-this._start;return-1}},{key:"peekBytes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.subarray(e,void 0,t)}},{key:"skip",value:function(e){this._offset+=e}},{key:"readByte",value:function(){return this._buffer[this._offset++]}},{key:"readInt8",value:function(){return Ye.uint8ToInt8(this.readByte())}},{key:"readBytes",value:function(e){var t=this.subarray(e);return this._offset+=t.length,t}},{key:"readString",value:function(e){if(void 0===e){for(var t=[];!this.isEOS;){var n=this.readByte();if(0===n)return String.fromCharCode.apply(String,t);t.push(n)}throw new We("EOF reached without finding string terminator.")}var r=this.readBytes(e).toUint8Array();return String.fromCharCode.apply(String,(0,i.Z)(r))}},{key:"readStringUtf8",value:function(){for(var e=[];!this.isEOS;){var t=this.readByte();if(0===t){var n=new Uint8Array(e);return Xe.utf8Decoder.decode(n)}e.push(t)}var i=new Uint8Array(e);return Xe.utf8Decoder.decode(i)}},{key:"readUint16",value:function(){var e=255&this._buffer[this._offset++],t=255&this._buffer[this._offset++];return this._bigEndian?e<<8|t:t<<8|e}},{key:"readInt16",value:function(){return Ye.uint16ToInt16(this.readUint16())}},{key:"readUint24",value:function(){var e=255&this._buffer[this._offset++],t=255&this._buffer[this._offset++],n=255&this._buffer[this._offset++];return this._bigEndian?n|t<<8|e<<16:e|t<<8|n<<16}},{key:"readUint32",value:function(){return Ye.int32ToUint32(this.readInt32())}},{key:"readInt32",value:function(){var e=255&this._buffer[this._offset++],t=255&this._buffer[this._offset++],n=255&this._buffer[this._offset++],i=255&this._buffer[this._offset++];return this._bigEndian?e<<24|t<<16|n<<8|i:i<<24|n<<16|t<<8|e}},{key:"readFloat32",value:function(){return Ye.uint32ToFloat32(this.readUint32())}},{key:"readFloat64",value:function(){return Ye.uint64ToFloat64(this.readUint64())}},{key:"readUint64",value:function(){var e=255&this._buffer[this._offset++],t=255&this._buffer[this._offset++],n=255&this._buffer[this._offset++],i=255&this._buffer[this._offset++],r=255&this._buffer[this._offset++],a=255&this._buffer[this._offset++],o=255&this._buffer[this._offset++],u=255&this._buffer[this._offset++];return this._bigEndian?BigInt(e<<56)|BigInt(t<<48)|BigInt(n<<40)|BigInt(i<<32)|BigInt(r<<24)|BigInt(a<<16)|BigInt(o<<8)|BigInt(u):BigInt(u<<56)|BigInt(o<<48)|BigInt(a<<40)|BigInt(r<<32)|BigInt(i<<24)|BigInt(n<<16)|BigInt(t<<8)|BigInt(e)}},{key:"toUint8Array",value:function(e,t){var n=null!==e&&void 0!==e?e:0,i=null!==t&&void 0!==t?t:this.length-n;return new Uint8Array(this._buffer.buffer,this._buffer.byteOffset+this._offset+n,i)}},{key:"toUint32Array",value:function(e){var t=null!==e&&void 0!==e?e:0;return new Uint32Array(this._buffer.buffer,this._buffer.byteOffset+this._offset+t)}}],[{key:"from",value:function(t,n,i){var r=null!==n&&void 0!==n?n:0,a=new e({buffer:t._buffer,bigEndian:t._bigEndian,offset:t._offset+r,length:i});return a._start=t._start,a._end=void 0!==i?t.offset+r+i:t._end,a}}]),e}(),Je=n(2327);function et(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Je.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}!function(e){e[e.rgba=0]="rgba",e[e.bgra=1]="bgra",e[e.abgr=2]="abgr",e[e.argb=3]="argb",e[e.rgb=4]="rgb",e[e.bgr=5]="bgr",e[e.grayAlpha=6]="grayAlpha",e[e.red=7]="red"}(Qe||(Qe={}));var tt,nt=new Map([[Qe.rgba,4],[Qe.bgra,4],[Qe.abgr,4],[Qe.argb,4],[Qe.rgb,3],[Qe.bgr,3],[Qe.grayAlpha,2],[Qe.red,1]]),it=function(){function e(t,n){Ie(this,e),this._numerator=t,this._denominator=n}return Fe(e,[{key:"numerator",get:function(){return this._numerator}},{key:"denominator",get:function(){return this._denominator}},{key:"toInt",get:function(){return 0!==this.denominator?Math.trunc(this.numerator/this.denominator):0}},{key:"toDouble",get:function(){return 0!==this.denominator?this.numerator/this.denominator:0}},{key:"simplify",value:function(){var e=Te.gcd(this.numerator,this.denominator);0!==e&&(this._numerator=Math.trunc(this.numerator/e),this._denominator=Math.trunc(this.denominator/e))}},{key:"equals",value:function(e){return this._numerator===e._numerator&&this._denominator===e._denominator}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this._numerator,"/").concat(this._denominator,")")}}]),e}(),rt=function(){function e(){Ie(this,e)}return Fe(e,null,[{key:"copyInt8",value:function(e,t,n){return Int8Array.from(e.subarray(t,n))}},{key:"copyUint8",value:function(e,t,n){return Uint8Array.from(e.subarray(t,n))}},{key:"copyInt16",value:function(e,t,n){return Int16Array.from(e.subarray(t,n))}},{key:"copyUint16",value:function(e,t,n){return Uint16Array.from(e.subarray(t,n))}},{key:"copyInt32",value:function(e,t,n){return Int32Array.from(e.subarray(t,n))}},{key:"copyUint32",value:function(e,t,n){return Uint32Array.from(e.subarray(t,n))}},{key:"copyFloat32",value:function(e,t,n){return Float32Array.from(e.subarray(t,n))}},{key:"copyFloat64",value:function(e,t,n){return Float64Array.from(e.subarray(t,n))}},{key:"copy",value:function(t,n,i){if(t instanceof Int8Array)return e.copyInt8(t,n,i);if(t instanceof Uint8Array)return e.copyUint8(t,n,i);if(t instanceof Int16Array)return e.copyInt16(t,n,i);if(t instanceof Uint16Array)return e.copyUint16(t,n,i);if(t instanceof Int32Array)return e.copyInt32(t,n,i);if(t instanceof Uint32Array)return e.copyUint32(t,n,i);if(t instanceof Float32Array)return e.copyFloat32(t,n,i);if(t instanceof Float64Array)return e.copyFloat64(t,n,i);throw new We("Unknown array type")}},{key:"copyRange",value:function(e,t,n,i,r){var a=e.subarray(t,n);i.set(a,r)}},{key:"fill",value:function(e,t){return new Array(e).fill(t)}},{key:"generate",value:function(e,t){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i);return n}},{key:"equals",value:function(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(var i=0,r=t.length;i<r;i++)if(e.isNumArrayOrTypedArray(t[i])&&e.isNumArrayOrTypedArray(n[i])){if(!e.equals(t[i],n[i]))return!1}else if(t[i]!==n[i])return!1;return!0}},{key:"equalsRationalArray",value:function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(!e[n].equals(t[n]))return!1;return!0}},{key:"getNumEnumValues",value:function(e){return Object.values(e).filter((function(e){return"number"===typeof e}))}},{key:"isNumArrayOrTypedArray",value:function(e){return Boolean(e&&"object"===typeof e&&(Array.isArray(e)&&e.every((function(e){return"number"===typeof e}))||ArrayBuffer.isView(e)&&!(e instanceof DataView)))}},{key:"isArrayOfRational",value:function(e){return Boolean(e&&"object"===typeof e&&Array.isArray(e)&&e.every((function(e){return e instanceof it})))}}]),e}();!function(e){e[e.red=0]="red",e[e.green=1]="green",e[e.blue=2]="blue",e[e.alpha=3]="alpha",e[e.luminance=4]="luminance"}(tt||(tt={}));var at,ot=function(){function e(t){Ie(this,e),this.bits=void 0!==t?e.doubleToFloat16(t):0}return Fe(e,[{key:"toDouble",value:function(){return e._toFloatFloat32[this.bits]}},{key:"minus",value:function(){return e.fromBits(32768^this.bits)}},{key:"add",value:function(t){var n=t instanceof e?t.toDouble():"number"===typeof t?t:0;return new e(this.toDouble()+n)}},{key:"sub",value:function(t){var n=t instanceof e?t.toDouble():"number"===typeof t?t:0;return new e(this.toDouble()-n)}},{key:"mul",value:function(t){var n=t instanceof e?t.toDouble():"number"===typeof t?t:0;return new e(this.toDouble()*n)}},{key:"div",value:function(t){var n=t instanceof e?t.toDouble():"number"===typeof t?t:0;return new e(this.toDouble()/n)}},{key:"round",value:function(t){if(t>=10)return e.from(this);var n=32768&this.bits,i=32767&this.bits;return i>>=9-t,i+=1&i,(i<<=9-t)>=31744&&(i=this.bits,i>>=10-t,i<<=10-t),e.fromBits(n|i)}},{key:"isFinite",value:function(){return(this.bits>>10&31)<31}},{key:"isNormalized",value:function(){var e=this.bits>>10&31;return e>0&&e<31}},{key:"isDenormalized",value:function(){var e=this.bits>>10&31,t=1023&this.bits;return 0===e&&0!==t}},{key:"isZero",value:function(){return 0===(32767&this.bits)}},{key:"isNaN",value:function(){var e=this.bits>>10&31,t=1023&this.bits;return 31===e&&0!==t}},{key:"isInfinity",value:function(){var e=this.bits>>10&31,t=1023&this.bits;return 31===e&&0===t}},{key:"isNegative",value:function(){return 0!==(32768&this.bits)}}],[{key:"_toFloatFloat32",get:function(){return void 0!==this._toFloatFloat32Data?this._toFloatFloat32Data:this.initialize()}},{key:"convert",value:function(e){var t=e>>16&32768,n=(e>>23&255)-112,i=8388607&e;if(n<=0){if(n<-10)return t;var r=14-n;return t|(i=(i|=8388608)+((1<<r-1)-1)+(i>>r&1)>>r)}return 143===n?0===i?31744|t:31744|t|(i>>=13)|(0===i?1:0):(0!==(8388608&(i=i+4095+(i>>13&1)))&&(i=0,n+=1),n>30?31744|t:t|n<<10|i>>13)}},{key:"initialize",value:function(){if(void 0!==this._toFloatFloat32Data)return this._toFloatFloat32Data;var e=new Uint32Array(65536);this._toFloatFloat32Data=new Float32Array(e.buffer),this._eLut=new Uint16Array(512);for(var t=0;t<256;t++){var n=(255&t)-112;n<=0||n>=30?(this._eLut[t]=0,this._eLut[256|t]=0):(this._eLut[t]=n<<10,this._eLut[256|t]=n<<10|32768)}for(var i=0;i<65536;i++)e[i]=this.halfToFloat(i);return this._toFloatFloat32Data}},{key:"halfToFloat",value:function(e){var t=e>>15&1,n=e>>10&31,i=1023&e;if(0===n){if(0===i)return t<<31;for(;0===(1024&i);)i<<=1,n-=1;n+=1,i&=-1025}else if(31===n)return 0===i?t<<31|2139095040:t<<31|2139095040|i<<13;return t<<31|(n+=112)<<23|(i<<=13)}},{key:"from",value:function(t){var n=new e;return n.bits=t.bits,n}},{key:"fromBits",value:function(t){var n=new e;return n.bits=t,n}},{key:"float16ToDouble",value:function(e){return this._toFloatFloat32[e]}},{key:"doubleToFloat16",value:function(e){var t=e,n=Ye.float32ToUint32(t);if(0===t)return n>>16;void 0===this._toFloatFloat32Data&&this.initialize();var i=n>>23&511;if(0!==(i=this._eLut[i])){var r=8388607&n;return i+(r+4095+(r>>13&1)>>13)}return this.convert(n)}},{key:"posInf",value:function(){return e.fromBits(31744)}},{key:"negInf",value:function(){return e.fromBits(64512)}},{key:"qNan",value:function(){return e.fromBits(32767)}},{key:"sNan",value:function(){return e.fromBits(32255)}}]),e}(),ut=function(){function e(t){Ie(this,e),this.data="number"===typeof t?new Uint16Array(t):t.slice()}return Fe(e,[{key:"format",get:function(){return je.float16}},{key:"length",get:function(){return this.data.length}},{key:"maxChannelValue",get:function(){return 1}},{key:"maxIndexValue",get:function(){return 1}},{key:"isLdrFormat",get:function(){return!1}},{key:"isHdrFormat",get:function(){return!0}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"r",get:function(){return this.getChannel(0)},set:function(e){this.setChannel(0,e)}},{key:"g",get:function(){return this.getChannel(1)},set:function(e){this.setChannel(1,e)}},{key:"b",get:function(){return this.getChannel(2)},set:function(e){this.setChannel(2,e)}},{key:"a",get:function(){return this.getChannel(3)},set:function(e){this.setChannel(3,e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.data.length?ot.float16ToDouble(this.data[e]):0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.data.length&&(this.data[e]=ot.doubleToFloat16(t))}},{key:"set",value:function(e){this.setRgba(e.r,e.g,e.b,e.a)}},{key:"setRgb",value:function(e,t,n){this.data[0]=ot.doubleToFloat16(e);var i=this.data.length;i>1&&(this.data[1]=ot.doubleToFloat16(t),i>2&&(this.data[2]=ot.doubleToFloat16(n)))}},{key:"setRgba",value:function(e,t,n,i){this.data[0]=ot.doubleToFloat16(e);var r=this.data.length;r>1&&(this.data[1]=ot.doubleToFloat16(t),r>2&&(this.data[2]=ot.doubleToFloat16(n),r>3&&(this.data[3]=ot.doubleToFloat16(i))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return e.from(this)}},{key:"equals",value:function(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t++)if(e.getChannel(t)!==this.getChannel(t))return!1;return!0}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:null===e||void 0===e?void 0:e.format,numChannels:null===e||void 0===e?void 0:e.numChannels,alpha:null===e||void 0===e?void 0:e.alpha})}}],[{key:"from",value:function(t){var n=new e(t.length);return n.data=t.data,n}},{key:"fromArray",value:function(t){for(var n=new e(t),i=t.length,r=0;r<i;++r)n.data[r]=ot.doubleToFloat16(t[r]);return n}},{key:"rgb",value:function(t,n,i){return new e(new Uint16Array([ot.doubleToFloat16(t),ot.doubleToFloat16(n),ot.doubleToFloat16(i)]))}},{key:"rgba",value:function(t,n,i,r){return new e(new Uint16Array([ot.doubleToFloat16(t),ot.doubleToFloat16(n),ot.doubleToFloat16(i),ot.doubleToFloat16(r)]))}}]),e}(),st=function(){function e(t){Ie(this,e),this.data="number"===typeof t?new Float32Array(t):t.slice()}return Fe(e,[{key:"format",get:function(){return je.float32}},{key:"length",get:function(){return this.data.length}},{key:"maxChannelValue",get:function(){return 1}},{key:"maxIndexValue",get:function(){return 1}},{key:"isLdrFormat",get:function(){return!1}},{key:"isHdrFormat",get:function(){return!0}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"r",get:function(){return this.getChannel(0)},set:function(e){this.setChannel(0,e)}},{key:"g",get:function(){return this.getChannel(1)},set:function(e){this.setChannel(1,e)}},{key:"b",get:function(){return this.getChannel(2)},set:function(e){this.setChannel(2,e)}},{key:"a",get:function(){return this.getChannel(3)},set:function(e){this.setChannel(3,e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.data.length?this.data[e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.data.length&&(this.data[e]=t)}},{key:"set",value:function(e){this.setRgba(e.r,e.g,e.b,e.a)}},{key:"setRgb",value:function(e,t,n){this.data[0]=e;var i=this.data.length;i>1&&(this.data[1]=t,i>2&&(this.data[2]=n))}},{key:"setRgba",value:function(e,t,n,i){this.data[0]=e;var r=this.data.length;r>1&&(this.data[1]=t,r>2&&(this.data[2]=n,r>3&&(this.data[3]=i)))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return e.from(this)}},{key:"equals",value:function(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t++)if(e.getChannel(t)!==this.getChannel(t))return!1;return!0}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:null===e||void 0===e?void 0:e.format,numChannels:null===e||void 0===e?void 0:e.numChannels,alpha:null===e||void 0===e?void 0:e.alpha})}}],[{key:"from",value:function(t){var n=new e(t.length);return n.data=t.data,n}},{key:"fromArray",value:function(t){return new e(t)}},{key:"rgb",value:function(t,n,i){return new e(new Float32Array([t,n,i]))}},{key:"rgba",value:function(t,n,i,r){return new e(new Float32Array([t,n,i,r]))}}]),e}(),lt=function(){function e(t){Ie(this,e),this.data="number"===typeof t?new Float64Array(t):t.slice()}return Fe(e,[{key:"format",get:function(){return je.float64}},{key:"length",get:function(){return this.data.length}},{key:"maxChannelValue",get:function(){return 1}},{key:"maxIndexValue",get:function(){return 1}},{key:"isLdrFormat",get:function(){return!0}},{key:"isHdrFormat",get:function(){return!1}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"r",get:function(){return this.getChannel(0)},set:function(e){this.setChannel(0,e)}},{key:"g",get:function(){return this.getChannel(1)},set:function(e){this.setChannel(1,e)}},{key:"b",get:function(){return this.getChannel(2)},set:function(e){this.setChannel(2,e)}},{key:"a",get:function(){return this.getChannel(3)},set:function(e){this.setChannel(3,e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.data.length?this.data[e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.data.length&&(this.data[e]=t)}},{key:"set",value:function(e){this.setRgba(e.r,e.g,e.b,e.a)}},{key:"setRgb",value:function(e,t,n){this.data[0]=e;var i=this.data.length;i>1&&(this.data[1]=t,i>2&&(this.data[2]=n))}},{key:"setRgba",value:function(e,t,n,i){this.data[0]=e;var r=this.data.length;r>1&&(this.data[1]=t,r>2&&(this.data[2]=n,r>3&&(this.data[3]=i)))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return e.from(this)}},{key:"equals",value:function(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t++)if(e.getChannel(t)!==this.getChannel(t))return!1;return!0}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:null===e||void 0===e?void 0:e.format,numChannels:null===e||void 0===e?void 0:e.numChannels,alpha:null===e||void 0===e?void 0:e.alpha})}}],[{key:"from",value:function(t){var n=new e(t.length);return n.data=t.data,n}},{key:"fromArray",value:function(t){return new e(t)}},{key:"rgb",value:function(t,n,i){return new e(new Float64Array([t,n,i]))}},{key:"rgba",value:function(t,n,i,r){return new e(new Float64Array([t,n,i,r]))}}]),e}(),ht=function(){function e(t){Ie(this,e),this._data="number"===typeof t?new Int16Array(t):t.slice()}return Fe(e,[{key:"format",get:function(){return je.int16}},{key:"length",get:function(){return this._data.length}},{key:"maxChannelValue",get:function(){return 32767}},{key:"maxIndexValue",get:function(){return 32767}},{key:"isLdrFormat",get:function(){return!1}},{key:"isHdrFormat",get:function(){return!0}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"r",get:function(){return this._data.length>0?this._data[0]:0},set:function(e){this._data.length>0&&(this._data[0]=Math.trunc(e))}},{key:"g",get:function(){return this._data.length>1?this._data[1]:0},set:function(e){this._data.length>1&&(this._data[1]=Math.trunc(e))}},{key:"b",get:function(){return this._data.length>2?this._data[2]:0},set:function(e){this._data.length>2&&(this._data[2]=Math.trunc(e))}},{key:"a",get:function(){return this._data.length>3?this._data[3]:0},set:function(e){this._data.length>3&&(this._data[3]=Math.trunc(e))}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this._data.length?this._data[e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this._data.length&&(this._data[e]=Math.trunc(t))}},{key:"set",value:function(e){this.setRgba(e.r,e.g,e.b,e.a)}},{key:"setRgb",value:function(e,t,n){this._data[0]=Math.trunc(e);var i=this._data.length;i>1&&(this._data[1]=Math.trunc(t),i>2&&(this._data[2]=Math.trunc(n)))}},{key:"setRgba",value:function(e,t,n,i){this._data[0]=Math.trunc(e);var r=this._data.length;r>1&&(this._data[1]=Math.trunc(t),r>2&&(this._data[2]=Math.trunc(n),r>3&&(this._data[3]=Math.trunc(i))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return e.from(this)}},{key:"equals",value:function(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t++)if(e.getChannel(t)!==this.getChannel(t))return!1;return!0}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:null===e||void 0===e?void 0:e.format,numChannels:null===e||void 0===e?void 0:e.numChannels,alpha:null===e||void 0===e?void 0:e.alpha})}}],[{key:"from",value:function(t){var n=new e(t.length);return n._data=t._data,n}},{key:"fromArray",value:function(t){return new e(new Int16Array(t))}},{key:"rgb",value:function(t,n,i){return new e(new Int16Array([t,n,i]))}},{key:"rgba",value:function(t,n,i,r){return new e(new Int16Array([t,n,i,r]))}}]),e}(),ct=function(){function e(t){Ie(this,e),this._data="number"===typeof t?new Int32Array(t):t.slice()}return Fe(e,[{key:"format",get:function(){return je.int32}},{key:"length",get:function(){return this._data.length}},{key:"maxChannelValue",get:function(){return 2147483647}},{key:"maxIndexValue",get:function(){return 2147483647}},{key:"isLdrFormat",get:function(){return!1}},{key:"isHdrFormat",get:function(){return!0}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"r",get:function(){return this._data.length>0?this._data[0]:0},set:function(e){this._data.length>0&&(this._data[0]=Math.trunc(e))}},{key:"g",get:function(){return this._data.length>1?this._data[1]:0},set:function(e){this._data.length>1&&(this._data[1]=Math.trunc(e))}},{key:"b",get:function(){return this._data.length>2?this._data[2]:0},set:function(e){this._data.length>2&&(this._data[2]=Math.trunc(e))}},{key:"a",get:function(){return this._data.length>3?this._data[3]:0},set:function(e){this._data.length>3&&(this._data[3]=Math.trunc(e))}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this._data.length?this._data[e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this._data.length&&(this._data[e]=Math.trunc(t))}},{key:"set",value:function(e){this.setRgba(e.r,e.g,e.b,e.a)}},{key:"setRgb",value:function(e,t,n){this._data[0]=Math.trunc(e);var i=this._data.length;i>1&&(this._data[1]=Math.trunc(t),i>2&&(this._data[2]=Math.trunc(n)))}},{key:"setRgba",value:function(e,t,n,i){this._data[0]=Math.trunc(e);var r=this._data.length;r>1&&(this._data[1]=Math.trunc(t),r>2&&(this._data[2]=Math.trunc(n),r>3&&(this._data[3]=Math.trunc(i))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return e.from(this)}},{key:"equals",value:function(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t++)if(e.getChannel(t)!==this.getChannel(t))return!1;return!0}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:null===e||void 0===e?void 0:e.format,numChannels:null===e||void 0===e?void 0:e.numChannels,alpha:null===e||void 0===e?void 0:e.alpha})}}],[{key:"from",value:function(t){var n=new e(t.length);return n._data=t._data,n}},{key:"fromArray",value:function(t){return new e(new Int32Array(t))}},{key:"rgb",value:function(t,n,i){return new e(new Int32Array([t,n,i]))}},{key:"rgba",value:function(t,n,i,r){return new e(new Int32Array([t,n,i,r]))}}]),e}(),ft=function(){function e(t){Ie(this,e),this._data="number"===typeof t?new Int8Array(t):t.slice()}return Fe(e,[{key:"format",get:function(){return je.int8}},{key:"length",get:function(){return this._data.length}},{key:"maxChannelValue",get:function(){return 127}},{key:"maxIndexValue",get:function(){return 127}},{key:"isLdrFormat",get:function(){return!1}},{key:"isHdrFormat",get:function(){return!0}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"r",get:function(){return this._data.length>0?this._data[0]:0},set:function(e){this._data.length>0&&(this._data[0]=Math.trunc(e))}},{key:"g",get:function(){return this._data.length>1?this._data[1]:0},set:function(e){this._data.length>1&&(this._data[1]=Math.trunc(e))}},{key:"b",get:function(){return this._data.length>2?this._data[2]:0},set:function(e){this._data.length>2&&(this._data[2]=Math.trunc(e))}},{key:"a",get:function(){return this._data.length>3?this._data[3]:0},set:function(e){this._data.length>3&&(this._data[3]=Math.trunc(e))}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this._data.length?this._data[e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this._data.length&&(this._data[e]=Math.trunc(t))}},{key:"set",value:function(e){this.setRgba(e.r,e.g,e.b,e.a)}},{key:"setRgb",value:function(e,t,n){this._data[0]=Math.trunc(e);var i=this._data.length;i>1&&(this._data[1]=Math.trunc(t),i>2&&(this._data[2]=Math.trunc(n)))}},{key:"setRgba",value:function(e,t,n,i){this._data[0]=Math.trunc(e);var r=this._data.length;r>1&&(this._data[1]=Math.trunc(t),r>2&&(this._data[2]=Math.trunc(n),r>3&&(this._data[3]=Math.trunc(i))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return e.from(this)}},{key:"equals",value:function(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t++)if(e.getChannel(t)!==this.getChannel(t))return!1;return!0}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:null===e||void 0===e?void 0:e.format,numChannels:null===e||void 0===e?void 0:e.numChannels,alpha:null===e||void 0===e?void 0:e.alpha})}}],[{key:"from",value:function(t){var n=new e(t.length);return n._data=t._data,n}},{key:"fromArray",value:function(t){return new e(new Int8Array(t))}},{key:"rgb",value:function(t,n,i){return new e(new Int8Array([t,n,i]))}},{key:"rgba",value:function(t,n,i,r){return new e(new Int8Array([t,n,i,r]))}}]),e}(),dt=function(){function e(t){Ie(this,e),"number"===typeof t?(this._length=t,this._data=0):(this._length=t.length,this._data=0,this.setRgba(t.length>0?t[0]:0,t.length>1?t[1]:0,t.length>2?t[2]:0,t.length>3?t[3]:0))}return Fe(e,[{key:"format",get:function(){return je.uint1}},{key:"length",get:function(){return this._length}},{key:"maxChannelValue",get:function(){return 1}},{key:"maxIndexValue",get:function(){return 1}},{key:"isLdrFormat",get:function(){return!0}},{key:"isHdrFormat",get:function(){return!1}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"r",get:function(){return this.getChannel(0)},set:function(e){this.setChannel(0,e)}},{key:"g",get:function(){return this.getChannel(1)},set:function(e){this.setChannel(1,e)}},{key:"b",get:function(){return this.getChannel(2)},set:function(e){this.setChannel(2,e)}},{key:"a",get:function(){return this.getChannel(3)},set:function(e){this.setChannel(3,e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannel",value:function(e){return e<this.length?this._data>>7-e&1:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){var n=e;if(!(n>=this.length)){n=7-n;var i=this._data;0!==t?i|=1<<n:i&=~(1<<n&255),this._data=i}}},{key:"set",value:function(e){this.setRgba(e.r,e.g,e.b,e.a)}},{key:"setRgb",value:function(e,t,n){this.r=e,this.g=t,this.b=n}},{key:"setRgba",value:function(e,t,n,i){this.r=e,this.g=t,this.b=n,this.a=i}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return e.from(this)}},{key:"equals",value:function(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t++)if(e.getChannel(t)!==this.getChannel(t))return!1;return!0}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:null===e||void 0===e?void 0:e.format,numChannels:null===e||void 0===e?void 0:e.numChannels,alpha:null===e||void 0===e?void 0:e.alpha})}}],[{key:"from",value:function(t){var n=new e(t._length);return n._data=t._data,n}},{key:"fromArray",value:function(t){return new e(t)}},{key:"rgb",value:function(t,n,i){return new e([t,n,i])}},{key:"rgba",value:function(t,n,i,r){return new e([t,n,i,r])}}]),e}(),mt=function(){function e(t){Ie(this,e),this.data="number"===typeof t?new Uint16Array(t):t.slice()}return Fe(e,[{key:"format",get:function(){return je.uint16}},{key:"length",get:function(){return this.data.length}},{key:"maxChannelValue",get:function(){return 65535}},{key:"maxIndexValue",get:function(){return 65535}},{key:"isLdrFormat",get:function(){return!1}},{key:"isHdrFormat",get:function(){return!0}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"r",get:function(){return this.getChannel(0)},set:function(e){this.setChannel(0,e)}},{key:"g",get:function(){return this.getChannel(1)},set:function(e){this.setChannel(1,e)}},{key:"b",get:function(){return this.getChannel(2)},set:function(e){this.setChannel(2,e)}},{key:"a",get:function(){return this.getChannel(3)},set:function(e){this.setChannel(3,e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.data.length?this.data[e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.data.length&&(this.data[e]=Math.trunc(t))}},{key:"set",value:function(e){this.setRgba(e.r,e.g,e.b,e.a)}},{key:"setRgb",value:function(e,t,n){this.data[0]=Math.trunc(e);var i=this.data.length;i>1&&(this.data[1]=Math.trunc(t),i>2&&(this.data[2]=Math.trunc(n)))}},{key:"setRgba",value:function(e,t,n,i){this.data[0]=Math.trunc(e);var r=this.data.length;r>1&&(this.data[1]=Math.trunc(t),r>2&&(this.data[2]=Math.trunc(n),r>3&&(this.data[3]=Math.trunc(i))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return e.from(this)}},{key:"equals",value:function(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t++)if(e.getChannel(t)!==this.getChannel(t))return!1;return!0}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:null===e||void 0===e?void 0:e.format,numChannels:null===e||void 0===e?void 0:e.numChannels,alpha:null===e||void 0===e?void 0:e.alpha})}}],[{key:"from",value:function(t){var n=new e(t.length);return n.data=t.data,n}},{key:"fromArray",value:function(t){return new e(t)}},{key:"rgb",value:function(t,n,i){return new e(new Uint16Array([t,n,i]))}},{key:"rgba",value:function(t,n,i,r){return new e(new Uint16Array([t,n,i,r]))}}]),e}(),gt=function(){function e(t){Ie(this,e),"number"===typeof t?(this._length=t,this._data=0):(this._length=t.length,this._data=0,this.setRgba(t.length>0?t[0]:0,t.length>1?t[1]:0,t.length>2?t[2]:0,t.length>3?t[3]:0))}return Fe(e,[{key:"format",get:function(){return je.uint2}},{key:"length",get:function(){return this._length}},{key:"maxChannelValue",get:function(){return 3}},{key:"maxIndexValue",get:function(){return 3}},{key:"isLdrFormat",get:function(){return!0}},{key:"isHdrFormat",get:function(){return!1}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"r",get:function(){return this.getChannel(0)},set:function(e){this.setChannel(0,e)}},{key:"g",get:function(){return this.getChannel(1)},set:function(e){this.setChannel(1,e)}},{key:"b",get:function(){return this.getChannel(2)},set:function(e){this.setChannel(2,e)}},{key:"a",get:function(){return this.getChannel(3)},set:function(e){this.setChannel(3,e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannel",value:function(e){return e<this.length?this._data>>6-(e<<1)&3:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){if(!(e>=this.length)){var n=[63,207,243,252][e],i=3&Math.trunc(t);this._data=this._data&n|i<<6-(e<<1)}}},{key:"set",value:function(e){this.setRgba(e.r,e.g,e.b,e.a)}},{key:"setRgb",value:function(e,t,n){this.r=e,this.g=t,this.b=n}},{key:"setRgba",value:function(e,t,n,i){this.r=e,this.g=t,this.b=n,this.a=i}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return e.from(this)}},{key:"equals",value:function(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t++)if(e.getChannel(t)!==this.getChannel(t))return!1;return!0}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:null===e||void 0===e?void 0:e.format,numChannels:null===e||void 0===e?void 0:e.numChannels,alpha:null===e||void 0===e?void 0:e.alpha})}}],[{key:"from",value:function(t){var n=new e(t._length);return n._data=t._data,n}},{key:"fromArray",value:function(t){return new e(t)}},{key:"rgb",value:function(t,n,i){return new e([t,n,i])}},{key:"rgba",value:function(t,n,i,r){return new e([t,n,i,r])}}]),e}(),vt=function(){function e(t){Ie(this,e),this.data="number"===typeof t?new Uint32Array(t):t.slice()}return Fe(e,[{key:"format",get:function(){return je.uint32}},{key:"length",get:function(){return this.data.length}},{key:"maxChannelValue",get:function(){return 4294967295}},{key:"maxIndexValue",get:function(){return 4294967295}},{key:"isLdrFormat",get:function(){return!1}},{key:"isHdrFormat",get:function(){return!0}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"r",get:function(){return this.getChannel(0)},set:function(e){this.setChannel(0,e)}},{key:"g",get:function(){return this.getChannel(1)},set:function(e){this.setChannel(1,e)}},{key:"b",get:function(){return this.getChannel(2)},set:function(e){this.setChannel(2,e)}},{key:"a",get:function(){return this.getChannel(3)},set:function(e){this.setChannel(3,e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.data.length?this.data[e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.data.length&&(this.data[e]=Math.trunc(t))}},{key:"set",value:function(e){this.setRgba(e.r,e.g,e.b,e.a)}},{key:"setRgb",value:function(e,t,n){this.data[0]=Math.trunc(e);var i=this.data.length;i>1&&(this.data[1]=Math.trunc(t),i>2&&(this.data[2]=Math.trunc(n)))}},{key:"setRgba",value:function(e,t,n,i){this.data[0]=Math.trunc(e);var r=this.data.length;r>1&&(this.data[1]=Math.trunc(t),r>2&&(this.data[2]=Math.trunc(n),r>3&&(this.data[3]=Math.trunc(i))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return e.from(this)}},{key:"equals",value:function(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t++)if(e.getChannel(t)!==this.getChannel(t))return!1;return!0}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:null===e||void 0===e?void 0:e.format,numChannels:null===e||void 0===e?void 0:e.numChannels,alpha:null===e||void 0===e?void 0:e.alpha})}}],[{key:"from",value:function(t){var n=new e(t.length);return n.data=t.data,n}},{key:"fromArray",value:function(t){return new e(t)}},{key:"rgb",value:function(t,n,i){return new e(new Uint32Array([t,n,i]))}},{key:"rgba",value:function(t,n,i,r){return new e(new Uint32Array([t,n,i,r]))}}]),e}(),yt=function(){function e(t){Ie(this,e),"number"===typeof t?(this._length=t,this._data=new Uint8Array(this.length<3?1:2)):(this._length=t.length,this._data=new Uint8Array(this._length<3?1:2),this.setRgba(this._length>0?t[0]:0,this._length>1?t[1]:0,this._length>2?t[2]:0,this._length>3?t[3]:0))}return Fe(e,[{key:"format",get:function(){return je.uint4}},{key:"length",get:function(){return this._length}},{key:"maxChannelValue",get:function(){return 15}},{key:"maxIndexValue",get:function(){return 15}},{key:"isLdrFormat",get:function(){return!0}},{key:"isHdrFormat",get:function(){return!1}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"r",get:function(){return this.getChannel(0)},set:function(e){this.setChannel(0,e)}},{key:"g",get:function(){return this.getChannel(1)},set:function(e){this.setChannel(1,e)}},{key:"b",get:function(){return this.getChannel(2)},set:function(e){this.setChannel(2,e)}},{key:"a",get:function(){return this.getChannel(3)},set:function(e){this.setChannel(3,e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannel",value:function(e){return e<0||e>=this.length?0:e<2?this._data[0]>>4-(e<<2)&15:this._data[1]>>4-((1&e)<<2)&15}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){var n=e;if(!(n>=this.length)){var i=Te.clamp(Math.trunc(t),0,15),r=0;n>1&&(n&=1,r=1),0===n?this._data[r]=15&this._data[r]|i<<4:1===n&&(this._data[r]=240&this._data[r]|i)}}},{key:"set",value:function(e){this.setRgba(e.r,e.g,e.b,e.a)}},{key:"setRgb",value:function(e,t,n){this.r=e,this.g=t,this.b=n}},{key:"setRgba",value:function(e,t,n,i){this.r=e,this.g=t,this.b=n,this.a=i}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return e.from(this)}},{key:"equals",value:function(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t++)if(e.getChannel(t)!==this.getChannel(t))return!1;return!0}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:null===e||void 0===e?void 0:e.format,numChannels:null===e||void 0===e?void 0:e.numChannels,alpha:null===e||void 0===e?void 0:e.alpha})}}],[{key:"from",value:function(t){var n=new e(t._length);return n._data=t._data,n}},{key:"fromArray",value:function(t){return new e(t)}},{key:"rgb",value:function(t,n,i){var r=new e(3);return r.setRgb(t,n,i),r}},{key:"rgba",value:function(t,n,i,r){var a=new e(4);return a.setRgba(t,n,i,r),a}}]),e}(),pt=function(){function e(){Ie(this,e)}return Fe(e,null,[{key:"convertColorInternal",value:function(e,t,n){var i,r,a=t.length,o=t.format,u=null!==(r=null===(i=e.palette)||void 0===i?void 0:i.format)&&void 0!==r?r:e.format,s=e.length;if(1===a){var l=Math.trunc(e.length>2?e.luminance:e.getChannel(0));t.setChannel(0,$e(l,u,o))}else if(a<=s)for(var h=0;h<a;++h)t.setChannel(h,$e(e.getChannel(h),u,o));else{for(var c=0;c<s;++c)t.setChannel(c,$e(e.getChannel(c),u,o));for(var f=1===s?t.getChannel(0):0,d=s;d<a;++d)t.setChannel(d,3===d?n:f)}return t}},{key:"uint32ToRed",value:function(e){return 255&e}},{key:"uint32ToGreen",value:function(e){return e>>8&255}},{key:"uint32ToBlue",value:function(e){return e>>16&255}},{key:"uint32ToAlpha",value:function(e){return e>>24&255}},{key:"rgbaToUint32",value:function(e,t,n,i){return Te.clampInt255(e)|Te.clampInt255(t)<<8|Te.clampInt255(n)<<16|Te.clampInt255(i)<<24}},{key:"convertColor",value:function(e){var t,n,i,r,a,o,u,s,l,h,c,f,d,m,g,v,y,p,_,b,k,x=null!==(n=null===(t=e.from.palette)||void 0===t?void 0:t.format)&&void 0!==n?n:e.from.format,w=null!==(a=null!==(r=null===(i=e.to)||void 0===i?void 0:i.format)&&void 0!==r?r:e.format)&&void 0!==a?a:e.from.format,C=null!==(s=null!==(u=null===(o=e.to)||void 0===o?void 0:o.length)&&void 0!==u?u:e.numChannels)&&void 0!==s?s:e.from.length,S=null!==(l=e.alpha)&&void 0!==l?l:0;if(w===x&&C===e.from.length)return void 0===e.to?e.from.clone():(e.to.set(e.from),e.to);switch(w){case je.uint8:var P=null!==(h=e.to)&&void 0!==h?h:new _t(C);return this.convertColorInternal(e.from,P,S);case je.uint1:var M=null!==(c=e.to)&&void 0!==c?c:new dt(C);return this.convertColorInternal(e.from,M,S);case je.uint2:var z=null!==(f=e.to)&&void 0!==f?f:new gt(C);return this.convertColorInternal(e.from,z,S);case je.uint4:var A=null!==(d=e.to)&&void 0!==d?d:new yt(C);return this.convertColorInternal(e.from,A,S);case je.uint16:var I=null!==(m=e.to)&&void 0!==m?m:new mt(C);return this.convertColorInternal(e.from,I,S);case je.uint32:var R=null!==(g=e.to)&&void 0!==g?g:new vt(C);return this.convertColorInternal(e.from,R,S);case je.int8:var F=null!==(v=e.to)&&void 0!==v?v:new ft(C);return this.convertColorInternal(e.from,F,S);case je.int16:var T=null!==(y=e.to)&&void 0!==y?y:new ht(C);return this.convertColorInternal(e.from,T,S);case je.int32:var N=null!==(p=e.to)&&void 0!==p?p:new ct(C);return this.convertColorInternal(e.from,N,S);case je.float16:var B=null!==(_=e.to)&&void 0!==_?_:new ut(C);return this.convertColorInternal(e.from,B,S);case je.float32:var E=null!==(b=e.to)&&void 0!==b?b:new st(C);return this.convertColorInternal(e.from,E,S);case je.float64:var L=null!==(k=e.to)&&void 0!==k?k:new lt(C);return this.convertColorInternal(e.from,L,S)}throw new We("Unknown format.")}},{key:"getLuminance",value:function(e){return.299*e.r+.587*e.g+.114*e.b}},{key:"getLuminanceNormalized",value:function(e){return.299*e.rNormalized+.587*e.gNormalized+.114*e.bNormalized}},{key:"getLuminanceRgb",value:function(e,t,n){return.299*e+.587*t+.114*n}},{key:"hslToRgb",value:function(e,t,n){if(0===t){var i=Math.trunc(255*n);return[i,i,i]}var r=function(e,t,n){var i=n;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},a=n<.5?n*(1+t):n+t-n*t,o=2*n-a,u=r(o,a,e+1/3),s=r(o,a,e),l=r(o,a,e-1/3);return[Math.round(255*u),Math.round(255*s),Math.round(255*l)]}},{key:"hsvToRgb",value:function(e,t,n){if(0===t){var i=Math.round(255*n);return[i,i,i]}var r=6*(e-Math.floor(e)),a=r-Math.floor(r),o=n*(1-t),u=n*(1-t*a),s=n*(1-t*(1-a));switch(Math.trunc(r)){case 0:return[Math.round(255*n),Math.round(255*s),Math.round(255*o)];case 1:return[Math.round(255*u),Math.round(255*n),Math.round(255*o)];case 2:return[Math.round(255*o),Math.round(255*n),Math.round(255*s)];case 3:return[Math.round(255*o),Math.round(255*u),Math.round(255*n)];case 4:return[Math.round(255*s),Math.round(255*o),Math.round(255*n)];case 5:return[Math.round(255*n),Math.round(255*o),Math.round(255*u)];default:throw new We("Invalid hue.")}}},{key:"rgbToHsl",value:function(e,t,n){var i=e/255,r=t/255,a=n/255,o=Math.max(i,Math.max(r,a)),u=Math.min(i,Math.min(r,a)),s=(o+u)/2;if(o===u)return[0,0,s];var l=o-u,h=0;return h=o===i?(r-a)/l+(r<a?6:0):o===r?(a-i)/l+2:(i-r)/l+4,[h/=6,s>.5?l/(2-o-u):l/(o+u),s]}},{key:"labToXyz",value:function(e,t,n){var i=(e+16)/116,r=i+t/500,a=i-n/200;return r=Math.pow(r,3)>.008856?Math.pow(r,3):(r-16/116)/7.787,i=Math.pow(i,3)>.008856?Math.pow(i,3):(i-16/116)/7.787,a=Math.pow(a,3)>.008856?Math.pow(a,3):(a-16/116)/7.787,[Math.trunc(95.047*r),Math.trunc(100*i),Math.trunc(108.883*a)]}},{key:"xyzToRgb",value:function(e,t,n){var i=e/100,r=t/100,a=n/100,o=3.2406*i+-1.5372*r+-.4986*a,u=-.9689*i+1.8758*r+.0415*a,s=.0557*i+-.204*r+1.057*a;return o>.0031308?o=1.055*Math.pow(o,.4166666667)-.055:o*=12.92,u>.0031308?u=1.055*Math.pow(u,.4166666667)-.055:u*=12.92,s>.0031308?s=1.055*Math.pow(s,.4166666667)-.055:s*=12.92,[Te.clampInt255(255*o),Te.clampInt255(255*u),Te.clampInt255(255*s)]}},{key:"cmykToRgb",value:function(e,t,n,i){var r=e/255,a=t/255,o=n/255,u=i/255;return[Math.round(255*(1-r)*(1-u)),Math.round(255*(1-a)*(1-u)),Math.round(255*(1-o)*(1-u))]}},{key:"labToRgb",value:function(e,t,n){var i=(e+16)/116,r=t/500+i,a=i-n/200,o=Math.pow(i,3);i=o>.008856?o:(i-16/116)/7.787;var u=Math.pow(r,3);r=u>.008856?u:(r-16/116)/7.787;var s=Math.pow(a,3);a=s>.008856?s:(a-16/116)/7.787,r*=95.047,i*=100,a*=108.883;var l=3.2406*(r/=100)+-1.5372*(i/=100)+-.4986*(a/=100),h=-.9689*r+1.8758*i+.0415*a,c=.0557*r+-.204*i+1.057*a;return l>.0031308?l=1.055*Math.pow(l,1/2.4)-.055:l*=12.92,h>.0031308?h=1.055*Math.pow(h,1/2.4)-.055:h*=12.92,c>.0031308?c=1.055*Math.pow(c,1/2.4)-.055:c*=12.92,[Te.clampInt255(255*l),Te.clampInt255(255*h),Te.clampInt255(255*c)]}},{key:"rgbToXyz",value:function(e,t,n){var i=e/255,r=t/255,a=n/255;return i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,r>.04045?r=Math.pow((r+.055)/1.055,2.4):r/=12.92,a>.04045?a=Math.pow((a+.055)/1.055,2.4):a/=12.92,[.4124*(i*=100)+.3576*(r*=100)+.1805*(a*=100),.2126*i+.7152*r+.0722*a,.0193*i+.1192*r+.9505*a]}},{key:"xyzToLab",value:function(e,t,n){var i=e/95.047,r=t/100,a=n/108.883;return i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(i-r),200*(r-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]}},{key:"rgbToLab",value:function(e,t,n){var i=e/255,r=t/255,a=n/255;i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,r>.04045?r=Math.pow((r+.055)/1.055,2.4):r/=12.92,a>.04045?a=Math.pow((a+.055)/1.055,2.4):a/=12.92;var o=.4124*(i*=100)+.3576*(r*=100)+.1805*(a*=100),u=.2126*i+.7152*r+.0722*a,s=.0193*i+.1192*r+.9505*a;return u/=100,s/=108.883,o=(o/=95.047)>.008856?Math.pow(o,1/3):7.787*o+16/116,[116*(u=u>.008856?Math.pow(u,1/3):7.787*u+16/116)-16,500*(o-u),200*(u-(s=s>.008856?Math.pow(s,1/3):7.787*s+16/116))]}}]),e}(),_t=function(){function e(t){Ie(this,e),this.data="number"===typeof t?new Uint8Array(t):t.slice()}return Fe(e,[{key:"format",get:function(){return je.uint8}},{key:"length",get:function(){return this.data.length}},{key:"maxChannelValue",get:function(){return 255}},{key:"maxIndexValue",get:function(){return 255}},{key:"isLdrFormat",get:function(){return!0}},{key:"isHdrFormat",get:function(){return!1}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"r",get:function(){return this.getChannel(0)},set:function(e){this.setChannel(0,e)}},{key:"g",get:function(){return this.getChannel(1)},set:function(e){this.setChannel(1,e)}},{key:"b",get:function(){return this.getChannel(2)},set:function(e){this.setChannel(2,e)}},{key:"a",get:function(){return this.getChannel(3,255)},set:function(e){this.setChannel(3,e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e===tt.luminance?this.luminance:e<this.data.length?this.data[e]:t}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.data.length&&(this.data[e]=Math.trunc(t))}},{key:"set",value:function(e){this.setRgba(e.r,e.g,e.b,e.a)}},{key:"setRgb",value:function(e,t,n){this.data[0]=Math.trunc(e);var i=this.data.length;i>1&&(this.data[1]=Math.trunc(t),i>2&&(this.data[2]=Math.trunc(n)))}},{key:"setRgba",value:function(e,t,n,i){this.data[0]=Math.trunc(e);var r=this.data.length;r>1&&(this.data[1]=Math.trunc(t),r>2&&(this.data[2]=Math.trunc(n),r>3&&(this.data[3]=Math.trunc(i))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return e.from(this)}},{key:"equals",value:function(e){if(e.length!==this.length)return!1;for(var t=0;t<this.length;t++)if(e.getChannel(t)!==this.getChannel(t))return!1;return!0}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:null===e||void 0===e?void 0:e.format,numChannels:null===e||void 0===e?void 0:e.numChannels,alpha:null===e||void 0===e?void 0:e.alpha})}}],[{key:"from",value:function(t){var n=new e(t.length);return n.data=t.data,n}},{key:"fromArray",value:function(t){return new e(t)}},{key:"rgb",value:function(t,n,i){return new e(new Uint8Array([t,n,i]))}},{key:"rgba",value:function(t,n,i,r){return new e(new Uint8Array([t,n,i,r]))}}]),e}();!function(e){e[e.nearest=0]="nearest",e[e.linear=1]="linear",e[e.cubic=2]="cubic",e[e.average=3]="average"}(at||(at={}));var bt,kt=function(){function e(t,n){Ie(this,e),this._tag=t,this._value=n}return Fe(e,[{key:"tag",get:function(){return this._tag}},{key:"value",get:function(){return this._value},set:function(e){this._value=e}}]),e}();!function(e){e[e.none=0]="none",e[e.byte=1]="byte",e[e.ascii=2]="ascii",e[e.short=3]="short",e[e.long=4]="long",e[e.rational=5]="rational",e[e.sByte=6]="sByte",e[e[void 0]=7]="undefined",e[e.sShort=8]="sShort",e[e.sLong=9]="sLong",e[e.sRational=10]="sRational",e[e.single=11]="single",e[e.double=12]="double"}(bt||(bt={}));var xt=[0,1,1,2,4,8,1,1,2,4,8,4,8];var wt,Ct=function(){function e(t){var n;Ie(this,e),this._name=t.name,this._type=null!==(n=t.type)&&void 0!==n?n:bt.none,this._count=t.count}return Fe(e,[{key:"name",get:function(){return this._name}},{key:"type",get:function(){return this._type}},{key:"count",get:function(){return this._count}}]),e}(),St=new Map([["ProcessingSoftware",11],["SubfileType",254],["OldSubfileType",255],["ImageWidth",256],["ImageLength",257],["ImageHeight",257],["BitsPerSample",258],["Compression",259],["PhotometricInterpretation",262],["Thresholding",263],["CellWidth",264],["CellLength",265],["FillOrder",266],["DocumentName",269],["ImageDescription",270],["Make",271],["Model",272],["StripOffsets",273],["Orientation",274],["SamplesPerPixel",277],["RowsPerStrip",278],["StripByteCounts",279],["MinSampleValue",280],["MaxSampleValue",281],["XResolution",282],["YResolution",283],["PlanarConfiguration",284],["PageName",285],["XPosition",286],["YPosition",287],["GrayResponseUnit",290],["GrayResponseCurve",291],["T4Options",292],["T6Options",293],["ResolutionUnit",296],["PageNumber",297],["ColorResponseUnit",300],["TransferFunction",301],["Software",305],["DateTime",306],["Artist",315],["HostComputer",316],["Predictor",317],["WhitePoint",318],["PrimaryChromaticities",319],["ColorMap",320],["HalftoneHints",321],["TileWidth",322],["TileLength",323],["TileOffsets",324],["TileByteCounts",325],["BadFaxLines",326],["CleanFaxData",327],["ConsecutiveBadFaxLines",328],["InkSet",332],["InkNames",333],["NumberofInks",334],["DotRange",336],["TargetPrinter",337],["ExtraSamples",338],["SampleFormat",339],["SMinSampleValue",340],["SMaxSampleValue",341],["TransferRange",342],["ClipPath",343],["JPEGProc",512],["JPEGInterchangeFormat",513],["JPEGInterchangeFormatLength",514],["YCbCrCoefficients",529],["YCbCrSubSampling",530],["YCbCrPositioning",531],["ReferenceBlackWhite",532],["ApplicationNotes",700],["Rating",18246],["CFARepeatPatternDim",33421],["CFAPattern",33422],["BatteryLevel",33423],["Copyright",33432],["ExposureTime",33434],["FNumber",33437],["IPTC-NAA",33723],["ExifOffset",34665],["InterColorProfile",34675],["ExposureProgram",34850],["SpectralSensitivity",34852],["GPSOffset",34853],["ISOSpeed",34855],["OECF",34856],["SensitivityType",34864],["RecommendedExposureIndex",34866],["ExifVersion",36864],["DateTimeOriginal",36867],["DateTimeDigitized",36868],["OffsetTime",36880],["OffsetTimeOriginal",36881],["OffsetTimeDigitized",36882],["ComponentsConfiguration",37121],["CompressedBitsPerPixel",37122],["ShutterSpeedValue",37377],["ApertureValue",37378],["BrightnessValue",37379],["ExposureBiasValue",37380],["MaxApertureValue",37381],["SubjectDistance",37382],["MeteringMode",37383],["LightSource",37384],["Flash",37385],["FocalLength",37386],["SubjectArea",37396],["MakerNote",37500],["UserComment",37510],["SubSecTime",37520],["SubSecTimeOriginal",37521],["SubSecTimeDigitized",37522],["XPTitle",40091],["XPComment",40092],["XPAuthor",40093],["XPKeywords",40094],["XPSubject",40095],["FlashPixVersion",40960],["ColorSpace",40961],["ExifImageWidth",40962],["ExifImageLength",40963],["RelatedSoundFile",40964],["InteroperabilityOffset",40965],["FlashEnergy",41483],["SpatialFrequencyResponse",41484],["FocalPlaneXResolution",41486],["FocalPlaneYResolution",41487],["FocalPlaneResolutionUnit",41488],["SubjectLocation",41492],["ExposureIndex",41493],["SensingMethod",41495],["FileSource",41728],["SceneType",41729],["CVAPattern",41730],["CustomRendered",41985],["ExposureMode",41986],["WhiteBalance",41987],["DigitalZoomRatio",41988],["FocalLengthIn35mmFilm",41989],["SceneCaptureType",41990],["GainControl",41991],["Contrast",41992],["Saturation",41993],["Sharpness",41994],["DeviceSettingDescription",41995],["SubjectDistanceRange",41996],["ImageUniqueID",42016],["CameraOwnerName",42032],["BodySerialNumber",42033],["LensSpecification",42034],["LensMake",42035],["LensModel",42036],["LensSerialNumber",42037],["Gamma",42240],["PrintIM",50341],["Padding",59932],["OffsetSchema",59933],["OwnerName",65e3],["SerialNumber",65001],["InteropIndex",1],["InteropVersion",2],["RelatedImageFileFormat",4096],["RelatedImageWidth",4097],["RelatedImageLength",4098],["GPSVersionID",0],["GPSLatitudeRef",1],["GPSLatitude",2],["GPSLongitudeRef",3],["GPSLongitude",4],["GPSAltitudeRef",5],["GPSAltitude",6],["GPSTimeStamp",7],["GPSSatellites",8],["GPSStatus",9],["GPSMeasureMode",10],["GPSDOP",11],["GPSSpeedRef",12],["GPSSpeed",13],["GPSTrackRef",14],["GPSTrack",15],["GPSImgDirectionRef",16],["GPSImgDirection",17],["GPSMapDatum",18],["GPSDestLatitudeRef",19],["GPSDestLatitude",20],["GPSDestLongitudeRef",21],["GPSDestLongitude",22],["GPSDestBearingRef",23],["GPSDestBearing",24],["GPSDestDistanceRef",25],["GPSDestDistance",26],["GPSProcessingMethod",27],["GPSAreaInformation",28],["GPSDate",29],["GPSDifferential",30]]),Pt=new Map([[11,new Ct({name:"ProcessingSoftware",type:bt.ascii})],[254,new Ct({name:"SubfileType",type:bt.long,count:1})],[255,new Ct({name:"OldSubfileType",type:bt.long,count:1})],[256,new Ct({name:"ImageWidth",type:bt.long,count:1})],[257,new Ct({name:"ImageLength",type:bt.long,count:1})],[258,new Ct({name:"BitsPerSample",type:bt.short,count:1})],[259,new Ct({name:"Compression",type:bt.short,count:1})],[262,new Ct({name:"PhotometricInterpretation",type:bt.short,count:1})],[263,new Ct({name:"Thresholding",type:bt.short,count:1})],[264,new Ct({name:"CellWidth",type:bt.short,count:1})],[265,new Ct({name:"CellLength",type:bt.short,count:1})],[266,new Ct({name:"FillOrder",type:bt.short,count:1})],[269,new Ct({name:"DocumentName",type:bt.ascii})],[270,new Ct({name:"ImageDescription",type:bt.ascii})],[271,new Ct({name:"Make",type:bt.ascii})],[272,new Ct({name:"Model",type:bt.ascii})],[273,new Ct({name:"StripOffsets",type:bt.long})],[274,new Ct({name:"Orientation",type:bt.short,count:1})],[277,new Ct({name:"SamplesPerPixel",type:bt.short,count:1})],[278,new Ct({name:"RowsPerStrip",type:bt.long,count:1})],[279,new Ct({name:"StripByteCounts",type:bt.long,count:1})],[280,new Ct({name:"MinSampleValue",type:bt.short,count:1})],[281,new Ct({name:"MaxSampleValue",type:bt.short,count:1})],[282,new Ct({name:"XResolution",type:bt.rational,count:1})],[283,new Ct({name:"YResolution",type:bt.rational,count:1})],[284,new Ct({name:"PlanarConfiguration",type:bt.short,count:1})],[285,new Ct({name:"PageName",type:bt.ascii})],[286,new Ct({name:"XPosition",type:bt.rational,count:1})],[287,new Ct({name:"YPosition",type:bt.rational,count:1})],[290,new Ct({name:"GrayResponseUnit",type:bt.short,count:1})],[291,new Ct({name:"GrayResponseCurve"})],[292,new Ct({name:"T4Options"})],[293,new Ct({name:"T6Options"})],[296,new Ct({name:"ResolutionUnit",type:bt.short,count:1})],[297,new Ct({name:"PageNumber",type:bt.short,count:2})],[300,new Ct({name:"ColorResponseUnit"})],[301,new Ct({name:"TransferFunction",type:bt.short,count:768})],[305,new Ct({name:"Software",type:bt.ascii})],[306,new Ct({name:"DateTime",type:bt.ascii})],[315,new Ct({name:"Artist",type:bt.ascii})],[316,new Ct({name:"HostComputer",type:bt.ascii})],[317,new Ct({name:"Predictor",type:bt.short,count:1})],[318,new Ct({name:"WhitePoint",type:bt.rational,count:2})],[319,new Ct({name:"PrimaryChromaticities",type:bt.rational,count:6})],[320,new Ct({name:"ColorMap",type:bt.short})],[321,new Ct({name:"HalftoneHints",type:bt.short,count:2})],[322,new Ct({name:"TileWidth",type:bt.long,count:1})],[323,new Ct({name:"TileLength",type:bt.long,count:1})],[324,new Ct({name:"TileOffsets",type:bt.long})],[325,new Ct({name:"TileByteCounts"})],[326,new Ct({name:"BadFaxLines"})],[327,new Ct({name:"CleanFaxData"})],[328,new Ct({name:"ConsecutiveBadFaxLines"})],[332,new Ct({name:"InkSet"})],[333,new Ct({name:"InkNames"})],[334,new Ct({name:"NumberofInks"})],[336,new Ct({name:"DotRange"})],[337,new Ct({name:"TargetPrinter",type:bt.ascii})],[338,new Ct({name:"ExtraSamples"})],[339,new Ct({name:"SampleFormat",type:bt.short,count:1})],[340,new Ct({name:"SMinSampleValue"})],[341,new Ct({name:"SMaxSampleValue"})],[342,new Ct({name:"TransferRange"})],[343,new Ct({name:"ClipPath"})],[512,new Ct({name:"JPEGProc"})],[513,new Ct({name:"JPEGInterchangeFormat"})],[514,new Ct({name:"JPEGInterchangeFormatLength"})],[529,new Ct({name:"YCbCrCoefficients",type:bt.rational,count:3})],[530,new Ct({name:"YCbCrSubSampling",type:bt.short,count:1})],[531,new Ct({name:"YCbCrPositioning",type:bt.short,count:1})],[532,new Ct({name:"ReferenceBlackWhite",type:bt.rational,count:6})],[700,new Ct({name:"ApplicationNotes",type:bt.short,count:1})],[18246,new Ct({name:"Rating",type:bt.short,count:1})],[33421,new Ct({name:"CFARepeatPatternDim"})],[33422,new Ct({name:"CFAPattern"})],[33423,new Ct({name:"BatteryLevel"})],[33432,new Ct({name:"Copyright",type:bt.ascii})],[33434,new Ct({name:"ExposureTime",type:bt.rational,count:1})],[33437,new Ct({name:"FNumber",type:bt.rational})],[33723,new Ct({name:"IPTC-NAA",type:bt.long,count:1})],[34665,new Ct({name:"ExifOffset"})],[34675,new Ct({name:"InterColorProfile"})],[34850,new Ct({name:"ExposureProgram",type:bt.short})],[34852,new Ct({name:"SpectralSensitivity",type:bt.ascii})],[34853,new Ct({name:"GPSOffset"})],[34855,new Ct({name:"ISOSpeed",type:bt.long,count:1})],[34856,new Ct({name:"OECF"})],[34864,new Ct({name:"SensitivityType",type:bt.short,count:1})],[34866,new Ct({name:"RecommendedExposureIndex",type:bt.long,count:1})],[34867,new Ct({name:"ISOSpeed",type:bt.long,count:1})],[36864,new Ct({name:"ExifVersion",type:bt.undefined})],[36867,new Ct({name:"DateTimeOriginal",type:bt.ascii})],[36868,new Ct({name:"DateTimeDigitized",type:bt.ascii})],[36880,new Ct({name:"OffsetTime",type:bt.ascii})],[36881,new Ct({name:"OffsetTimeOriginal",type:bt.ascii})],[36882,new Ct({name:"OffsetTimeDigitized",type:bt.ascii})],[37121,new Ct({name:"ComponentsConfiguration",type:bt.undefined})],[37122,new Ct({name:"CompressedBitsPerPixel"})],[37377,new Ct({name:"ShutterSpeedValue"})],[37378,new Ct({name:"ApertureValue"})],[37379,new Ct({name:"BrightnessValue"})],[37380,new Ct({name:"ExposureBiasValue"})],[37381,new Ct({name:"MaxApertureValue"})],[37382,new Ct({name:"SubjectDistance"})],[37383,new Ct({name:"MeteringMode"})],[37384,new Ct({name:"LightSource"})],[37385,new Ct({name:"Flash"})],[37386,new Ct({name:"FocalLength"})],[37396,new Ct({name:"SubjectArea"})],[37500,new Ct({name:"MakerNote",type:bt.undefined})],[37510,new Ct({name:"UserComment",type:bt.undefined})],[37520,new Ct({name:"SubSecTime"})],[37521,new Ct({name:"SubSecTimeOriginal"})],[37522,new Ct({name:"SubSecTimeDigitized"})],[40091,new Ct({name:"XPTitle"})],[40092,new Ct({name:"XPComment"})],[40093,new Ct({name:"XPAuthor"})],[40094,new Ct({name:"XPKeywords"})],[40095,new Ct({name:"XPSubject"})],[40960,new Ct({name:"FlashPixVersion"})],[40961,new Ct({name:"ColorSpace",type:bt.short,count:1})],[40962,new Ct({name:"ExifImageWidth",type:bt.short,count:1})],[40963,new Ct({name:"ExifImageLength",type:bt.short,count:1})],[40964,new Ct({name:"RelatedSoundFile"})],[40965,new Ct({name:"InteroperabilityOffset"})],[41483,new Ct({name:"FlashEnergy"})],[41484,new Ct({name:"SpatialFrequencyResponse"})],[41486,new Ct({name:"FocalPlaneXResolution"})],[41487,new Ct({name:"FocalPlaneYResolution"})],[41488,new Ct({name:"FocalPlaneResolutionUnit"})],[41492,new Ct({name:"SubjectLocation"})],[41493,new Ct({name:"ExposureIndex"})],[41495,new Ct({name:"SensingMethod"})],[41728,new Ct({name:"FileSource"})],[41729,new Ct({name:"SceneType"})],[41730,new Ct({name:"CVAPattern"})],[41985,new Ct({name:"CustomRendered"})],[41986,new Ct({name:"ExposureMode"})],[41987,new Ct({name:"WhiteBalance"})],[41988,new Ct({name:"DigitalZoomRatio"})],[41989,new Ct({name:"FocalLengthIn35mmFilm"})],[41990,new Ct({name:"SceneCaptureType"})],[41991,new Ct({name:"GainControl"})],[41992,new Ct({name:"Contrast"})],[41993,new Ct({name:"Saturation"})],[41994,new Ct({name:"Sharpness"})],[41995,new Ct({name:"DeviceSettingDescription"})],[41996,new Ct({name:"SubjectDistanceRange"})],[42016,new Ct({name:"ImageUniqueID"})],[42032,new Ct({name:"CameraOwnerName",type:bt.ascii})],[42033,new Ct({name:"BodySerialNumber",type:bt.ascii})],[42034,new Ct({name:"LensSpecification"})],[42035,new Ct({name:"LensMake",type:bt.ascii})],[42036,new Ct({name:"LensModel",type:bt.ascii})],[42037,new Ct({name:"LensSerialNumber",type:bt.ascii})],[42240,new Ct({name:"Gamma",type:bt.rational,count:1})],[50341,new Ct({name:"PrintIM"})],[59932,new Ct({name:"Padding"})],[59933,new Ct({name:"OffsetSchema"})],[65e3,new Ct({name:"OwnerName",type:bt.ascii})],[65001,new Ct({name:"SerialNumber",type:bt.ascii})]]),Mt=(new Map([[1,new Ct({name:"InteropIndex",type:bt.ascii})],[2,new Ct({name:"InteropVersion",type:bt.undefined})],[4096,new Ct({name:"RelatedImageFileFormat",type:bt.ascii})],[4097,new Ct({name:"RelatedImageWidth",type:bt.short,count:1})],[4098,new Ct({name:"RelatedImageLength",type:bt.short,count:1})]]),new Map([[0,new Ct({name:"GPSVersionID"})],[1,new Ct({name:"GPSLatitudeRef"})],[2,new Ct({name:"GPSLatitude"})],[3,new Ct({name:"GPSLongitudeRef"})],[4,new Ct({name:"GPSLongitude"})],[5,new Ct({name:"GPSAltitudeRef"})],[6,new Ct({name:"GPSAltitude"})],[7,new Ct({name:"GPSTimeStamp"})],[8,new Ct({name:"GPSSatellites"})],[9,new Ct({name:"GPSStatus"})],[10,new Ct({name:"GPSMeasureMode"})],[11,new Ct({name:"GPSDOP"})],[12,new Ct({name:"GPSSpeedRef"})],[13,new Ct({name:"GPSSpeed"})],[14,new Ct({name:"GPSTrackRef"})],[15,new Ct({name:"GPSTrack"})],[16,new Ct({name:"GPSImgDirectionRef"})],[17,new Ct({name:"GPSImgDirection"})],[18,new Ct({name:"GPSMapDatum"})],[19,new Ct({name:"GPSDestLatitudeRef"})],[20,new Ct({name:"GPSDestLatitude"})],[21,new Ct({name:"GPSDestLongitudeRef"})],[22,new Ct({name:"GPSDestLongitude"})],[23,new Ct({name:"GPSDestBearingRef"})],[24,new Ct({name:"GPSDestBearing"})],[25,new Ct({name:"GPSDestDistanceRef"})],[26,new Ct({name:"GPSDestDistance"})],[27,new Ct({name:"GPSProcessingMethod"})],[28,new Ct({name:"GPSAreaInformation"})],[29,new Ct({name:"GPSDate"})],[30,new Ct({name:"GPSDifferential"})]]),function(){function e(){Ie(this,e)}return Fe(e,[{key:"type",get:function(){return bt.none}},{key:"length",get:function(){return 0}},{key:"dataSize",get:function(){return function(e){return xt[e]*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}(this.type,this.length)}},{key:"typeString",get:function(){return e=this.type,bt[e];var e}},{key:"toBool",value:function(e){return!1}},{key:"toInt",value:function(e){return 0}},{key:"toDouble",value:function(e){return 0}},{key:"toData",value:function(){return new Uint8Array}},{key:"toRational",value:function(e){return new it(0,1)}},{key:"write",value:function(e){}},{key:"setBool",value:function(e,t){}},{key:"setInt",value:function(e,t){}},{key:"setDouble",value:function(e,t){}},{key:"setRational",value:function(e,t,n){}},{key:"setString",value:function(e){}},{key:"equals",value:function(e){return!1}},{key:"clone",value:function(){throw new We("Cannot be copied.")}},{key:"toString",value:function(){return"".concat(this.constructor.name)}}]),e}()),zt=function(e){Be(n,e);var t=Ue(n);function n(e){var r;return Ie(this,n),(r=t.call(this))._value="string"===typeof e?e:String.fromCharCode.apply(String,(0,i.Z)(e)),r}return Fe(n,[{key:"type",get:function(){return bt.ascii}},{key:"length",get:function(){return Xe.getCodePoints(this._value).length+1}},{key:"toData",value:function(){return Xe.getCodePoints(this._value)}},{key:"write",value:function(e){var t=Xe.getCodePoints(this._value);e.writeBytes(t),e.writeByte(0)}},{key:"setString",value:function(e){this._value=e}},{key:"equals",value:function(e){return e instanceof n&&this.length===e.length&&this._value===this._value}},{key:"clone",value:function(){return new n(this._value)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this._value,")")}}],[{key:"data",value:function(e,t){return new n(t>0?e.readString(t-1):"")}}]),n}(Mt),At=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),i=t.call(this),"number"===typeof e?(i._value=new Uint16Array(1),i._value[0]=e):i._value=Uint16Array.from(e),i}return Fe(n,[{key:"type",get:function(){return bt.short}},{key:"length",get:function(){return this._value.length}},{key:"toInt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e]}},{key:"write",value:function(e){for(var t=0,n=this._value.length;t<n;++t)e.writeUint16(this._value[t])}},{key:"setInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._value[t]=e}},{key:"equals",value:function(e){return e instanceof n&&this.length===e.length&&rt.equals(this._value,e._value)}},{key:"clone",value:function(){return new n(this._value)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(1===this._value.length?"".concat(this._value[0]):"".concat(this._value),")")}}],[{key:"data",value:function(e,t){for(var i=new Uint16Array(t),r=0;r<t;++r)i[r]=e.readUint16();return new n(i)}}]),n}(Mt),It=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),(i=t.call(this))._value=e instanceof it?[e]:e,i}return Fe(n,[{key:"type",get:function(){return bt.rational}},{key:"length",get:function(){return this._value.length}},{key:"toInt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e].toInt}},{key:"toDouble",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e].toDouble}},{key:"toRational",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e]}},{key:"write",value:function(e){var t,n=et(this._value);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.writeUint32(i.numerator),e.writeUint32(i.denominator)}}catch(r){n.e(r)}finally{n.f()}}},{key:"setRational",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._value[n]=new it(e,t)}},{key:"equals",value:function(e){return e instanceof n&&this.length===e.length&&rt.equalsRationalArray(this._value,e._value)}},{key:"clone",value:function(){return new n(this._value)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(1===this._value.length?"".concat(this._value[0]):"".concat(this._value),")")}}],[{key:"data",value:function(e,t){for(var i=new Array,r=0;r<t;r++){var a=new it(e.readUint32(),e.readUint32());i.push(a)}return new n(i)}},{key:"from",value:function(e){return new n(new it(e.numerator,e.denominator))}}]),n}(Mt),Rt=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),i=t.call(this),"number"===typeof e?(i._value=new Uint8Array(1),i._value[0]=e):i._value=Uint8Array.from(e),i}return Fe(n,[{key:"type",get:function(){return bt.byte}},{key:"length",get:function(){return this._value.length}},{key:"toInt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e]}},{key:"toData",value:function(){return this._value}},{key:"write",value:function(e){e.writeBytes(this._value)}},{key:"setInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._value[t]=e}},{key:"equals",value:function(e){return e instanceof n&&this.length===e.length&&rt.equals(this._value,e._value)}},{key:"clone",value:function(){return new n(this._value)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(1===this._value.length?"".concat(this._value[0]):"".concat(this._value),")")}}],[{key:"data",value:function(e,t,i){return new n(e.toUint8Array(t,i))}}]),n}(Mt),Ft=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),i=t.call(this),"number"===typeof e?(i._value=new Uint32Array(1),i._value[0]=e):i._value=Uint32Array.from(e),i}return Fe(n,[{key:"type",get:function(){return bt.long}},{key:"length",get:function(){return this._value.length}},{key:"toInt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e]}},{key:"toData",value:function(){return new Uint8Array(this._value.buffer)}},{key:"write",value:function(e){for(var t=0,n=this._value.length;t<n;++t)e.writeUint32(this._value[t])}},{key:"setInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._value[t]=e}},{key:"equals",value:function(e){return e instanceof n&&this.length===e.length&&rt.equals(this._value,e._value)}},{key:"clone",value:function(){return new n(this._value)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(1===this._value.length?"".concat(this._value[0]):"".concat(this._value),")")}}],[{key:"data",value:function(e,t){for(var i=new Uint32Array(t),r=0;r<t;++r)i[r]=e.readUint32();return new n(i)}}]),n}(Mt),Tt=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),i=t.call(this),"number"===typeof e?(i._value=new Int8Array(1),i._value[0]=e):i._value=Int8Array.from(e),i}return Fe(n,[{key:"type",get:function(){return bt.sByte}},{key:"length",get:function(){return this._value.length}},{key:"toInt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e]}},{key:"toData",value:function(){return new Uint8Array(this._value.buffer)}},{key:"write",value:function(e){e.writeBytes(new Uint8Array(this._value.buffer))}},{key:"setInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._value[t]=e}},{key:"equals",value:function(e){return e instanceof n&&this.length===e.length&&rt.equals(this._value,e._value)}},{key:"clone",value:function(){return new n(this._value)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(1===this._value.length?"".concat(this._value[0]):"".concat(this._value),")")}}],[{key:"data",value:function(e,t,i){return new n(new Int8Array(new Int8Array(e.toUint8Array(t,i).buffer)))}}]),n}(Mt),Nt=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),i=t.call(this),"number"===typeof e?(i._value=new Uint8Array(1),i._value[0]=e):i._value=e,i}return Fe(n,[{key:"type",get:function(){return bt.undefined}},{key:"length",get:function(){return this._value.length}},{key:"toData",value:function(){return this._value}},{key:"write",value:function(e){e.writeBytes(this._value)}},{key:"equals",value:function(e){return e instanceof n&&this.length===e.length&&rt.equals(this._value,e._value)}},{key:"clone",value:function(){return new n(this._value)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (undefined)")}}],[{key:"data",value:function(e,t,i){return new n(new Uint8Array(e.toUint8Array(t,i)))}}]),n}(Mt),Bt=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),i=t.call(this),"number"===typeof e?(i._value=new Int16Array(1),i._value[0]=e):i._value=Int16Array.from(e),i}return Fe(n,[{key:"type",get:function(){return bt.sShort}},{key:"length",get:function(){return this._value.length}},{key:"toInt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e]}},{key:"toData",value:function(){return new Uint8Array(this._value.buffer)}},{key:"write",value:function(e){for(var t=new Int16Array(1),n=new Uint16Array(t.buffer),i=0,r=this._value.length;i<r;++i)t[0]=this._value[i],e.writeUint16(n[0])}},{key:"setInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._value[t]=e}},{key:"equals",value:function(e){return e instanceof n&&this.length===e.length&&rt.equals(this._value,e._value)}},{key:"clone",value:function(){return new n(this._value)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(1===this._value.length?"".concat(this._value[0]):"".concat(this._value),")")}}],[{key:"data",value:function(e,t){for(var i=new Int16Array(t),r=0;r<t;++r)i[r]=e.readInt16();return new n(i)}}]),n}(Mt),Et=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),i=t.call(this),"number"===typeof e?(i._value=new Int32Array(1),i._value[0]=e):i._value=Int32Array.from(e),i}return Fe(n,[{key:"type",get:function(){return bt.sLong}},{key:"length",get:function(){return this._value.length}},{key:"toInt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e]}},{key:"toData",value:function(){return new Uint8Array(this._value.buffer)}},{key:"write",value:function(e){for(var t=0,n=this._value.length;t<n;++t)e.writeUint32(Ye.int32ToUint32(this._value[t]))}},{key:"setInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._value[t]=e}},{key:"equals",value:function(e){return e instanceof n&&this.length===e.length&&rt.equals(this._value,e._value)}},{key:"clone",value:function(){return new n(this._value)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(1===this._value.length?"".concat(this._value[0]):"".concat(this._value),")")}}],[{key:"data",value:function(e,t){for(var i=new Int32Array(t),r=0;r<t;++r)i[r]=e.readInt32();return new n(i)}}]),n}(Mt),Lt=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),(i=t.call(this))._value=e instanceof it?[e]:e,i}return Fe(n,[{key:"type",get:function(){return bt.sRational}},{key:"length",get:function(){return this._value.length}},{key:"toInt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e].toInt}},{key:"toDouble",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e].toDouble}},{key:"toRational",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e]}},{key:"write",value:function(e){var t,n=et(this._value);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.writeUint32(Ye.int32ToUint32(i.numerator)),e.writeUint32(Ye.int32ToUint32(i.denominator))}}catch(r){n.e(r)}finally{n.f()}}},{key:"setRational",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._value[n]=new it(e,t)}},{key:"equals",value:function(e){return e instanceof n&&this.length===e.length&&rt.equalsRationalArray(this._value,e._value)}},{key:"clone",value:function(){return new n(this._value)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(1===this._value.length?"".concat(this._value[0]):"".concat(this._value),")")}}],[{key:"data",value:function(e,t){for(var i=new Array,r=0;r<t;r++){var a=new it(e.readInt32(),e.readInt32());i.push(a)}return new n(i)}},{key:"from",value:function(e){return new n(new it(e.numerator,e.denominator))}}]),n}(Mt),Dt=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),i=t.call(this),"number"===typeof e?(i._value=new Float32Array(1),i._value[0]=e):i._value=Float32Array.from(e),i}return Fe(n,[{key:"type",get:function(){return bt.single}},{key:"length",get:function(){return this._value.length}},{key:"toDouble",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e]}},{key:"toData",value:function(){return new Uint8Array(this._value.buffer)}},{key:"write",value:function(e){for(var t=0,n=this._value.length;t<n;++t)e.writeFloat32(this._value[t])}},{key:"setDouble",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._value[t]=e}},{key:"equals",value:function(e){return e instanceof n&&this.length===e.length&&rt.equals(this._value,e._value)}},{key:"clone",value:function(){return new n(this._value)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(1===this._value.length?"".concat(this._value[0]):"".concat(this._value),")")}}],[{key:"data",value:function(e,t){for(var i=new Float32Array(t),r=0;r<t;++r)i[r]=e.readFloat32();return new n(i)}}]),n}(Mt),Ot=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),i=t.call(this),"number"===typeof e?(i._value=new Float64Array(1),i._value[0]=e):i._value=Float64Array.from(e),i}return Fe(n,[{key:"type",get:function(){return bt.double}},{key:"length",get:function(){return this._value.length}},{key:"toDouble",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._value[e]}},{key:"toData",value:function(){return new Uint8Array(this._value.buffer)}},{key:"write",value:function(e){for(var t=0,n=this._value.length;t<n;++t)e.writeFloat64(this._value[t])}},{key:"setDouble",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._value[t]=e}},{key:"equals",value:function(e){return e instanceof n&&this.length===e.length&&rt.equals(this._value,e._value)}},{key:"clone",value:function(){return new n(this._value)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(1===this._value.length?"".concat(this._value[0]):"".concat(this._value),")")}}],[{key:"data",value:function(e,t){for(var i=new Float64Array(t),r=0;r<t;++r)i[r]=e.readFloat64();return new n(i)}}]),n}(Mt),Ut=function(){function e(t){Ie(this,e),this._sub=new Vt,this._data=null!==t&&void 0!==t?t:new Map}return Fe(e,[{key:"sub",get:function(){return this._sub}},{key:"keys",get:function(){return this._data.keys()}},{key:"values",get:function(){return this._data.values()}},{key:"entries",get:function(){return this._data.entries()}},{key:"size",get:function(){return this._data.size}},{key:"isEmpty",get:function(){return 0===this._data.size&&this._sub.isEmpty}},{key:"hasUserComment",get:function(){return this._data.has(37510)}},{key:"userComment",get:function(){var e,t=null===(e=this._data.get(37510))||void 0===e?void 0:e.toData();return void 0!==t?Xe.utf8Decoder.decode(t):void 0},set:function(e){if(void 0===e)this._data.delete(37510);else{var t=Xe.getCodePoints(e);this._data.set(37510,new Nt(t))}}},{key:"hasImageDescription",get:function(){return this._data.has(270)}},{key:"imageDescription",get:function(){var e;return null===(e=this._data.get(270))||void 0===e?void 0:e.toString()},set:function(e){void 0===e?this._data.delete(270):this._data.set(270,new zt(e))}},{key:"hasMake",get:function(){return this._data.has(271)}},{key:"make",get:function(){var e;return null===(e=this._data.get(271))||void 0===e?void 0:e.toString()},set:function(e){void 0===e?this._data.delete(271):this._data.set(271,new zt(e))}},{key:"hasModel",get:function(){return this._data.has(272)}},{key:"model",get:function(){var e;return null===(e=this._data.get(272))||void 0===e?void 0:e.toString()},set:function(e){void 0===e?this._data.delete(272):this._data.set(272,new zt(e))}},{key:"hasOrientation",get:function(){return this._data.has(274)}},{key:"orientation",get:function(){var e;return null===(e=this._data.get(274))||void 0===e?void 0:e.toInt()},set:function(e){void 0===e?this._data.delete(274):this._data.set(274,new At(e))}},{key:"hasResolutionX",get:function(){return this._data.has(282)}},{key:"resolutionX",get:function(){var e;return null===(e=this._data.get(282))||void 0===e?void 0:e.toRational()},set:function(e){this.setRational(282,e)||this._data.delete(282)}},{key:"hasResolutionY",get:function(){return this._data.has(283)}},{key:"resolutionY",get:function(){var e;return null===(e=this._data.get(283))||void 0===e?void 0:e.toRational()},set:function(e){this.setRational(283,e)||this._data.delete(283)}},{key:"hasResolutionUnit",get:function(){return this._data.has(296)}},{key:"resolutionUnit",get:function(){var e;return null===(e=this._data.get(296))||void 0===e?void 0:e.toInt()},set:function(e){void 0===e?this._data.delete(296):this._data.set(296,new At(Math.trunc(e)))}},{key:"hasImageWidth",get:function(){return this._data.has(256)}},{key:"imageWidth",get:function(){var e;return null===(e=this._data.get(256))||void 0===e?void 0:e.toInt()},set:function(e){void 0===e?this._data.delete(256):this._data.set(256,new At(Math.trunc(e)))}},{key:"hasImageHeight",get:function(){return this._data.has(257)}},{key:"imageHeight",get:function(){var e;return null===(e=this._data.get(257))||void 0===e?void 0:e.toInt()},set:function(e){void 0===e?this._data.delete(257):this._data.set(257,new At(Math.trunc(e)))}},{key:"hasSoftware",get:function(){return this._data.has(305)}},{key:"software",get:function(){var e;return null===(e=this._data.get(305))||void 0===e?void 0:e.toString()},set:function(e){void 0===e?this._data.delete(305):this._data.set(305,new zt(e))}},{key:"hasCopyright",get:function(){return this._data.has(33432)}},{key:"copyright",get:function(){var e;return null===(e=this._data.get(33432))||void 0===e?void 0:e.toString()},set:function(e){void 0===e?this._data.delete(33432):this._data.set(33432,new zt(e))}},{key:"dataSize",get:function(){var e,t=2+12*this.size+4,n=et(this.values);try{for(n.s();!(e=n.n()).done;){var i=e.value.dataSize;i>4&&(t+=i)}}catch(d){n.e(d)}finally{n.f()}var a,o=et(this.sub.entries);try{for(o.s();!(a=o.n()).done;){var u,s=(0,r.Z)(a.value,2),l=(s[0],s[1]),h=2+12*l.size,c=et(l.values);try{for(c.s();!(u=c.n()).done;){var f=u.value.dataSize;f>4&&(h+=f)}}catch(d){c.e(d)}finally{c.f()}t+=h}}catch(d){o.e(d)}finally{o.f()}return t}},{key:"setRational",value:function(e,t){if(t instanceof it)return this._data.set(e,It.from(t)),!0;if(rt.isNumArrayOrTypedArray(t)&&t.length>=2){var n=new it(t[0],t[1]);return this._data.set(e,It.from(n)),!0}return!1}},{key:"has",value:function(e){return this._data.has(e)}},{key:"getValue",value:function(e){var t=e;if("string"===typeof t&&(t=St.get(t)),"number"===typeof t)return this._data.get(t)}},{key:"setValue",value:function(e,t){var n=e;if("string"===typeof n&&(n=St.get(n)),"number"===typeof n)if(void 0===t)this._data.delete(n);else if(t instanceof Mt)this._data.set(n,t);else{var i=Pt.get(n);if(void 0!==i)switch(i.type){case bt.byte:rt.isNumArrayOrTypedArray(t)?this._data.set(n,new Rt(new Uint8Array(t))):"number"===typeof t&&this._data.set(n,new Rt(t));break;case bt.ascii:"string"===typeof t&&this._data.set(n,new zt(t));break;case bt.short:rt.isNumArrayOrTypedArray(t)?this._data.set(n,new At(new Uint16Array(t))):"number"===typeof t&&this._data.set(n,new At(t));break;case bt.long:rt.isNumArrayOrTypedArray(t)?this._data.set(n,new Ft(new Uint32Array(t))):"number"===typeof t&&this._data.set(n,new Ft(t));break;case bt.rational:if(rt.isArrayOfRational(t))this._data.set(n,new It(t));else if(rt.isNumArrayOrTypedArray(t)&&t.length>=2){var r=new it(t[0],t[1]);this._data.set(n,new It(r))}else t instanceof it&&this._data.set(n,new It(t));break;case bt.sByte:rt.isNumArrayOrTypedArray(t)?this._data.set(n,new Tt(new Int8Array(t))):"number"===typeof t&&this._data.set(n,new Tt(t));break;case bt.undefined:rt.isNumArrayOrTypedArray(t)&&this._data.set(n,new Nt(new Uint8Array(t)));break;case bt.sShort:rt.isNumArrayOrTypedArray(t)?this._data.set(n,new Bt(new Int16Array(t))):"number"===typeof t&&this._data.set(n,new Bt(t));break;case bt.sLong:rt.isNumArrayOrTypedArray(t)?this._data.set(n,new Et(new Int32Array(t))):"number"===typeof t&&this._data.set(n,new Et(t));break;case bt.sRational:if(rt.isArrayOfRational(t))this._data.set(n,new Lt(t));else if(rt.isNumArrayOrTypedArray(t)&&t.length>=2){var a=new it(t[0],t[1]);this._data.set(n,new Lt(a))}else t instanceof it&&this._data.set(n,new Lt(t));break;case bt.single:rt.isNumArrayOrTypedArray(t)?this._data.set(n,new Dt(new Float32Array(t))):"number"===typeof t&&this._data.set(n,new Dt(t));break;case bt.double:rt.isNumArrayOrTypedArray(t)?this._data.set(n,new Ot(new Float64Array(t))):"number"===typeof t&&this._data.set(n,new Ot(t));case bt.none:}}}},{key:"copyFrom",value:function(e){var t=this;e._data.forEach((function(e,n){return t._data.set(n,e.clone())}));var n,i=et(e._sub.entries);try{for(i.s();!(n=i.n()).done;){var a=(0,r.Z)(n.value,2),o=a[0],u=a[1];this._sub.set(o,u.clone())}}catch(s){i.e(s)}finally{i.f()}}},{key:"clone",value:function(){return e.from(this)}}],[{key:"from",value:function(t){return new e(new Map(t._data))}},{key:"isArrayOfRationalNumbers",value:function(e){return Array.isArray(e)&&e.every((function(e){return rt.isNumArrayOrTypedArray(e)&&e.length>=2}))}}]),e}(),Vt=function(){function e(t){Ie(this,e),this.directories=null!==t&&void 0!==t?t:new Map}return Fe(e,[{key:"keys",get:function(){return this.directories.keys()}},{key:"values",get:function(){return this.directories.values()}},{key:"entries",get:function(){return this.directories.entries()}},{key:"size",get:function(){return this.directories.size}},{key:"isEmpty",get:function(){if(0===this.directories.size)return!0;var e,t=et(this.directories.values());try{for(t.s();!(e=t.n()).done;){if(!e.value.isEmpty)return!1}}catch(n){t.e(n)}finally{t.f()}return!0}},{key:"has",value:function(e){return this.directories.has(e)}},{key:"get",value:function(e){var t=this.directories.get(e);return void 0===t?(t=new Ut,this.directories.set(e,t),t):t}},{key:"set",value:function(e,t){this.directories.set(e,t)}},{key:"clear",value:function(){this.directories.clear()}}],[{key:"from",value:function(t){return new e(new Map(t.directories))}}]),e}(),Zt=function(e){Be(n,e);var t=Ue(n);function n(){return Ie(this,n),t.apply(this,arguments)}return Fe(n,[{key:"imageIfd",get:function(){return this.get("ifd0")}},{key:"thumbnailIfd",get:function(){return this.get("ifd1")}},{key:"exifIfd",get:function(){return this.get("ifd0").sub.get("exif")}},{key:"gpsIfd",get:function(){return this.get("ifd0").sub.get("gps")}},{key:"interopIfd",get:function(){return this.get("ifd0").sub.get("interop")}},{key:"dataSize",get:function(){var e,t;return 8+(null!==(t=null===(e=this.directories.get("ifd0"))||void 0===e?void 0:e.dataSize)&&void 0!==t?t:0)}},{key:"writeDirectory",value:function(e,t,n){var i=n,a=St.get("StripOffsets");e.writeUint16(t.size);var o,u=et(t.entries);try{for(u.s();!(o=u.n()).done;){var s=(0,r.Z)(o.value,2),l=s[0],h=s[1],c=l===a&&h.type===bt.undefined?bt.long:h.type,f=l===a&&h.type===bt.undefined?1:h.length;e.writeUint16(l),e.writeUint16(c),e.writeUint32(f);var d=h.dataSize;if(d<=4)for(h.write(e);d<4;)e.writeByte(0),d++;else e.writeUint32(i),i+=d}}catch(m){u.e(m)}finally{u.f()}return i}},{key:"writeDirectoryLargeValues",value:function(e,t){var n,i=et(t.values);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.dataSize>4&&r.write(e)}}catch(a){i.e(a)}finally{i.f()}}},{key:"readEntry",value:function(e,t){var n=e.readUint16(),i=e.readUint16(),r=e.readUint32(),a=new kt(n,void 0);if(i>Object.keys(bt).length)return a;var o=i,u=r*xt[i],s=e.offset+4;if(u>4){var l=e.readUint32();e.offset=l+t}if(e.offset+u>e.end)return a;var h=e.readBytes(u);switch(o){case bt.none:break;case bt.sByte:a.value=Tt.data(h,r);break;case bt.byte:a.value=Rt.data(h,r);break;case bt.undefined:a.value=Nt.data(h,r);break;case bt.ascii:a.value=zt.data(h,r);break;case bt.short:a.value=At.data(h,r);break;case bt.long:a.value=Ft.data(h,r);break;case bt.rational:a.value=It.data(h,r);break;case bt.sRational:a.value=Lt.data(h,r);break;case bt.sShort:a.value=Bt.data(h,r);break;case bt.sLong:a.value=Et.data(h,r);break;case bt.single:a.value=Dt.data(h,r);break;case bt.double:a.value=Ot.data(h,r)}return e.offset=s,a}},{key:"hasTag",value:function(e){var t,n=et(this.directories.values());try{for(n.s();!(t=n.n()).done;){if(t.value.has(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"getTag",value:function(e){var t,n=et(this.directories.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.has(e))return i.getValue(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"getTagName",value:function(e){var t,n;return null!==(n=null===(t=Pt.get(e))||void 0===t?void 0:t.name)&&void 0!==n?n:"<unknown>"}},{key:"write",value:function(e){var t=e.bigEndian;e.bigEndian=!0,e.writeUint16(19789),e.writeUint16(42),e.writeUint32(8),void 0===this.directories.get("ifd0")&&this.directories.set("ifd0",new Ut);var n,i=8,a=new Map,o=et(this.directories);try{for(o.s();!(n=o.n()).done;){var u=(0,r.Z)(n.value,2),s=u[0],l=u[1];a.set(s,i),l.sub.has("exif")?l.setValue(34665,new Ft(0)):l.setValue(34665,void 0),l.sub.has("interop")?l.setValue(40965,new Ft(0)):l.setValue(40965,void 0),l.sub.has("gps")?l.setValue(34853,new Ft(0)):l.setValue(34853,void 0),i+=2+12*l.size+4;var h,c=et(l.values);try{for(c.s();!(h=c.n()).done;){var f=h.value.dataSize;f>4&&(i+=f)}}catch(B){c.e(B)}finally{c.f()}var d,m=et(l.sub.entries);try{for(m.s();!(d=m.n()).done;){var g=(0,r.Z)(d.value,2),v=g[0],y=g[1];a.set(v,i);var p,_=2+12*y.size,b=et(y.values);try{for(b.s();!(p=b.n()).done;){var k=p.value.dataSize;k>4&&(_+=k)}}catch(B){b.e(B)}finally{b.f()}i+=_}}catch(B){m.e(B)}finally{m.f()}}}catch(B){o.e(B)}finally{o.f()}for(var x=Array.from(this.directories),w=0;w<x.length;w++){var C=(0,r.Z)(x[w],2),S=C[0],P=C[1];P.sub.has("exif")&&P.getValue(34665).setInt(a.get("exif")),P.sub.has("interop")&&P.getValue(40965).setInt(a.get("interop")),P.sub.has("gps")&&P.getValue(34853).setInt(a.get("gps"));var M=a.get(S)+2+12*P.size+4;if(this.writeDirectory(e,P,M),w===x.length-1)e.writeUint32(0);else{var z=x[w+1][0];e.writeUint32(a.get(z))}this.writeDirectoryLargeValues(e,P);var A,I=et(P.sub.entries);try{for(I.s();!(A=I.n()).done;){var R=(0,r.Z)(A.value,2),F=R[0],T=R[1],N=a.get(F)+2+12*T.size;this.writeDirectory(e,T,N),this.writeDirectoryLargeValues(e,T)}}catch(B){I.e(B)}finally{I.f()}}e.bigEndian=t}},{key:"read",value:function(e){var t=e.bigEndian;e.bigEndian=!0;var n=e.offset,i=e.readUint16();if(18761===i){if(e.bigEndian=!1,42!==e.readUint16())return e.bigEndian=t,!1}else{if(19789!==i)return!1;if(e.bigEndian=!0,42!==e.readUint16())return e.bigEndian=t,!1}for(var r=e.readUint32(),a=0;r>0;){e.offset=n+r;for(var o=new Ut,u=e.readUint16(),s=new Array,l=0;l<u;l++){var h=this.readEntry(e,n);s.push(h)}for(var c=0,f=s;c<f.length;c++){var d=f[c];void 0!==d.value&&o.setValue(d.tag,d.value)}this.directories.set("ifd".concat(a),o),a++,r=e.readUint32()}var m,g=new Map([[34665,"exif"],[40965,"interop"],[34853,"gps"]]),v=et(this.directories.values());try{for(v.s();!(m=v.n()).done;){var y,p=m.value,_=et(g.keys());try{for(_.s();!(y=_.n()).done;){var b=y.value;if(p.has(b)){var k=p.getValue(b).toInt();e.offset=n+k;for(var x=new Ut,w=e.readUint16(),C=new Array,S=0;S<w;S++){var P=this.readEntry(e,n);C.push(P)}for(var M=0,z=C;M<z.length;M++){var A=z[M];void 0!==A.value&&x.setValue(A.tag,A.value)}p.sub.set(g.get(b),x)}}}catch(I){_.e(I)}finally{_.f()}}}catch(I){v.e(I)}finally{v.f()}return e.bigEndian=t,!1}},{key:"clone",value:function(){return n.from(this)}},{key:"toString",value:function(){var e,t="",n=et(this.directories);try{for(n.s();!(e=n.n()).done;){var i=(0,r.Z)(e.value,2),a=i[0],o=i[1];t+="".concat(a,"\n");var u,s=et(o.entries);try{for(s.s();!(u=s.n()).done;){var l=(0,r.Z)(u.value,2),h=l[0],c=l[1];t+=void 0===c?"\t".concat(this.getTagName(h),"\n"):"\t".concat(this.getTagName(h),": ").concat(c.toString(),"\n")}}catch(x){s.e(x)}finally{s.f()}var f,d=et(o.sub.entries);try{for(d.s();!(f=d.n()).done;){var m=(0,r.Z)(f.value,2),g=m[0],v=m[1];t+="".concat(g,"\n");var y,p=et(v.entries);try{for(p.s();!(y=p.n()).done;){var _=(0,r.Z)(y.value,2),b=_[0],k=_[1];t+=void 0===k?"\t".concat(this.getTagName(b),"\n"):"\t".concat(this.getTagName(b),": ").concat(k,"\n")}}catch(x){p.e(x)}finally{p.f()}}}catch(x){d.e(x)}finally{d.f()}}}catch(x){n.e(x)}finally{n.f()}return"".concat(this.constructor.name," (").concat(t,")")}}],[{key:"from",value:function(e){return new n(new Map(e.directories))}},{key:"fromInputBuffer",value:function(e){var t=new n;return t.read(e),t}}]),n}(Vt);!function(e){e[e.animation=0]="animation",e[e.page=1]="page",e[e.sequence=2]="sequence"}(wt||(wt={}));var jt=function(e){function t(e,n,i,r){Ie(this,t),this._image=r,this._index=i,this._x=e,this._y=n}return Fe(t,[{key:"image",get:function(){return this._image}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xNormalized",get:function(){return this.width>1?this._x/(this.width-1):0}},{key:"yNormalized",get:function(){return this.height>1?this._y/(this.height-1):0}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"data",get:function(){return this._image.data}},{key:"isValid",get:function(){return this._x>=0&&this._x<this._image.width-1&&this._y>=0&&this._y<this._image.height-1}},{key:"width",get:function(){return this._image.width}},{key:"height",get:function(){return this._image.width}},{key:"length",get:function(){return this._image.numChannels}},{key:"numChannels",get:function(){return this._image.numChannels}},{key:"maxChannelValue",get:function(){return this._image.maxChannelValue}},{key:"maxIndexValue",get:function(){return this._image.maxIndexValue}},{key:"format",get:function(){return je.float16}},{key:"isLdrFormat",get:function(){return this._image.isLdrFormat}},{key:"isHdrFormat",get:function(){return this._image.isLdrFormat}},{key:"hasPalette",get:function(){return this._image.hasPalette}},{key:"palette",get:function(){}},{key:"r",get:function(){return this.numChannels>0?ot.float16ToDouble(this.data[this._index]):0},set:function(e){this.numChannels>0&&(this.data[this._index]=ot.doubleToFloat16(e))}},{key:"g",get:function(){return this.numChannels>1?ot.float16ToDouble(this.data[this._index+1]):0},set:function(e){this.numChannels>1&&(this.data[this._index+1]=ot.doubleToFloat16(e))}},{key:"b",get:function(){return this.numChannels>2?ot.float16ToDouble(this.data[this._index+2]):0},set:function(e){this.numChannels>2&&(this.data[this._index+2]=ot.doubleToFloat16(e))}},{key:"a",get:function(){return this.numChannels>3?ot.float16ToDouble(this.data[this._index+3]):0},set:function(e){this.numChannels>3&&(this.data[this._index+3]=ot.doubleToFloat16(e))}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"next",value:function(){return this._x++,this._x===this.width&&(this._x=0,this._y++,this._y===this.height)?{done:!0,value:this}:(this._index+=this.numChannels,{done:this._index>=this.image.data.length,value:this})}},{key:"setPosition",value:function(e,t){this._x=e,this._y=t,this._index=this._y*this._image.width*this._image.numChannels+this._x*this._image.numChannels}},{key:"setPositionNormalized",value:function(e,t){return this.setPosition(Math.floor(e*(this.width-1)),Math.floor(t*(this.height-1)))}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.numChannels?ot.float16ToDouble(this.data[this._index+e]):0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.numChannels&&(this.data[this._index+e]=ot.doubleToFloat16(t))}},{key:"set",value:function(e){this.numChannels>0&&(this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a)}},{key:"setRgb",value:function(e,t,n){this.numChannels>0&&(this.data[this._index]=ot.doubleToFloat16(e),this.numChannels>1&&(this.data[this._index+1]=ot.doubleToFloat16(t),this.numChannels>2&&(this.data[this._index+2]=ot.doubleToFloat16(n))))}},{key:"setRgba",value:function(e,t,n,i){this.numChannels>0&&(this.data[this._index]=ot.doubleToFloat16(e),this.numChannels>1&&(this.data[this._index+1]=ot.doubleToFloat16(t),this.numChannels>2&&(this.data[this._index+2]=ot.doubleToFloat16(n),this.numChannels>3&&(this.data[this._index+3]=ot.doubleToFloat16(i)))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"equals",value:function(e){return e instanceof t?rt.equals(this.toArray(),e.toArray()):!!Array.isArray(e)&&rt.equals(this.toArray(),e)}},{key:"clone",value:function(){return t.from(this)}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:e.format,numChannels:e.numChannels,alpha:e.alpha})}},{key:Symbol.iterator,value:function(){return this}}],[{key:"imageData",value:function(e){return new t(-1,0,-e.numChannels,e)}},{key:"image",value:function(e){return new t(-1,0,-e.numChannels,e.data instanceof Wt?e.data:new Wt(0,0,0))}},{key:"from",value:function(e){return new t(e.x,e.y,e._index,e.image)}}]),t}(),Ht=function(e){function t(e,n,i,r,a){Ie(this,t),this._pixel=e,this._x1=n,this._y1=i,this._x2=n+r-1,this._y2=i+a-1,this._pixel.setPosition(n-1,i)}return Fe(t,[{key:"next",value:function(){return this._pixel.x+1>this._x2?(this._pixel.setPosition(this._x1,this._pixel.y+1),{done:this._pixel.y>this._y2,value:this._pixel}):this._pixel.next()}},{key:Symbol.iterator,value:function(){return this}}]),t}(),Wt=function(e){function t(e,n,i,r){Ie(this,t),this._width=e,this._height=n,this._numChannels=i,this._data=null!==r&&void 0!==r?r:new Uint16Array(this._width*this._height*this._numChannels)}return Fe(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"data",get:function(){return this._data}},{key:"numChannels",get:function(){return this._numChannels}},{key:"format",get:function(){return je.float16}},{key:"formatType",get:function(){return He.float}},{key:"buffer",get:function(){return this._data.buffer}},{key:"rowStride",get:function(){return this._width*this._numChannels*2}},{key:"iterator",get:function(){return jt.imageData(this)}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"length",get:function(){return this._data.byteLength}},{key:"maxChannelValue",get:function(){return 1}},{key:"maxIndexValue",get:function(){return 1}},{key:"hasPalette",get:function(){return void 0!==this.palette}},{key:"palette",get:function(){}},{key:"isHdrFormat",get:function(){return!0}},{key:"isLdrFormat",get:function(){return!this.isHdrFormat}},{key:"bitsPerChannel",get:function(){return 16}},{key:"getRange",value:function(e,t,n,i){return new Ht(jt.imageData(this),e,t,n,i)}},{key:"getColor",value:function(e,t,n,i){return void 0===i?ut.rgb(e,t,n):ut.rgba(e,t,n,i)}},{key:"getPixel",value:function(e,t,n){var i=n;return void 0!==i&&i instanceof jt&&i.image===this||(i=jt.imageData(this)),i.setPosition(e,t),i}},{key:"setPixel",value:function(e,t,n){this.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelR",value:function(e,t,n){var i=t*this._width*this._numChannels+e*this.numChannels;this.data[i]=ot.doubleToFloat16(n)}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a=t*this._width*this._numChannels+e*this._numChannels;this._data[a]=ot.doubleToFloat16(n),this._numChannels>1&&(this._data[a+1]=ot.doubleToFloat16(i),this._numChannels>2&&(this._data[a+2]=ot.doubleToFloat16(r)))}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o=t*this._width*this._numChannels+e*this._numChannels;this._data[o]=ot.doubleToFloat16(n),this._numChannels>1&&(this._data[o+1]=ot.doubleToFloat16(i),this._numChannels>2&&(this._data[o+2]=ot.doubleToFloat16(r),this._numChannels>3&&(this._data[o+3]=ot.doubleToFloat16(a))))}},{key:"setPixelRgbSafe",value:function(e,t,n,i,r){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgbaSafe",value:function(e,t,n,i,r,a){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.from(this,e)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}},{key:"getBytes",value:function(e){if(void 0===e)return this.toUint8Array();if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra){var t=this.clone();if(e===Qe.abgr){var n,i=et(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.r,o=r.g,u=r.b,s=r.a;r.r=s,r.g=u,r.b=o,r.a=a}}catch(z){i.e(z)}finally{i.f()}}else if(e===Qe.argb){var l,h=et(t);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.r,d=c.g,m=c.b,g=c.a;c.r=g,c.g=f,c.b=d,c.a=m}}catch(z){h.e(z)}finally{h.f()}}else if(e===Qe.bgra){var v,y=et(t);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=p.r,b=p.g,k=p.b,x=p.a;p.r=k,p.g=b,p.b=_,p.a=x}}catch(z){y.e(z)}finally{y.f()}}return t.toUint8Array()}}else if(3===this.numChannels&&e===Qe.bgr){var w,C=this.clone(),S=et(C);try{for(S.s();!(w=S.n()).done;){var P=w.value,M=P.r;P.r=P.b,P.b=M}}catch(z){S.e(z)}finally{S.f()}return C.toUint8Array()}return this.toUint8Array()}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this._width,", h: ").concat(this._height,", ch: ").concat(this._numChannels,")")}},{key:Symbol.iterator,value:function(){return jt.imageData(this)}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n?new Uint16Array(e.data.length):e.data.slice();return new t(e.width,e.height,e._numChannels,i)}}]),t}(),qt=function(e){function t(e,n,i,r){Ie(this,t),this._image=r,this._index=i,this._x=e,this._y=n}return Fe(t,[{key:"image",get:function(){return this._image}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xNormalized",get:function(){return this.width>1?this._x/(this.width-1):0}},{key:"yNormalized",get:function(){return this.height>1?this._y/(this.height-1):0}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"data",get:function(){return this._image.data}},{key:"isValid",get:function(){return this._x>=0&&this._x<this._image.width-1&&this._y>=0&&this._y<this._image.height-1}},{key:"width",get:function(){return this._image.width}},{key:"height",get:function(){return this._image.width}},{key:"length",get:function(){return this._image.numChannels}},{key:"numChannels",get:function(){return this._image.numChannels}},{key:"maxChannelValue",get:function(){return this._image.maxChannelValue}},{key:"maxIndexValue",get:function(){return this._image.maxIndexValue}},{key:"format",get:function(){return je.float32}},{key:"isLdrFormat",get:function(){return this._image.isLdrFormat}},{key:"isHdrFormat",get:function(){return this._image.isLdrFormat}},{key:"hasPalette",get:function(){return this._image.hasPalette}},{key:"palette",get:function(){}},{key:"r",get:function(){return this.numChannels>0?this.data[this._index]:0},set:function(e){this.numChannels>0&&(this.data[this._index]=e)}},{key:"g",get:function(){return this.numChannels>1?this.data[this._index+1]:0},set:function(e){this.numChannels>1&&(this.data[this._index+1]=e)}},{key:"b",get:function(){return this.numChannels>2?this.data[this._index+2]:0},set:function(e){this.numChannels>2&&(this.data[this._index+2]=e)}},{key:"a",get:function(){return this.numChannels>3?this.data[this._index+3]:1},set:function(e){this.numChannels>3&&(this.data[this._index+3]=e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"next",value:function(){return this._x++,this._x===this.width&&(this._x=0,this._y++,this._y===this.height)?{done:!0,value:this}:(this._index+=this.numChannels,{done:this._index>=this.image.data.length,value:this})}},{key:"setPosition",value:function(e,t){this._x=e,this._y=t,this._index=this._y*this._image.width*this._image.numChannels+this._x*this._image.numChannels}},{key:"setPositionNormalized",value:function(e,t){return this.setPosition(Math.floor(e*(this.width-1)),Math.floor(t*(this.height-1)))}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.numChannels?this.data[this._index+e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.numChannels&&(this.data[this._index+e]=t)}},{key:"set",value:function(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}},{key:"setRgb",value:function(e,t,n){this.numChannels>0&&(this.data[this._index]=e,this.numChannels>1&&(this.data[this._index+1]=t,this.numChannels>2&&(this.data[this._index+2]=n)))}},{key:"setRgba",value:function(e,t,n,i){this.numChannels>0&&(this.data[this._index]=e,this.numChannels>1&&(this.data[this._index+1]=t,this.numChannels>2&&(this.data[this._index+2]=n,this.numChannels>3&&(this.data[this._index+3]=i))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"equals",value:function(e){return e instanceof t?rt.equals(this.toArray(),e.toArray()):!!Array.isArray(e)&&rt.equals(this.toArray(),e)}},{key:"clone",value:function(){return t.from(this)}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:e.format,numChannels:e.numChannels,alpha:e.alpha})}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this.toArray(),")")}},{key:Symbol.iterator,value:function(){return this}}],[{key:"imageData",value:function(e){return new t(-1,0,-e.numChannels,e)}},{key:"image",value:function(e){return new t(-1,0,-e.numChannels,e.data instanceof Gt?e.data:new Gt(0,0,0))}},{key:"from",value:function(e){return new t(e.x,e.y,e._index,e.image)}}]),t}(),Gt=function(e){function t(e,n,i,r){Ie(this,t),this._width=e,this._height=n,this._numChannels=i,this._data=null!==r&&void 0!==r?r:new Float32Array(this._width*this._height*this._numChannels)}return Fe(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"data",get:function(){return this._data}},{key:"numChannels",get:function(){return this._numChannels}},{key:"format",get:function(){return je.float32}},{key:"formatType",get:function(){return He.float}},{key:"buffer",get:function(){return this._data.buffer}},{key:"rowStride",get:function(){return this._width*this._numChannels*4}},{key:"iterator",get:function(){return qt.imageData(this)}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"length",get:function(){return this._data.byteLength}},{key:"maxChannelValue",get:function(){return 1}},{key:"maxIndexValue",get:function(){return 1}},{key:"hasPalette",get:function(){return void 0!==this.palette}},{key:"palette",get:function(){}},{key:"isHdrFormat",get:function(){return!0}},{key:"isLdrFormat",get:function(){return!this.isHdrFormat}},{key:"bitsPerChannel",get:function(){return 32}},{key:"getRange",value:function(e,t,n,i){return new Ht(qt.imageData(this),e,t,n,i)}},{key:"getColor",value:function(e,t,n,i){return void 0===i?st.rgb(e,t,n):st.rgba(e,t,n,i)}},{key:"getPixel",value:function(e,t,n){var i=n;return void 0!==i&&i instanceof qt&&i.image===this||(i=qt.imageData(this)),i.setPosition(e,t),i}},{key:"setPixel",value:function(e,t,n){this.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelR",value:function(e,t,n){var i=t*this._width*this._numChannels+e*this.numChannels;this.data[i]=n}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a=t*this._width*this._numChannels+e*this._numChannels;this._data[a]=n,this._numChannels>1&&(this._data[a+1]=i,this._numChannels>2&&(this._data[a+2]=r))}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o=t*this._width*this._numChannels+e*this._numChannels;this._data[o]=n,this._numChannels>1&&(this._data[o+1]=i,this._numChannels>2&&(this._data[o+2]=r,this._numChannels>3&&(this._data[o+3]=a)))}},{key:"setPixelRgbSafe",value:function(e,t,n,i,r){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgbaSafe",value:function(e,t,n,i,r,a){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.from(this,e)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}},{key:"getBytes",value:function(e){if(void 0===e)return this.toUint8Array();if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra){var t=this.clone();if(e===Qe.abgr){var n,i=et(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.r,o=r.g,u=r.b,s=r.a;r.r=s,r.g=u,r.b=o,r.a=a}}catch(z){i.e(z)}finally{i.f()}}else if(e===Qe.argb){var l,h=et(t);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.r,d=c.g,m=c.b,g=c.a;c.r=g,c.g=f,c.b=d,c.a=m}}catch(z){h.e(z)}finally{h.f()}}else if(e===Qe.bgra){var v,y=et(t);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=p.r,b=p.g,k=p.b,x=p.a;p.r=k,p.g=b,p.b=_,p.a=x}}catch(z){y.e(z)}finally{y.f()}}return t.toUint8Array()}}else if(3===this.numChannels&&e===Qe.bgr){var w,C=this.clone(),S=et(C);try{for(S.s();!(w=S.n()).done;){var P=w.value,M=P.r;P.r=P.b,P.b=M}}catch(z){S.e(z)}finally{S.f()}return C.toUint8Array()}return this.toUint8Array()}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this._width,", h: ").concat(this._height,", ch: ").concat(this._numChannels,")")}},{key:Symbol.iterator,value:function(){return qt.imageData(this)}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n?new Float32Array(e.data.length):e.data.slice();return new t(e.width,e.height,e._numChannels,i)}}]),t}(),$t=function(e){function t(e,n,i,r){Ie(this,t),this._image=r,this._index=i,this._x=e,this._y=n}return Fe(t,[{key:"image",get:function(){return this._image}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xNormalized",get:function(){return this.width>1?this._x/(this.width-1):0}},{key:"yNormalized",get:function(){return this.height>1?this._y/(this.height-1):0}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"data",get:function(){return this._image.data}},{key:"isValid",get:function(){return this._x>=0&&this._x<this._image.width-1&&this._y>=0&&this._y<this._image.height-1}},{key:"width",get:function(){return this._image.width}},{key:"height",get:function(){return this._image.width}},{key:"length",get:function(){return this._image.numChannels}},{key:"numChannels",get:function(){return this._image.numChannels}},{key:"maxChannelValue",get:function(){return this._image.maxChannelValue}},{key:"maxIndexValue",get:function(){return this._image.maxIndexValue}},{key:"format",get:function(){return je.float64}},{key:"isLdrFormat",get:function(){return this._image.isLdrFormat}},{key:"isHdrFormat",get:function(){return this._image.isLdrFormat}},{key:"hasPalette",get:function(){return this._image.hasPalette}},{key:"palette",get:function(){}},{key:"r",get:function(){return this.numChannels>0?this.data[this._index]:0},set:function(e){this.numChannels>0&&(this.data[this._index]=e)}},{key:"g",get:function(){return this.numChannels>1?this.data[this._index+1]:0},set:function(e){this.numChannels>1&&(this.data[this._index+1]=e)}},{key:"b",get:function(){return this.numChannels>2?this.data[this._index+2]:0},set:function(e){this.numChannels>2&&(this.data[this._index+2]=e)}},{key:"a",get:function(){return this.numChannels>3?this.data[this._index+3]:0},set:function(e){this.numChannels>3&&(this.data[this._index+3]=e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){return this._x++,this._x===this.width&&(this._x=0,this._y++,this._y===this.height)?{done:!0,value:this}:(this._index+=this.numChannels,{done:this._index>=this.image.data.length,value:this})}},{key:"setPosition",value:function(e,t){this._x=e,this._y=t,this._index=this._y*this._image.width*this._image.numChannels+this._x*this._image.numChannels}},{key:"setPositionNormalized",value:function(e,t){return this.setPosition(Math.floor(e*(this.width-1)),Math.floor(t*(this.height-1)))}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.numChannels?this.data[this._index+e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.numChannels&&(this.data[this._index+e]=t)}},{key:"set",value:function(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}},{key:"setRgb",value:function(e,t,n){this.numChannels>0&&(this.data[this._index]=e,this.numChannels>1&&(this.data[this._index+1]=t,this.numChannels>2&&(this.data[this._index+2]=n)))}},{key:"setRgba",value:function(e,t,n,i){this.numChannels>0&&(this.data[this._index]=e,this.numChannels>1&&(this.data[this._index+1]=t,this.numChannels>2&&(this.data[this._index+2]=n,this.numChannels>3&&(this.data[this._index+3]=i))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"equals",value:function(e){return e instanceof t?rt.equals(this.toArray(),e.toArray()):!!Array.isArray(e)&&rt.equals(this.toArray(),e)}},{key:"clone",value:function(){return t.from(this)}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:e.format,numChannels:e.numChannels,alpha:e.alpha})}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this.toArray(),")")}}],[{key:"imageData",value:function(e){return new t(-1,0,-e.numChannels,e)}},{key:"image",value:function(e){return new t(-1,0,-e.numChannels,e.data instanceof Yt?e.data:new Yt(0,0,0))}},{key:"from",value:function(e){return new t(e.x,e.y,e._index,e.image)}}]),t}(),Yt=function(e){function t(e,n,i,r){Ie(this,t),this._width=e,this._height=n,this._numChannels=i,this._data=null!==r&&void 0!==r?r:new Float64Array(this._width*this._height*4*this._numChannels)}return Fe(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"data",get:function(){return this._data}},{key:"numChannels",get:function(){return this._numChannels}},{key:"format",get:function(){return je.float64}},{key:"formatType",get:function(){return He.float}},{key:"buffer",get:function(){return this._data.buffer}},{key:"rowStride",get:function(){return this._width*this._numChannels*8}},{key:"iterator",get:function(){return $t.imageData(this)}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"length",get:function(){return this._data.byteLength}},{key:"maxChannelValue",get:function(){return 1}},{key:"maxIndexValue",get:function(){return 1}},{key:"hasPalette",get:function(){return void 0!==this.palette}},{key:"palette",get:function(){}},{key:"isHdrFormat",get:function(){return!0}},{key:"isLdrFormat",get:function(){return!this.isHdrFormat}},{key:"bitsPerChannel",get:function(){return 64}},{key:"getRange",value:function(e,t,n,i){return new Ht($t.imageData(this),e,t,n,i)}},{key:"getColor",value:function(e,t,n,i){return void 0===i?lt.rgb(e,t,n):lt.rgba(e,t,n,i)}},{key:"getPixel",value:function(e,t,n){var i=n;return void 0!==i&&i instanceof $t&&i.image===this||(i=$t.imageData(this)),i.setPosition(e,t),i}},{key:"setPixel",value:function(e,t,n){this.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelR",value:function(e,t,n){var i=t*this._width*this._numChannels+e*this.numChannels;this.data[i]=n}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a=t*this._width*this._numChannels+e*this._numChannels;this._data[a]=n,this._numChannels>1&&(this._data[a+1]=i,this._numChannels>2&&(this._data[a+2]=r))}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o=t*this._width*this._numChannels+e*this._numChannels;this._data[o]=n,this._numChannels>1&&(this._data[o+1]=i,this._numChannels>2&&(this._data[o+2]=r,this._numChannels>3&&(this._data[o+3]=a)))}},{key:"setPixelRgbSafe",value:function(e,t,n,i,r){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgbaSafe",value:function(e,t,n,i,r,a){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.from(this,e)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}},{key:"getBytes",value:function(e){if(void 0===e)return this.toUint8Array();if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra){var t=this.clone();if(e===Qe.abgr){var n,i=et(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.r,o=r.g,u=r.b,s=r.a;r.r=s,r.g=u,r.b=o,r.a=a}}catch(z){i.e(z)}finally{i.f()}}else if(e===Qe.argb){var l,h=et(t);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.r,d=c.g,m=c.b,g=c.a;c.r=g,c.g=f,c.b=d,c.a=m}}catch(z){h.e(z)}finally{h.f()}}else if(e===Qe.bgra){var v,y=et(t);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=p.r,b=p.g,k=p.b,x=p.a;p.r=k,p.g=b,p.b=_,p.a=x}}catch(z){y.e(z)}finally{y.f()}}return t.toUint8Array()}}else if(3===this.numChannels&&e===Qe.bgr){var w,C=this.clone(),S=et(C);try{for(S.s();!(w=S.n()).done;){var P=w.value,M=P.r;P.r=P.b,P.b=M}}catch(z){S.e(z)}finally{S.f()}return C.toUint8Array()}return this.toUint8Array()}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this._width,", h: ").concat(this._height,", ch: ").concat(this._numChannels,")")}},{key:Symbol.iterator,value:function(){return $t.imageData(this)}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n?new Float64Array(e.data.length):e.data.slice();return new t(e.width,e.height,e._numChannels,i)}}]),t}(),Xt=function(e){function t(e,n,i,r){Ie(this,t),this._image=r,this._index=i,this._x=e,this._y=n}return Fe(t,[{key:"image",get:function(){return this._image}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xNormalized",get:function(){return this.width>1?this._x/(this.width-1):0}},{key:"yNormalized",get:function(){return this.height>1?this._y/(this.height-1):0}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"data",get:function(){return this._image.data}},{key:"isValid",get:function(){return this._x>=0&&this._x<this._image.width-1&&this._y>=0&&this._y<this._image.height-1}},{key:"width",get:function(){return this._image.width}},{key:"height",get:function(){return this._image.width}},{key:"length",get:function(){return this._image.numChannels}},{key:"numChannels",get:function(){return this._image.numChannels}},{key:"maxChannelValue",get:function(){return this._image.maxChannelValue}},{key:"maxIndexValue",get:function(){return this._image.maxIndexValue}},{key:"format",get:function(){return je.int16}},{key:"isLdrFormat",get:function(){return this._image.isLdrFormat}},{key:"isHdrFormat",get:function(){return this._image.isLdrFormat}},{key:"hasPalette",get:function(){return this._image.hasPalette}},{key:"palette",get:function(){}},{key:"r",get:function(){return this.numChannels>0?this.data[this._index]:0},set:function(e){this.numChannels>0&&(this.data[this._index]=Math.trunc(e))}},{key:"g",get:function(){return this.numChannels>1?this.data[this._index+1]:0},set:function(e){this.numChannels>1&&(this.data[this._index+1]=Math.trunc(e))}},{key:"b",get:function(){return this.numChannels>2?this.data[this._index+2]:0},set:function(e){this.numChannels>2&&(this.data[this._index+2]=Math.trunc(e))}},{key:"a",get:function(){return this.numChannels>3?this.data[this._index+3]:0},set:function(e){this.numChannels>3&&(this.data[this._index+3]=Math.trunc(e))}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"next",value:function(){return this._x++,this._x===this.width&&(this._x=0,this._y++,this._y===this.height)?{done:!0,value:this}:(this._index+=this.numChannels,{done:this._index>=this.image.data.length,value:this})}},{key:"setPosition",value:function(e,t){this._x=e,this._y=t,this._index=this._y*this._image.width*this._image.numChannels+this._x*this._image.numChannels}},{key:"setPositionNormalized",value:function(e,t){return this.setPosition(Math.floor(e*(this.width-1)),Math.floor(t*(this.height-1)))}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.numChannels?this.data[this._index+e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.numChannels&&(this.data[this._index+e]=Math.trunc(t))}},{key:"set",value:function(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}},{key:"setRgb",value:function(e,t,n){this.numChannels>0&&(this.data[this._index]=Math.trunc(e),this.numChannels>1&&(this.data[this._index+1]=Math.trunc(t),this.numChannels>2&&(this.data[this._index+2]=Math.trunc(n))))}},{key:"setRgba",value:function(e,t,n,i){this.numChannels>0&&(this.data[this._index]=Math.trunc(e),this.numChannels>1&&(this.data[this._index+1]=Math.trunc(t),this.numChannels>2&&(this.data[this._index+2]=Math.trunc(n),this.numChannels>3&&(this.data[this._index+3]=Math.trunc(i)))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"equals",value:function(e){return e instanceof t?rt.equals(this.toArray(),e.toArray()):!!Array.isArray(e)&&rt.equals(this.toArray(),e)}},{key:"clone",value:function(){return t.from(this)}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:e.format,numChannels:e.numChannels,alpha:e.alpha})}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this.toArray(),")")}},{key:Symbol.iterator,value:function(){return this}}],[{key:"imageData",value:function(e){return new t(-1,0,-e.numChannels,e)}},{key:"image",value:function(e){return new t(-1,0,-e.numChannels,e.data instanceof Qt?e.data:new Qt(0,0,0))}},{key:"from",value:function(e){return new t(e.x,e.y,e._index,e.image)}}]),t}(),Qt=function(e){function t(e,n,i,r){Ie(this,t),this._width=e,this._height=n,this._numChannels=i,this._data=null!==r&&void 0!==r?r:new Int16Array(this._width*this._height*this._numChannels)}return Fe(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"data",get:function(){return this._data}},{key:"numChannels",get:function(){return this._numChannels}},{key:"format",get:function(){return je.int16}},{key:"formatType",get:function(){return He.int}},{key:"buffer",get:function(){return this._data.buffer}},{key:"rowStride",get:function(){return this._width*this._numChannels*2}},{key:"iterator",get:function(){return Xt.imageData(this)}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"length",get:function(){return this._data.byteLength}},{key:"maxChannelValue",get:function(){return 32767}},{key:"maxIndexValue",get:function(){return 32767}},{key:"hasPalette",get:function(){return void 0!==this.palette}},{key:"palette",get:function(){}},{key:"isHdrFormat",get:function(){return!0}},{key:"isLdrFormat",get:function(){return!this.isHdrFormat}},{key:"bitsPerChannel",get:function(){return 16}},{key:"getRange",value:function(e,t,n,i){return new Ht(Xt.imageData(this),e,t,n,i)}},{key:"getColor",value:function(e,t,n,i){return void 0===i?ht.rgb(Math.trunc(e),Math.trunc(t),Math.trunc(n)):ht.rgba(Math.trunc(e),Math.trunc(t),Math.trunc(n),Math.trunc(i))}},{key:"getPixel",value:function(e,t,n){var i=n;return void 0!==i&&i instanceof Xt&&i.image===this||(i=Xt.imageData(this)),i.setPosition(e,t),i}},{key:"setPixel",value:function(e,t,n){this.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelR",value:function(e,t,n){var i=t*this.width*this.numChannels+e*this.numChannels;this.data[i]=Math.trunc(n)}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a=t*this.width*this.numChannels+e*this._numChannels;this._data[a]=Math.trunc(n),this._numChannels>1&&(this._data[a+1]=Math.trunc(i),this._numChannels>2&&(this._data[a+2]=Math.trunc(r)))}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o=t*this.width*this.numChannels+e*this._numChannels;this._data[o]=Math.trunc(n),this._numChannels>1&&(this._data[o+1]=Math.trunc(i),this._numChannels>2&&(this._data[o+2]=Math.trunc(r),this._numChannels>3&&(this._data[o+3]=Math.trunc(a))))}},{key:"setPixelRgbSafe",value:function(e,t,n,i,r){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgbaSafe",value:function(e,t,n,i,r,a){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.from(this,e)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}},{key:"getBytes",value:function(e){if(void 0===e)return this.toUint8Array();if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra){var t=this.clone();if(e===Qe.abgr){var n,i=et(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.r,o=r.g,u=r.b,s=r.a;r.r=s,r.g=u,r.b=o,r.a=a}}catch(z){i.e(z)}finally{i.f()}}else if(e===Qe.argb){var l,h=et(t);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.r,d=c.g,m=c.b,g=c.a;c.r=g,c.g=f,c.b=d,c.a=m}}catch(z){h.e(z)}finally{h.f()}}else if(e===Qe.bgra){var v,y=et(t);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=p.r,b=p.g,k=p.b,x=p.a;p.r=k,p.g=b,p.b=_,p.a=x}}catch(z){y.e(z)}finally{y.f()}}return t.toUint8Array()}}else if(3===this.numChannels&&e===Qe.bgr){var w,C=this.clone(),S=et(C);try{for(S.s();!(w=S.n()).done;){var P=w.value,M=P.r;P.r=P.b,P.b=M}}catch(z){S.e(z)}finally{S.f()}return C.toUint8Array()}return this.toUint8Array()}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this._width,", h: ").concat(this._height,", ch: ").concat(this._numChannels,")")}},{key:Symbol.iterator,value:function(){return Xt.imageData(this)}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n?new Int16Array(e.data.length):e.data.slice();return new t(e.width,e.height,e._numChannels,i)}}]),t}(),Kt=function(e){function t(e,n,i,r){Ie(this,t),this._image=r,this._index=i,this._x=e,this._y=n}return Fe(t,[{key:"image",get:function(){return this._image}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xNormalized",get:function(){return this.width>1?this._x/(this.width-1):0}},{key:"yNormalized",get:function(){return this.height>1?this._y/(this.height-1):0}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"data",get:function(){return this._image.data}},{key:"isValid",get:function(){return this._x>=0&&this._x<this._image.width-1&&this._y>=0&&this._y<this._image.height-1}},{key:"width",get:function(){return this._image.width}},{key:"height",get:function(){return this._image.width}},{key:"length",get:function(){return this._image.numChannels}},{key:"numChannels",get:function(){return this._image.numChannels}},{key:"maxChannelValue",get:function(){return this._image.maxChannelValue}},{key:"maxIndexValue",get:function(){return this._image.maxIndexValue}},{key:"format",get:function(){return je.int32}},{key:"isLdrFormat",get:function(){return this._image.isLdrFormat}},{key:"isHdrFormat",get:function(){return this._image.isLdrFormat}},{key:"hasPalette",get:function(){return this._image.hasPalette}},{key:"palette",get:function(){}},{key:"r",get:function(){return this.numChannels>0?this.data[this._index]:0},set:function(e){this.numChannels>0&&(this.data[this._index]=Math.trunc(e))}},{key:"g",get:function(){return this.numChannels>1?this.data[this._index+1]:0},set:function(e){this.numChannels>1&&(this.data[this._index+1]=Math.trunc(e))}},{key:"b",get:function(){return this.numChannels>2?this.data[this._index+2]:0},set:function(e){this.numChannels>2&&(this.data[this._index+2]=Math.trunc(e))}},{key:"a",get:function(){return this.numChannels>3?this.data[this._index+3]:0},set:function(e){this.numChannels>3&&(this.data[this._index+3]=Math.trunc(e))}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"next",value:function(){return this._x++,this._x===this.width&&(this._x=0,this._y++,this._y===this.height)?{done:!0,value:this}:(this._index+=this.numChannels,{done:this._index>=this.image.data.length,value:this})}},{key:"setPosition",value:function(e,t){this._x=e,this._y=t,this._index=this._y*this._image.width*this._image.numChannels+this._x*this._image.numChannels}},{key:"setPositionNormalized",value:function(e,t){return this.setPosition(Math.floor(e*(this.width-1)),Math.floor(t*(this.height-1)))}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.numChannels?this.data[this._index+e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.numChannels&&(this.data[this._index+e]=Math.trunc(t))}},{key:"set",value:function(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}},{key:"setRgb",value:function(e,t,n){this.numChannels>0&&(this.data[this._index]=Math.trunc(e),this.numChannels>1&&(this.data[this._index+1]=Math.trunc(t),this.numChannels>2&&(this.data[this._index+2]=Math.trunc(n))))}},{key:"setRgba",value:function(e,t,n,i){this.numChannels>0&&(this.data[this._index]=Math.trunc(e),this.numChannels>1&&(this.data[this._index+1]=Math.trunc(t),this.numChannels>2&&(this.data[this._index+2]=Math.trunc(n),this.numChannels>3&&(this.data[this._index+3]=Math.trunc(i)))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"equals",value:function(e){return e instanceof t?rt.equals(this.toArray(),e.toArray()):!!Array.isArray(e)&&rt.equals(this.toArray(),e)}},{key:"clone",value:function(){return t.from(this)}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:e.format,numChannels:e.numChannels,alpha:e.alpha})}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this.toArray(),")")}},{key:Symbol.iterator,value:function(){return this}}],[{key:"imageData",value:function(e){return new t(-1,0,-e.numChannels,e)}},{key:"image",value:function(e){return new t(-1,0,-e.numChannels,e.data instanceof Jt?e.data:new Jt(0,0,0))}},{key:"from",value:function(e){return new t(e.x,e.y,e._index,e.image)}}]),t}(),Jt=function(e){function t(e,n,i,r){Ie(this,t),this._width=e,this._height=n,this._numChannels=i,this._data=null!==r&&void 0!==r?r:new Int32Array(this._width*this._height*this._numChannels)}return Fe(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"data",get:function(){return this._data}},{key:"numChannels",get:function(){return this._numChannels}},{key:"format",get:function(){return je.int32}},{key:"formatType",get:function(){return He.int}},{key:"buffer",get:function(){return this._data.buffer}},{key:"rowStride",get:function(){return this._width*this._numChannels*4}},{key:"iterator",get:function(){return Kt.imageData(this)}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"length",get:function(){return this._data.byteLength}},{key:"maxChannelValue",get:function(){return 2147483647}},{key:"maxIndexValue",get:function(){return 2147483647}},{key:"hasPalette",get:function(){return void 0!==this.palette}},{key:"palette",get:function(){}},{key:"isHdrFormat",get:function(){return!0}},{key:"isLdrFormat",get:function(){return!this.isHdrFormat}},{key:"bitsPerChannel",get:function(){return 32}},{key:"getRange",value:function(e,t,n,i){return new Ht(Kt.imageData(this),e,t,n,i)}},{key:"getColor",value:function(e,t,n,i){return void 0===i?ct.rgb(Math.trunc(e),Math.trunc(t),Math.trunc(n)):ct.rgba(Math.trunc(e),Math.trunc(t),Math.trunc(n),Math.trunc(i))}},{key:"getPixel",value:function(e,t,n){var i=n;return void 0!==i&&i instanceof Kt&&i.image===this||(i=Kt.imageData(this)),i.setPosition(e,t),i}},{key:"setPixel",value:function(e,t,n){this.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelR",value:function(e,t,n){var i=t*this.width*this.numChannels+e*this.numChannels;this.data[i]=Math.trunc(n)}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a=t*this.width*this.numChannels+e*this._numChannels;this._data[a]=Math.trunc(n),this._numChannels>1&&(this._data[a+1]=Math.trunc(i),this._numChannels>2&&(this._data[a+2]=Math.trunc(r)))}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o=t*this.width*this.numChannels+e*this._numChannels;this._data[o]=Math.trunc(n),this._numChannels>1&&(this._data[o+1]=Math.trunc(i),this._numChannels>2&&(this._data[o+2]=Math.trunc(r),this._numChannels>3&&(this._data[o+3]=Math.trunc(a))))}},{key:"setPixelRgbSafe",value:function(e,t,n,i,r){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgbaSafe",value:function(e,t,n,i,r,a){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.from(this,e)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}},{key:"getBytes",value:function(e){if(void 0===e)return this.toUint8Array();if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra){var t=this.clone();if(e===Qe.abgr){var n,i=et(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.r,o=r.g,u=r.b,s=r.a;r.r=s,r.g=u,r.b=o,r.a=a}}catch(z){i.e(z)}finally{i.f()}}else if(e===Qe.argb){var l,h=et(t);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.r,d=c.g,m=c.b,g=c.a;c.r=g,c.g=f,c.b=d,c.a=m}}catch(z){h.e(z)}finally{h.f()}}else if(e===Qe.bgra){var v,y=et(t);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=p.r,b=p.g,k=p.b,x=p.a;p.r=k,p.g=b,p.b=_,p.a=x}}catch(z){y.e(z)}finally{y.f()}}return t.toUint8Array()}}else if(3===this.numChannels&&e===Qe.bgr){var w,C=this.clone(),S=et(C);try{for(S.s();!(w=S.n()).done;){var P=w.value,M=P.r;P.r=P.b,P.b=M}}catch(z){S.e(z)}finally{S.f()}return C.toUint8Array()}return this.toUint8Array()}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this._width,", h: ").concat(this._height,", ch: ").concat(this._numChannels,")")}},{key:Symbol.iterator,value:function(){return Kt.imageData(this)}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n?new Int32Array(e.data.length):e.data.slice();return new t(e.width,e.height,e._numChannels,i)}}]),t}(),en=function(e){function t(e,n,i,r){Ie(this,t),this._image=r,this._index=i,this._x=e,this._y=n}return Fe(t,[{key:"image",get:function(){return this._image}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xNormalized",get:function(){return this.width>1?this._x/(this.width-1):0}},{key:"yNormalized",get:function(){return this.height>1?this._y/(this.height-1):0}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"data",get:function(){return this._image.data}},{key:"isValid",get:function(){return this._x>=0&&this._x<this._image.width-1&&this._y>=0&&this._y<this._image.height-1}},{key:"width",get:function(){return this._image.width}},{key:"height",get:function(){return this._image.width}},{key:"length",get:function(){return this._image.numChannels}},{key:"numChannels",get:function(){return this._image.numChannels}},{key:"maxChannelValue",get:function(){return this._image.maxChannelValue}},{key:"maxIndexValue",get:function(){return this._image.maxIndexValue}},{key:"format",get:function(){return je.int8}},{key:"isLdrFormat",get:function(){return this._image.isLdrFormat}},{key:"isHdrFormat",get:function(){return this._image.isLdrFormat}},{key:"hasPalette",get:function(){return this._image.hasPalette}},{key:"palette",get:function(){}},{key:"r",get:function(){return this.numChannels>0?this.data[this._index]:0},set:function(e){this.numChannels>0&&(this.data[this._index]=Math.trunc(e))}},{key:"g",get:function(){return this.numChannels>1?this.data[this._index+1]:0},set:function(e){this.numChannels>1&&(this.data[this._index+1]=Math.trunc(e))}},{key:"b",get:function(){return this.numChannels>2?this.data[this._index+2]:0},set:function(e){this.numChannels>2&&(this.data[this._index+2]=Math.trunc(e))}},{key:"a",get:function(){return this.numChannels>3?this.data[this._index+3]:0},set:function(e){this.numChannels>3&&(this.data[this._index+3]=Math.trunc(e))}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"next",value:function(){return this._x++,this._x===this.width&&(this._x=0,this._y++,this._y===this.height)?{done:!0,value:this}:(this._index+=this.numChannels,{done:this._index>=this.image.data.length,value:this})}},{key:"setPosition",value:function(e,t){this._x=e,this._y=t,this._index=this._y*this._image.width*this._image.numChannels+this._x*this._image.numChannels}},{key:"setPositionNormalized",value:function(e,t){return this.setPosition(Math.floor(e*(this.width-1)),Math.floor(t*(this.height-1)))}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.numChannels?this.data[this._index+e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.numChannels&&(this.data[this._index+e]=Math.trunc(t))}},{key:"set",value:function(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}},{key:"setRgb",value:function(e,t,n){this.numChannels>0&&(this.data[this._index]=Math.trunc(e),this.numChannels>1&&(this.data[this._index+1]=Math.trunc(t),this.numChannels>2&&(this.data[this._index+2]=Math.trunc(n))))}},{key:"setRgba",value:function(e,t,n,i){this.numChannels>0&&(this.data[this._index]=Math.trunc(e),this.numChannels>1&&(this.data[this._index+1]=Math.trunc(t),this.numChannels>2&&(this.data[this._index+2]=Math.trunc(n),this.numChannels>3&&(this.data[this._index+3]=Math.trunc(i)))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"equals",value:function(e){return e instanceof t?rt.equals(this.toArray(),e.toArray()):!!Array.isArray(e)&&rt.equals(this.toArray(),e)}},{key:"clone",value:function(){return t.from(this)}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:e.format,numChannels:e.numChannels,alpha:e.alpha})}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this.toArray(),")")}},{key:Symbol.iterator,value:function(){return this}}],[{key:"imageData",value:function(e){return new t(-1,0,-e.numChannels,e)}},{key:"image",value:function(e){return new t(-1,0,-e.numChannels,e.data instanceof tn?e.data:new tn(0,0,0))}},{key:"from",value:function(e){return new t(e.x,e.y,e._index,e.image)}}]),t}(),tn=function(e){function t(e,n,i,r){Ie(this,t),this._width=e,this._height=n,this._numChannels=i,this._data=null!==r&&void 0!==r?r:new Int8Array(this._width*this._height*this._numChannels)}return Fe(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"data",get:function(){return this._data}},{key:"numChannels",get:function(){return this._numChannels}},{key:"format",get:function(){return je.int8}},{key:"formatType",get:function(){return He.int}},{key:"buffer",get:function(){return this._data.buffer}},{key:"rowStride",get:function(){return this._width*this._numChannels}},{key:"iterator",get:function(){return en.imageData(this)}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"length",get:function(){return this._data.byteLength}},{key:"maxChannelValue",get:function(){return 127}},{key:"maxIndexValue",get:function(){return 127}},{key:"hasPalette",get:function(){return void 0!==this.palette}},{key:"palette",get:function(){}},{key:"isHdrFormat",get:function(){return!0}},{key:"isLdrFormat",get:function(){return!this.isHdrFormat}},{key:"bitsPerChannel",get:function(){return 8}},{key:"getRange",value:function(e,t,n,i){return new Ht(en.imageData(this),e,t,n,i)}},{key:"getColor",value:function(e,t,n,i){return void 0===i?ft.rgb(Math.trunc(e),Math.trunc(t),Math.trunc(n)):ft.rgba(Math.trunc(e),Math.trunc(t),Math.trunc(n),Math.trunc(i))}},{key:"getPixel",value:function(e,t,n){var i=n;return void 0!==i&&i instanceof en&&i.image===this||(i=en.imageData(this)),i.setPosition(e,t),i}},{key:"setPixel",value:function(e,t,n){this.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelR",value:function(e,t,n){var i=t*this.rowStride+e*this.numChannels;this.data[i]=Math.trunc(n)}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a=t*this.rowStride+e*this._numChannels;this._data[a]=Math.trunc(n),this._numChannels>1&&(this._data[a+1]=Math.trunc(i),this._numChannels>2&&(this._data[a+2]=Math.trunc(r)))}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o=t*this.rowStride+e*this._numChannels;this._data[o]=Math.trunc(n),this._numChannels>1&&(this._data[o+1]=Math.trunc(i),this._numChannels>2&&(this._data[o+2]=Math.trunc(r),this._numChannels>3&&(this._data[o+3]=Math.trunc(a))))}},{key:"setPixelRgbSafe",value:function(e,t,n,i,r){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgbaSafe",value:function(e,t,n,i,r,a){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.from(this,e)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}},{key:"getBytes",value:function(e){if(void 0===e)return this.toUint8Array();if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra){var t=this.clone();if(e===Qe.abgr){var n,i=et(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.r,o=r.g,u=r.b,s=r.a;r.r=s,r.g=u,r.b=o,r.a=a}}catch(z){i.e(z)}finally{i.f()}}else if(e===Qe.argb){var l,h=et(t);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.r,d=c.g,m=c.b,g=c.a;c.r=g,c.g=f,c.b=d,c.a=m}}catch(z){h.e(z)}finally{h.f()}}else if(e===Qe.bgra){var v,y=et(t);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=p.r,b=p.g,k=p.b,x=p.a;p.r=k,p.g=b,p.b=_,p.a=x}}catch(z){y.e(z)}finally{y.f()}}return t.toUint8Array()}}else if(3===this.numChannels&&e===Qe.bgr){var w,C=this.clone(),S=et(C);try{for(S.s();!(w=S.n()).done;){var P=w.value,M=P.r;P.r=P.b,P.b=M}}catch(z){S.e(z)}finally{S.f()}return C.toUint8Array()}return this.toUint8Array()}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this._width,", h: ").concat(this._height,", ch: ").concat(this._numChannels,")")}},{key:Symbol.iterator,value:function(){return en.imageData(this)}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n?new Int8Array(e.data.length):e.data.slice();return new t(e.width,e.height,e._numChannels,i)}}]),t}(),nn=function(e){function t(e,n,i,r,a,o){Ie(this,t),this._image=o,this._index=i,this._bitIndex=r,this._rowOffset=a,this._x=e,this._y=n}return Fe(t,[{key:"image",get:function(){return this._image}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xNormalized",get:function(){return this.width>1?this._x/(this.width-1):0}},{key:"yNormalized",get:function(){return this.height>1?this._y/(this.height-1):0}},{key:"index",get:function(){return this.getChannelInternal(0)},set:function(e){this.setChannel(0,e)}},{key:"data",get:function(){return this._image.data}},{key:"isValid",get:function(){return this._x>=0&&this._x<this._image.width-1&&this._y>=0&&this._y<this._image.height-1}},{key:"width",get:function(){return this._image.width}},{key:"height",get:function(){return this._image.width}},{key:"length",get:function(){var e,t;return null!==(t=null===(e=this.palette)||void 0===e?void 0:e.numChannels)&&void 0!==t?t:this._image.numChannels}},{key:"numChannels",get:function(){return this._image.numChannels}},{key:"maxChannelValue",get:function(){return this._image.maxChannelValue}},{key:"maxIndexValue",get:function(){return this._image.maxIndexValue}},{key:"format",get:function(){return je.uint1}},{key:"isLdrFormat",get:function(){return this._image.isLdrFormat}},{key:"isHdrFormat",get:function(){return this._image.isLdrFormat}},{key:"hasPalette",get:function(){return this._image.hasPalette}},{key:"palette",get:function(){return this._image.palette}},{key:"r",get:function(){return this.getChannel(0)},set:function(e){this.setChannel(0,e)}},{key:"g",get:function(){return this.getChannel(1)},set:function(e){this.setChannel(1,e)}},{key:"b",get:function(){return this.getChannel(2)},set:function(e){this.setChannel(2,e)}},{key:"a",get:function(){return this.getChannel(3)},set:function(e){this.setChannel(3,e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"imageLength",get:function(){return this._image.length}},{key:"getChannelInternal",value:function(e){var t=this._index,n=7-(this._bitIndex+e);return n<0&&(n+=8,t++),t>=this._image.data.length?0:this._image.data[t]>>n&1}},{key:"next",value:function(){if(this._x++,this._x===this.width)return this._x=0,this._y++,this._bitIndex=0,this._index++,this._rowOffset+=this.image.rowStride,{done:this._y>=this.height,value:this};var e=this.numChannels;if(void 0!==this.palette||1===e)this._bitIndex++,this._bitIndex>7&&(this._bitIndex=0,this._index++);else{var t=this.image.numChannels;this._bitIndex=this._x*t&7,this._index=this._rowOffset+(this._x*t>>3)}return{done:this._index>=this.imageLength,value:this}}},{key:"setPosition",value:function(e,t){this._x=e,this._y=t;var n=this._image.numChannels;this._rowOffset=this._y*this._image.rowStride,this._index=this._rowOffset+(this._x*n>>3),this._bitIndex=this._x*n&7}},{key:"setPositionNormalized",value:function(e,t){return this.setPosition(Math.floor(e*(this.width-1)),Math.floor(t*(this.height-1)))}},{key:"getChannel",value:function(e){return void 0!==this.palette?this.palette.get(this.getChannelInternal(0),e):e===tt.luminance?this.luminance:e<this.numChannels?this.getChannelInternal(e):0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){if(!(e>=this.numChannels)){var n=this._index,i=7-(this._bitIndex+e);i<0&&(i+=8,n++);var r=this.data[n],a=Te.clampInt(t,0,1);r=r&[254,253,251,247,239,223,191,127][i]|a<<i,this.data[n]=r}}},{key:"set",value:function(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}},{key:"setRgb",value:function(e,t,n){var i=this.image.numChannels;i>0&&(this.setChannel(0,e),i>1&&(this.setChannel(1,t),i>2&&this.setChannel(2,n)))}},{key:"setRgba",value:function(e,t,n,i){var r=this.numChannels;r>0&&(this.setChannel(0,e),r>1&&(this.setChannel(1,t),r>2&&(this.setChannel(2,n),r>3&&this.setChannel(3,i))))}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"equals",value:function(e){return e instanceof t?rt.equals(this.toArray(),e.toArray()):!!Array.isArray(e)&&rt.equals(this.toArray(),e)}},{key:"clone",value:function(){return t.from(this)}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:e.format,numChannels:e.numChannels,alpha:e.alpha})}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this.toArray(),")")}},{key:Symbol.iterator,value:function(){return this}}],[{key:"imageData",value:function(e){return new t(-1,0,0,-1,0,e)}},{key:"image",value:function(e){return new t(-1,0,0,-1,0,e.data instanceof rn?e.data:new rn(0,0,0))}},{key:"from",value:function(e){return new t(e.x,e.y,e._index,e._bitIndex,e._rowOffset,e.image)}}]),t}(),rn=function(e){function t(e,n,i,r){Ie(this,t),this._width=e,this._height=n,this._numChannels=i,this._rowStride=Math.ceil(this._width*this._numChannels/8),this._palette=void 0,this._data=null!==r&&void 0!==r?r:new Uint8Array(Math.max(this._rowStride*this._height,1))}return Fe(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"data",get:function(){return this._data}},{key:"numChannels",get:function(){return this._numChannels}},{key:"format",get:function(){return je.uint1}},{key:"formatType",get:function(){return He.uint}},{key:"buffer",get:function(){return this._data.buffer}},{key:"rowStride",get:function(){return this._rowStride}},{key:"iterator",get:function(){return nn.imageData(this)}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"length",get:function(){return this._data.byteLength}},{key:"maxChannelValue",get:function(){var e,t;return null!==(t=null===(e=this._palette)||void 0===e?void 0:e.maxChannelValue)&&void 0!==t?t:1}},{key:"maxIndexValue",get:function(){return 1}},{key:"hasPalette",get:function(){return void 0!==this.palette}},{key:"palette",get:function(){return this._palette}},{key:"isHdrFormat",get:function(){return!1}},{key:"isLdrFormat",get:function(){return!this.isHdrFormat}},{key:"bitsPerChannel",get:function(){return 1}},{key:"getRange",value:function(e,t,n,i){return new Ht(nn.imageData(this),e,t,n,i)}},{key:"getColor",value:function(e,t,n,i){return void 0===i?dt.rgb(Math.trunc(e),Math.trunc(t),Math.trunc(n)):dt.rgba(Math.trunc(e),Math.trunc(t),Math.trunc(n),Math.trunc(i))}},{key:"getPixel",value:function(e,t,n){var i=n;return void 0!==i&&i instanceof nn&&i.image===this||(i=nn.imageData(this)),i.setPosition(e,t),i}},{key:"setPixel",value:function(e,t,n){this.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelR",value:function(e,t,n){var i;this._numChannels<1||(null!==(i=this.pixel)&&void 0!==i||(this.pixel=nn.imageData(this)),this.pixel.setPosition(e,t),this.pixel.index=n)}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a;this._numChannels<1||(null!==(a=this.pixel)&&void 0!==a||(this.pixel=nn.imageData(this)),this.pixel.setPosition(e,t),this.pixel.setRgb(n,i,r))}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o;this._numChannels<1||(null!==(o=this.pixel)&&void 0!==o||(this.pixel=nn.imageData(this)),this.pixel.setPosition(e,t),this.pixel.setRgba(n,i,r,a))}},{key:"setPixelRgbSafe",value:function(e,t,n,i,r){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgbaSafe",value:function(e,t,n,i,r,a){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.from(this,e)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}},{key:"getBytes",value:function(e){if(void 0===e)return this.toUint8Array();if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra){var t=this.clone();if(e===Qe.abgr){var n,i=et(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.r,o=r.g,u=r.b,s=r.a;r.r=s,r.g=u,r.b=o,r.a=a}}catch(z){i.e(z)}finally{i.f()}}else if(e===Qe.argb){var l,h=et(t);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.r,d=c.g,m=c.b,g=c.a;c.r=g,c.g=f,c.b=d,c.a=m}}catch(z){h.e(z)}finally{h.f()}}else if(e===Qe.bgra){var v,y=et(t);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=p.r,b=p.g,k=p.b,x=p.a;p.r=k,p.g=b,p.b=_,p.a=x}}catch(z){y.e(z)}finally{y.f()}}return t.toUint8Array()}}else if(3===this.numChannels&&e===Qe.bgr){var w,C=this.clone(),S=et(C);try{for(S.s();!(w=S.n()).done;){var P=w.value,M=P.r;P.r=P.b,P.b=M}}catch(z){S.e(z)}finally{S.f()}return C.toUint8Array()}return this.toUint8Array()}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this._width,", h: ").concat(this._height,", ch: ").concat(this._numChannels,")")}},{key:Symbol.iterator,value:function(){return nn.imageData(this)}}],[{key:"palette",value:function(e,n,i){var r=Math.ceil(e/8),a=new t(e,n,1,new Uint8Array(Math.max(r*n,1)));return a._rowStride=r,a._palette=i,a}},{key:"from",value:function(e){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=i?new Uint8Array(e.data.length):e.data.slice(),a=new t(e.width,e.height,e._numChannels,r);return a._rowStride=e.rowStride,a._palette=null===(n=e.palette)||void 0===n?void 0:n.clone(),a}}]),t}(),an=function(e){function t(e,n,i,r){Ie(this,t),this._image=r,this._index=i,this._x=e,this._y=n}return Fe(t,[{key:"image",get:function(){return this._image}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xNormalized",get:function(){return this.width>1?this._x/(this.width-1):0}},{key:"yNormalized",get:function(){return this.height>1?this._y/(this.height-1):0}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"data",get:function(){return this._image.data}},{key:"isValid",get:function(){return this._x>=0&&this._x<this._image.width-1&&this._y>=0&&this._y<this._image.height-1}},{key:"width",get:function(){return this._image.width}},{key:"height",get:function(){return this._image.width}},{key:"length",get:function(){return this._image.numChannels}},{key:"numChannels",get:function(){return this._image.numChannels}},{key:"maxChannelValue",get:function(){return this._image.maxChannelValue}},{key:"maxIndexValue",get:function(){return this._image.maxIndexValue}},{key:"format",get:function(){return je.uint16}},{key:"isLdrFormat",get:function(){return this._image.isLdrFormat}},{key:"isHdrFormat",get:function(){return this._image.isLdrFormat}},{key:"hasPalette",get:function(){return this._image.hasPalette}},{key:"palette",get:function(){}},{key:"r",get:function(){return this.numChannels>0?this.data[this._index]:0},set:function(e){this.numChannels>0&&(this.data[this._index]=Math.trunc(e))}},{key:"g",get:function(){return this.numChannels>1?this.data[this._index+1]:0},set:function(e){this.numChannels>1&&(this.data[this._index+1]=Math.trunc(e))}},{key:"b",get:function(){return this.numChannels>2?this.data[this._index+2]:0},set:function(e){this.numChannels>2&&(this.data[this._index+2]=Math.trunc(e))}},{key:"a",get:function(){return this.numChannels>3?this.data[this._index+3]:0},set:function(e){this.numChannels>3&&(this.data[this._index+3]=Math.trunc(e))}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"next",value:function(){return this._x++,this._x===this.width&&(this._x=0,this._y++,this._y===this.height)?{done:!0,value:this}:(this._index+=this.numChannels,{done:this._index>=this.image.data.length,value:this})}},{key:"setPosition",value:function(e,t){this._x=e,this._y=t,this._index=this._y*this._image.width*this._image.numChannels+this._x*this._image.numChannels}},{key:"setPositionNormalized",value:function(e,t){return this.setPosition(Math.floor(e*(this.width-1)),Math.floor(t*(this.height-1)))}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.numChannels?this.data[this._index+e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.numChannels&&(this.data[this._index+e]=Math.trunc(t))}},{key:"set",value:function(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}},{key:"setRgb",value:function(e,t,n){this.numChannels>0&&(this.data[this._index]=Math.trunc(e),this.numChannels>1&&(this.data[this._index+1]=Math.trunc(t),this.numChannels>2&&(this.data[this._index+2]=Math.trunc(n))))}},{key:"setRgba",value:function(e,t,n,i){this.numChannels>0&&(this.data[this._index]=Math.trunc(e),this.numChannels>1&&(this.data[this._index+1]=Math.trunc(t),this.numChannels>2&&(this.data[this._index+2]=Math.trunc(n),this.numChannels>3&&(this.data[this._index+3]=Math.trunc(i)))))}},{key:"equals",value:function(e){return e instanceof t?rt.equals(this.toArray(),e.toArray()):!!Array.isArray(e)&&rt.equals(this.toArray(),e)}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return t.from(this)}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:e.format,numChannels:e.numChannels,alpha:e.alpha})}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this.toArray(),")")}},{key:Symbol.iterator,value:function(){return this}}],[{key:"imageData",value:function(e){return new t(-1,0,-e.numChannels,e)}},{key:"image",value:function(e){return new t(-1,0,-e.numChannels,e.data instanceof on?e.data:new on(0,0,0))}},{key:"from",value:function(e){return new t(e.x,e.y,e._index,e.image)}}]),t}(),on=function(e){function t(e,n,i,r){Ie(this,t),this._width=e,this._height=n,this._numChannels=i,this._data=null!==r&&void 0!==r?r:new Uint16Array(this._width*this._height*this._numChannels)}return Fe(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"data",get:function(){return this._data}},{key:"numChannels",get:function(){return this._numChannels}},{key:"format",get:function(){return je.uint16}},{key:"formatType",get:function(){return He.uint}},{key:"buffer",get:function(){return this._data.buffer}},{key:"rowStride",get:function(){return this._width*this._numChannels*2}},{key:"iterator",get:function(){return an.imageData(this)}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"length",get:function(){return this._data.byteLength}},{key:"maxChannelValue",get:function(){return 65535}},{key:"maxIndexValue",get:function(){return 65535}},{key:"hasPalette",get:function(){return void 0!==this.palette}},{key:"palette",get:function(){}},{key:"isHdrFormat",get:function(){return!0}},{key:"isLdrFormat",get:function(){return!this.isHdrFormat}},{key:"bitsPerChannel",get:function(){return 16}},{key:"getRange",value:function(e,t,n,i){return new Ht(an.imageData(this),e,t,n,i)}},{key:"getColor",value:function(e,t,n,i){return void 0===i?mt.rgb(Math.trunc(e),Math.trunc(t),Math.trunc(n)):mt.rgba(Math.trunc(e),Math.trunc(t),Math.trunc(n),Math.trunc(i))}},{key:"getPixel",value:function(e,t,n){var i=n;return void 0!==i&&i instanceof an&&i.image===this||(i=an.imageData(this)),i.setPosition(e,t),i}},{key:"setPixel",value:function(e,t,n){this.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelR",value:function(e,t,n){var i=t*this._width*this._numChannels+e*this.numChannels;this.data[i]=Math.trunc(n)}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a=t*this._width*this._numChannels+e*this._numChannels;this._data[a]=Math.trunc(n),this._numChannels>1&&(this._data[a+1]=Math.trunc(i),this._numChannels>2&&(this._data[a+2]=Math.trunc(r)))}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o=t*this._width*this._numChannels+e*this._numChannels;this._data[o]=Math.trunc(n),this._numChannels>1&&(this._data[o+1]=Math.trunc(i),this._numChannels>2&&(this._data[o+2]=Math.trunc(r),this._numChannels>3&&(this._data[o+3]=Math.trunc(a))))}},{key:"setPixelRgbSafe",value:function(e,t,n,i,r){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgbaSafe",value:function(e,t,n,i,r,a){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.from(this,e)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}},{key:"getBytes",value:function(e){if(void 0===e)return this.toUint8Array();if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra){var t=this.clone();if(e===Qe.abgr){var n,i=et(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.r,o=r.g,u=r.b,s=r.a;r.r=s,r.g=u,r.b=o,r.a=a}}catch(z){i.e(z)}finally{i.f()}}else if(e===Qe.argb){var l,h=et(t);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.r,d=c.g,m=c.b,g=c.a;c.r=g,c.g=f,c.b=d,c.a=m}}catch(z){h.e(z)}finally{h.f()}}else if(e===Qe.bgra){var v,y=et(t);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=p.r,b=p.g,k=p.b,x=p.a;p.r=k,p.g=b,p.b=_,p.a=x}}catch(z){y.e(z)}finally{y.f()}}return t.toUint8Array()}}else if(3===this.numChannels&&e===Qe.bgr){var w,C=this.clone(),S=et(C);try{for(S.s();!(w=S.n()).done;){var P=w.value,M=P.r;P.r=P.b,P.b=M}}catch(z){S.e(z)}finally{S.f()}return C.toUint8Array()}return this.toUint8Array()}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this._width,", h: ").concat(this._height,", ch: ").concat(this._numChannels,")")}},{key:Symbol.iterator,value:function(){return an.imageData(this)}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n?new Uint16Array(e.data.length):e.data.slice();return new t(e.width,e.height,e._numChannels,i)}}]),t}(),un=function(e){function t(e,n,i,r,a,o){Ie(this,t),this._image=o,this._index=i,this._bitIndex=r,this._rowOffset=a,this._x=e,this._y=n}return Fe(t,[{key:"image",get:function(){return this._image}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xNormalized",get:function(){return this.width>1?this._x/(this.width-1):0}},{key:"yNormalized",get:function(){return this.height>1?this._y/(this.height-1):0}},{key:"index",get:function(){return this.getChannelInternal(0)},set:function(e){this.setChannel(0,e)}},{key:"data",get:function(){return this._image.data}},{key:"isValid",get:function(){return this._x>=0&&this._x<this._image.width-1&&this._y>=0&&this._y<this._image.height-1}},{key:"width",get:function(){return this._image.width}},{key:"height",get:function(){return this._image.width}},{key:"length",get:function(){var e,t;return null!==(t=null===(e=this.palette)||void 0===e?void 0:e.numChannels)&&void 0!==t?t:this._image.numChannels}},{key:"numChannels",get:function(){return this._image.numChannels}},{key:"maxChannelValue",get:function(){return this._image.maxChannelValue}},{key:"maxIndexValue",get:function(){return this._image.maxIndexValue}},{key:"format",get:function(){return je.uint2}},{key:"isLdrFormat",get:function(){return this._image.isLdrFormat}},{key:"isHdrFormat",get:function(){return this._image.isLdrFormat}},{key:"hasPalette",get:function(){return this._image.hasPalette}},{key:"palette",get:function(){return this._image.palette}},{key:"r",get:function(){return this.getChannel(0)},set:function(e){this.setChannel(0,e)}},{key:"g",get:function(){return this.getChannel(1)},set:function(e){this.setChannel(1,e)}},{key:"b",get:function(){return this.getChannel(2)},set:function(e){this.setChannel(2,e)}},{key:"a",get:function(){return this.getChannel(3)},set:function(e){this.setChannel(3,e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"bitsPerPixel",get:function(){return void 0!==this._image.palette?2:this._image.numChannels<<1}},{key:"getChannelInternal",value:function(e){var t=this._index,n=6-(this._bitIndex+(e<<1));return n<0&&(n+=8,t++),this._image.data[t]>>n&3}},{key:"next",value:function(){if(this._x++,this._x===this.width)return this._x=0,this._y++,this._bitIndex=0,this._index++,this._rowOffset+=this.image.rowStride,{done:this._y>=this.height,value:this};var e=this.numChannels;if(void 0!==this.palette||1===e)this._bitIndex+=2,this._bitIndex>7&&(this._bitIndex=0,this._index++);else{var t=this.bitsPerPixel;this._bitIndex=this._x*t&7,this._index=this._rowOffset+(this._x*t>>3)}return{done:this._index>=this.image.data.length,value:this}}},{key:"setPosition",value:function(e,t){this._x=e,this._y=t;var n=this.bitsPerPixel;this._rowOffset=this._y*this._image.rowStride,this._index=this._rowOffset+(this._x*n>>3),this._bitIndex=this._x*n&7}},{key:"setPositionNormalized",value:function(e,t){return this.setPosition(Math.floor(e*(this.width-1)),Math.floor(t*(this.height-1)))}},{key:"getChannel",value:function(e){return void 0!==this.palette?this.palette.get(this.getChannelInternal(0),e):e===tt.luminance?this.luminance:e<this.numChannels?this.getChannelInternal(e):0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){if(!(e>=this.image.numChannels)){var n=this._index,i=6-(this._bitIndex+(e<<1));i<0&&(i+=8,n++);var r=this.data[n],a=Te.clampInt(t,0,3);r=r&[252,243,207,63][i>>1]|a<<i,this.data[n]=r}}},{key:"set",value:function(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}},{key:"setRgb",value:function(e,t,n){var i=this.image.numChannels;i>0&&(this.setChannel(0,e),i>1&&(this.setChannel(1,t),i>2&&this.setChannel(2,n)))}},{key:"setRgba",value:function(e,t,n,i){var r=this.image.numChannels;r>0&&(this.setChannel(0,e),r>1&&(this.setChannel(1,t),r>2&&(this.setChannel(2,n),r>3&&this.setChannel(3,i))))}},{key:"equals",value:function(e){return e instanceof t?rt.equals(this.toArray(),e.toArray()):!!Array.isArray(e)&&rt.equals(this.toArray(),e)}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return t.from(this)}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:e.format,numChannels:e.numChannels,alpha:e.alpha})}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this.toArray(),")")}},{key:Symbol.iterator,value:function(){return this}}],[{key:"imageData",value:function(e){return new t(-1,0,0,-2,0,e)}},{key:"image",value:function(e){return new t(-1,0,0,-2,0,e.data instanceof sn?e.data:new sn(0,0,0))}},{key:"from",value:function(e){return new t(e.x,e.y,e._index,e._bitIndex,e._rowOffset,e.image)}}]),t}(),sn=function(e){function t(e,n,i,r){Ie(this,t),this._width=e,this._height=n,this._numChannels=i,this._rowStride=Math.ceil(this._width*(this._numChannels<<1)/8),this._palette=void 0,this._data=null!==r&&void 0!==r?r:new Uint8Array(Math.max(this._rowStride*this._height,1))}return Fe(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"data",get:function(){return this._data}},{key:"numChannels",get:function(){return this._numChannels}},{key:"format",get:function(){return je.uint2}},{key:"formatType",get:function(){return He.uint}},{key:"buffer",get:function(){return this._data.buffer}},{key:"rowStride",get:function(){return this._rowStride}},{key:"iterator",get:function(){return un.imageData(this)}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"length",get:function(){return this._data.byteLength}},{key:"maxChannelValue",get:function(){var e,t;return null!==(t=null===(e=this._palette)||void 0===e?void 0:e.maxChannelValue)&&void 0!==t?t:3}},{key:"maxIndexValue",get:function(){return 1}},{key:"hasPalette",get:function(){return void 0!==this.palette}},{key:"palette",get:function(){return this._palette}},{key:"isHdrFormat",get:function(){return!1}},{key:"isLdrFormat",get:function(){return!this.isHdrFormat}},{key:"bitsPerChannel",get:function(){return 2}},{key:"getRange",value:function(e,t,n,i){return new Ht(un.imageData(this),e,t,n,i)}},{key:"getColor",value:function(e,t,n,i){return void 0===i?gt.rgb(Math.trunc(e),Math.trunc(t),Math.trunc(n)):gt.rgba(Math.trunc(e),Math.trunc(t),Math.trunc(n),Math.trunc(i))}},{key:"getPixel",value:function(e,t,n){var i=n;return void 0!==i&&i instanceof un&&i.image===this||(i=un.imageData(this)),i.setPosition(e,t),i}},{key:"setPixel",value:function(e,t,n){this.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelR",value:function(e,t,n){var i;this._numChannels<1||(null!==(i=this._pixel)&&void 0!==i||(this._pixel=un.imageData(this)),this._pixel.setPosition(e,t),this._pixel.index=n)}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a;this._numChannels<1||(null!==(a=this._pixel)&&void 0!==a||(this._pixel=un.imageData(this)),this._pixel.setPosition(e,t),this._pixel.setRgb(n,i,r))}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o;this._numChannels<1||(null!==(o=this._pixel)&&void 0!==o||(this._pixel=un.imageData(this)),this._pixel.setPosition(e,t),this._pixel.setRgba(n,i,r,a))}},{key:"setPixelRgbSafe",value:function(e,t,n,i,r){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgbaSafe",value:function(e,t,n,i,r,a){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.from(this,e)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}},{key:"getBytes",value:function(e){if(void 0===e)return this.toUint8Array();if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra){var t=this.clone();if(e===Qe.abgr){var n,i=et(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.r,o=r.g,u=r.b,s=r.a;r.r=s,r.g=u,r.b=o,r.a=a}}catch(z){i.e(z)}finally{i.f()}}else if(e===Qe.argb){var l,h=et(t);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.r,d=c.g,m=c.b,g=c.a;c.r=g,c.g=f,c.b=d,c.a=m}}catch(z){h.e(z)}finally{h.f()}}else if(e===Qe.bgra){var v,y=et(t);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=p.r,b=p.g,k=p.b,x=p.a;p.r=k,p.g=b,p.b=_,p.a=x}}catch(z){y.e(z)}finally{y.f()}}return t.toUint8Array()}}else if(3===this.numChannels&&e===Qe.bgr){var w,C=this.clone(),S=et(C);try{for(S.s();!(w=S.n()).done;){var P=w.value,M=P.r;P.r=P.b,P.b=M}}catch(z){S.e(z)}finally{S.f()}return C.toUint8Array()}return this.toUint8Array()}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this._width,", h: ").concat(this._height,", ch: ").concat(this._numChannels,")")}},{key:Symbol.iterator,value:function(){return un.imageData(this)}}],[{key:"palette",value:function(e,n,i){var r=Math.ceil(e/4),a=new t(e,n,1,new Uint8Array(Math.max(r*n,1)));return a._rowStride=r,a._palette=i,a}},{key:"from",value:function(e){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=i?new Uint8Array(e.data.length):e.data.slice(),a=new t(e.width,e.height,e._numChannels,r);return a._rowStride=e.rowStride,a._palette=null===(n=e.palette)||void 0===n?void 0:n.clone(),a}}]),t}(),ln=function(e){function t(e,n,i,r){Ie(this,t),this._image=r,this._index=i,this._x=e,this._y=n}return Fe(t,[{key:"image",get:function(){return this._image}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xNormalized",get:function(){return this.width>1?this._x/(this.width-1):0}},{key:"yNormalized",get:function(){return this.height>1?this._y/(this.height-1):0}},{key:"index",get:function(){return this.r},set:function(e){this.r=e}},{key:"data",get:function(){return this._image.data}},{key:"isValid",get:function(){return this._x>=0&&this._x<this._image.width-1&&this._y>=0&&this._y<this._image.height-1}},{key:"width",get:function(){return this._image.width}},{key:"height",get:function(){return this._image.width}},{key:"length",get:function(){return this._image.numChannels}},{key:"numChannels",get:function(){return this._image.numChannels}},{key:"maxChannelValue",get:function(){return this._image.maxChannelValue}},{key:"maxIndexValue",get:function(){return this._image.maxIndexValue}},{key:"format",get:function(){return je.uint32}},{key:"isLdrFormat",get:function(){return this._image.isLdrFormat}},{key:"isHdrFormat",get:function(){return this._image.isLdrFormat}},{key:"hasPalette",get:function(){return this._image.hasPalette}},{key:"palette",get:function(){}},{key:"r",get:function(){return this.numChannels>0?this.data[this._index]:0},set:function(e){this.numChannels>0&&(this.data[this._index]=Math.trunc(e))}},{key:"g",get:function(){return this.numChannels>1?this.data[this._index+1]:0},set:function(e){this.numChannels>1&&(this.data[this._index+1]=Math.trunc(e))}},{key:"b",get:function(){return this.numChannels>2?this.data[this._index+2]:0},set:function(e){this.numChannels>2&&(this.data[this._index+2]=Math.trunc(e))}},{key:"a",get:function(){return this.numChannels>3?this.data[this._index+3]:0},set:function(e){this.numChannels>3&&(this.data[this._index+3]=Math.trunc(e))}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"next",value:function(){return this._x++,this._x===this.width&&(this._x=0,this._y++,this._y===this.height)?{done:!0,value:this}:(this._index+=this.numChannels,{done:this._index>=this.image.data.length,value:this})}},{key:"setPosition",value:function(e,t){this._x=e,this._y=t,this._index=this._y*this._image.width*this._image.numChannels+this._x*this._image.numChannels}},{key:"setPositionNormalized",value:function(e,t){return this.setPosition(Math.floor(e*(this.width-1)),Math.floor(t*(this.height-1)))}},{key:"getChannel",value:function(e){return e===tt.luminance?this.luminance:e<this.numChannels?this.data[this._index+e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.numChannels&&(this.data[this._index+e]=Math.trunc(t))}},{key:"set",value:function(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}},{key:"setRgb",value:function(e,t,n){this.numChannels>0&&(this.data[this._index]=Math.trunc(e),this.numChannels>1&&(this.data[this._index+1]=Math.trunc(t),this.numChannels>2&&(this.data[this._index+2]=Math.trunc(n))))}},{key:"setRgba",value:function(e,t,n,i){this.numChannels>0&&(this.data[this._index]=Math.trunc(e),this.numChannels>1&&(this.data[this._index+1]=Math.trunc(t),this.numChannels>2&&(this.data[this._index+2]=Math.trunc(n),this.numChannels>3&&(this.data[this._index+3]=Math.trunc(i)))))}},{key:"equals",value:function(e){return e instanceof t?rt.equals(this.toArray(),e.toArray()):!!Array.isArray(e)&&rt.equals(this.toArray(),e)}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return t.from(this)}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:e.format,numChannels:e.numChannels,alpha:e.alpha})}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this.toArray(),")")}},{key:Symbol.iterator,value:function(){return this}}],[{key:"imageData",value:function(e){return new t(-1,0,-e.numChannels,e)}},{key:"image",value:function(e){return new t(-1,0,-e.numChannels,e.data instanceof hn?e.data:new hn(0,0,0))}},{key:"from",value:function(e){return new t(e.x,e.y,e._index,e.image)}}]),t}(),hn=function(e){function t(e,n,i,r){Ie(this,t),this._width=e,this._height=n,this._numChannels=i,this._data=null!==r&&void 0!==r?r:new Uint32Array(this._width*this._height*this._numChannels)}return Fe(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"data",get:function(){return this._data}},{key:"numChannels",get:function(){return this._numChannels}},{key:"format",get:function(){return je.uint32}},{key:"formatType",get:function(){return He.uint}},{key:"buffer",get:function(){return this._data.buffer}},{key:"rowStride",get:function(){return this._width*this._numChannels*4}},{key:"iterator",get:function(){return ln.imageData(this)}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"length",get:function(){return this._data.byteLength}},{key:"maxChannelValue",get:function(){return 4294967295}},{key:"maxIndexValue",get:function(){return 4294967295}},{key:"hasPalette",get:function(){return void 0!==this.palette}},{key:"palette",get:function(){}},{key:"isHdrFormat",get:function(){return!0}},{key:"isLdrFormat",get:function(){return!this.isHdrFormat}},{key:"bitsPerChannel",get:function(){return 32}},{key:"getRange",value:function(e,t,n,i){return new Ht(ln.imageData(this),e,t,n,i)}},{key:"getColor",value:function(e,t,n,i){return void 0===i?vt.rgb(Math.trunc(e),Math.trunc(t),Math.trunc(n)):vt.rgba(Math.trunc(e),Math.trunc(t),Math.trunc(n),Math.trunc(i))}},{key:"getPixel",value:function(e,t,n){var i=n;return void 0!==i&&i instanceof ln&&i.image===this||(i=ln.imageData(this)),i.setPosition(e,t),i}},{key:"setPixel",value:function(e,t,n){this.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelR",value:function(e,t,n){var i=t*this._width*this._numChannels+e*this.numChannels;this.data[i]=Math.trunc(n)}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a=t*this._width*this._numChannels+e*this._numChannels;this._data[a]=Math.trunc(n),this._numChannels>1&&(this._data[a+1]=Math.trunc(i),this._numChannels>2&&(this._data[a+2]=Math.trunc(r)))}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o=t*this._width*this._numChannels+e*this._numChannels;this._data[o]=Math.trunc(n),this._numChannels>1&&(this._data[o+1]=Math.trunc(i),this._numChannels>2&&(this._data[o+2]=Math.trunc(r),this._numChannels>3&&(this._data[o+3]=Math.trunc(a))))}},{key:"setPixelRgbSafe",value:function(e,t,n,i,r){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgbaSafe",value:function(e,t,n,i,r,a){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.from(this,e)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}},{key:"getBytes",value:function(e){if(void 0===e)return this.toUint8Array();if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra){var t=this.clone();if(e===Qe.abgr){var n,i=et(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.r,o=r.g,u=r.b,s=r.a;r.r=s,r.g=u,r.b=o,r.a=a}}catch(z){i.e(z)}finally{i.f()}}else if(e===Qe.argb){var l,h=et(t);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.r,d=c.g,m=c.b,g=c.a;c.r=g,c.g=f,c.b=d,c.a=m}}catch(z){h.e(z)}finally{h.f()}}else if(e===Qe.bgra){var v,y=et(t);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=p.r,b=p.g,k=p.b,x=p.a;p.r=k,p.g=b,p.b=_,p.a=x}}catch(z){y.e(z)}finally{y.f()}}return t.toUint8Array()}}else if(3===this.numChannels&&e===Qe.bgr){var w,C=this.clone(),S=et(C);try{for(S.s();!(w=S.n()).done;){var P=w.value,M=P.r;P.r=P.b,P.b=M}}catch(z){S.e(z)}finally{S.f()}return C.toUint8Array()}return this.toUint8Array()}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this._width,", h: ").concat(this._height,", ch: ").concat(this._numChannels,")")}},{key:Symbol.iterator,value:function(){return ln.imageData(this)}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n?new Uint32Array(e.data.length):e.data.slice();return new t(e.width,e.height,e._numChannels,i)}}]),t}(),cn=function(e){function t(e,n,i,r,a){Ie(this,t),this._image=a,this._index=i,this._bitIndex=r,this._x=e,this._y=n}return Fe(t,[{key:"image",get:function(){return this._image}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xNormalized",get:function(){return this.width>1?this._x/(this.width-1):0}},{key:"yNormalized",get:function(){return this.height>1?this._y/(this.height-1):0}},{key:"index",get:function(){return this.getChannelInternal(0)},set:function(e){this.setChannel(0,e)}},{key:"data",get:function(){return this._image.data}},{key:"isValid",get:function(){return this._x>=0&&this._x<this._image.width-1&&this._y>=0&&this._y<this._image.height-1}},{key:"width",get:function(){return this._image.width}},{key:"height",get:function(){return this._image.width}},{key:"length",get:function(){var e,t;return null!==(t=null===(e=this.palette)||void 0===e?void 0:e.numChannels)&&void 0!==t?t:this._image.numChannels}},{key:"numChannels",get:function(){return this._image.numChannels}},{key:"maxChannelValue",get:function(){return this._image.maxChannelValue}},{key:"maxIndexValue",get:function(){return this._image.maxIndexValue}},{key:"format",get:function(){return je.uint4}},{key:"isLdrFormat",get:function(){return this._image.isLdrFormat}},{key:"isHdrFormat",get:function(){return this._image.isLdrFormat}},{key:"hasPalette",get:function(){return this._image.hasPalette}},{key:"palette",get:function(){return this._image.palette}},{key:"r",get:function(){return this.getChannel(0)},set:function(e){this.setChannel(0,e)}},{key:"g",get:function(){return this.getChannel(1)},set:function(e){this.setChannel(1,e)}},{key:"b",get:function(){return this.getChannel(2)},set:function(e){this.setChannel(2,e)}},{key:"a",get:function(){return this.getChannel(3)},set:function(e){this.setChannel(3,e)}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"getChannelInternal",value:function(e){var t=this._index,n=4-(this._bitIndex+(e<<2));return n<0&&(n+=8,t++),this._image.data[t]>>n&15}},{key:"next",value:function(){if(this._x++,this._x===this.width)return this._x=0,this._y++,this._bitIndex=0,this._index=this._y*this.image.rowStride,{done:this._y>=this.height,value:this};var e=this.image.numChannels;if(void 0!==this.palette||1===e)this._bitIndex+=4,this._bitIndex>7&&(this._bitIndex=0,this._index++);else{var t=e<<2;for(this._bitIndex+=t;this._bitIndex>7;)this._bitIndex-=8,this._index++}return{done:this._index>=this.image.data.length,value:this}}},{key:"setPosition",value:function(e,t){this._x=e,this._y=t;var n=4*this.image.numChannels,i=this.image.width,r=this.image.rowStride;this._index=4===n?this._y*r+(this._x>>1):8===n?this._y*i+this._x:16===n?this._y*r+(this._x<<1):this._y*r+(this._x*n>>3),this._bitIndex=n>7?this._x*n&4:this._x*n&7}},{key:"setPositionNormalized",value:function(e,t){return this.setPosition(Math.floor(e*(this.width-1)),Math.floor(t*(this.height-1)))}},{key:"getChannel",value:function(e){return void 0!==this.palette?this.palette.get(this.getChannelInternal(0),e):e===tt.luminance?this.luminance:e<this.numChannels?this.getChannelInternal(e):0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){if(!(e>=this.image.numChannels)){var n=this._index,i=4-(this._bitIndex+(e<<2));i<0&&(i+=8,n++);var r=this.data[n];r=r&(4===i?15:240)|Te.clampInt(t,0,15)<<i,this.data[n]=r}}},{key:"set",value:function(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}},{key:"setRgb",value:function(e,t,n){var i=this.image.numChannels;i>0&&(this.setChannel(0,e),i>1&&(this.setChannel(1,t),i>2&&this.setChannel(2,n)))}},{key:"setRgba",value:function(e,t,n,i){var r=this.image.numChannels;r>0&&(this.setChannel(0,e),r>1&&(this.setChannel(1,t),r>2&&(this.setChannel(2,n),r>3&&this.setChannel(3,i))))}},{key:"equals",value:function(e){return e instanceof t?rt.equals(this.toArray(),e.toArray()):!!Array.isArray(e)&&rt.equals(this.toArray(),e)}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return t.from(this)}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:e.format,numChannels:e.numChannels,alpha:e.alpha})}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this.toArray(),")")}},{key:Symbol.iterator,value:function(){return this}}],[{key:"imageData",value:function(e){return new t(-1,0,0,-(e.numChannels<<2),e)}},{key:"image",value:function(e){return new t(-1,0,0,-(e.numChannels<<2),e.data instanceof fn?e.data:new fn(0,0,0))}},{key:"from",value:function(e){return new t(e.x,e.y,e._index,e._bitIndex,e.image)}}]),t}(),fn=function(e){function t(e,n,i,r){Ie(this,t),this._width=e,this._height=n,this._numChannels=i,this._rowStride=2===this._numChannels?this._width:4===this._numChannels?2*this._width:3===this._numChannels?Math.ceil(1.5*this._width):Math.ceil(this._width/2),this._palette=void 0,this._data=null!==r&&void 0!==r?r:new Uint8Array(Math.max(this._rowStride*this._height,1))}return Fe(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"data",get:function(){return this._data}},{key:"numChannels",get:function(){return this._numChannels}},{key:"format",get:function(){return je.uint4}},{key:"formatType",get:function(){return He.uint}},{key:"buffer",get:function(){return this._data.buffer}},{key:"rowStride",get:function(){return this._rowStride}},{key:"iterator",get:function(){return cn.imageData(this)}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"length",get:function(){return this._data.byteLength}},{key:"maxChannelValue",get:function(){var e,t;return null!==(t=null===(e=this._palette)||void 0===e?void 0:e.maxChannelValue)&&void 0!==t?t:15}},{key:"maxIndexValue",get:function(){return 15}},{key:"hasPalette",get:function(){return void 0!==this.palette}},{key:"palette",get:function(){return this._palette}},{key:"isHdrFormat",get:function(){return!1}},{key:"isLdrFormat",get:function(){return!this.isHdrFormat}},{key:"bitsPerChannel",get:function(){return 4}},{key:"getRange",value:function(e,t,n,i){return new Ht(cn.imageData(this),e,t,n,i)}},{key:"getColor",value:function(e,t,n,i){return void 0===i?yt.rgb(Math.trunc(e),Math.trunc(t),Math.trunc(n)):yt.rgba(Math.trunc(e),Math.trunc(t),Math.trunc(n),Math.trunc(i))}},{key:"getPixel",value:function(e,t,n){var i=n;return void 0!==i&&i instanceof cn&&i.image===this||(i=cn.imageData(this)),i.setPosition(e,t),i}},{key:"setPixel",value:function(e,t,n){this.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelR",value:function(e,t,n){var i;this._numChannels<1||(null!==(i=this._pixel)&&void 0!==i||(this._pixel=cn.imageData(this)),this._pixel.setPosition(e,t),this._pixel.index=n)}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a;this._numChannels<1||(null!==(a=this._pixel)&&void 0!==a||(this._pixel=cn.imageData(this)),this._pixel.setPosition(e,t),this._pixel.setRgb(n,i,r))}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o;this._numChannels<1||(null!==(o=this._pixel)&&void 0!==o||(this._pixel=cn.imageData(this)),this._pixel.setPosition(e,t),this._pixel.setRgba(n,i,r,a))}},{key:"setPixelRgbSafe",value:function(e,t,n,i,r){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgbaSafe",value:function(e,t,n,i,r,a){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.from(this,e)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}},{key:"getBytes",value:function(e){if(void 0===e)return this.toUint8Array();if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra){var t=this.clone();if(e===Qe.abgr){var n,i=et(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.r,o=r.g,u=r.b,s=r.a;r.r=s,r.g=u,r.b=o,r.a=a}}catch(z){i.e(z)}finally{i.f()}}else if(e===Qe.argb){var l,h=et(t);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.r,d=c.g,m=c.b,g=c.a;c.r=g,c.g=f,c.b=d,c.a=m}}catch(z){h.e(z)}finally{h.f()}}else if(e===Qe.bgra){var v,y=et(t);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=p.r,b=p.g,k=p.b,x=p.a;p.r=k,p.g=b,p.b=_,p.a=x}}catch(z){y.e(z)}finally{y.f()}}return t.toUint8Array()}}else if(3===this.numChannels&&e===Qe.bgr){var w,C=this.clone(),S=et(C);try{for(S.s();!(w=S.n()).done;){var P=w.value,M=P.r;P.r=P.b,P.b=M}}catch(z){S.e(z)}finally{S.f()}return C.toUint8Array()}return this.toUint8Array()}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this._width,", h: ").concat(this._height,", ch: ").concat(this._numChannels,")")}},{key:Symbol.iterator,value:function(){return cn.imageData(this)}}],[{key:"palette",value:function(e,n,i){var r=Math.ceil(e/2),a=new t(e,n,1,new Uint8Array(Math.max(r*n,1)));return a._rowStride=r,a._palette=i,a}},{key:"from",value:function(e){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=i?new Uint8Array(e.data.length):e.data.slice(),a=new t(e.width,e.height,e._numChannels,r);return a._rowStride=e.rowStride,a._palette=null===(n=e.palette)||void 0===n?void 0:n.clone(),a}}]),t}(),dn=function(e){function t(e,n,i,r){Ie(this,t),this._image=r,this._index=i,this._x=e,this._y=n}return Fe(t,[{key:"image",get:function(){return this._image}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xNormalized",get:function(){return this.width>1?this._x/(this.width-1):0}},{key:"yNormalized",get:function(){return this.height>1?this._y/(this.height-1):0}},{key:"index",get:function(){return this.data[this._index]},set:function(e){this.data[this._index]=Te.clampInt255(e)}},{key:"data",get:function(){return this._image.data}},{key:"isValid",get:function(){return this._x>=0&&this._x<this._image.width-1&&this._y>=0&&this._y<this._image.height-1}},{key:"width",get:function(){return this._image.width}},{key:"height",get:function(){return this._image.width}},{key:"length",get:function(){var e,t;return null!==(t=null===(e=this.palette)||void 0===e?void 0:e.numChannels)&&void 0!==t?t:this._image.numChannels}},{key:"numChannels",get:function(){return this._image.numChannels}},{key:"maxChannelValue",get:function(){return this._image.maxChannelValue}},{key:"maxIndexValue",get:function(){return this._image.maxIndexValue}},{key:"format",get:function(){return je.uint8}},{key:"isLdrFormat",get:function(){return this._image.isLdrFormat}},{key:"isHdrFormat",get:function(){return this._image.isLdrFormat}},{key:"hasPalette",get:function(){return this._image.hasPalette}},{key:"palette",get:function(){return this._image.palette}},{key:"r",get:function(){return void 0===this.palette?this.numChannels>0?this.data[this._index]:0:this.palette.getRed(this.data[this._index])},set:function(e){this.numChannels>0&&(this.data[this._index]=Te.clampInt255(e))}},{key:"g",get:function(){return void 0===this.palette?this.numChannels>1?this.data[this._index+1]:0:this.palette.getGreen(this.data[this._index])},set:function(e){this.numChannels>1&&(this.data[this._index+1]=Te.clampInt255(e))}},{key:"b",get:function(){return void 0===this.palette?this.numChannels>2?this.data[this._index+2]:0:this.palette.getBlue(this.data[this._index])},set:function(e){this.numChannels>2&&(this.data[this._index+2]=Te.clampInt255(e))}},{key:"a",get:function(){return void 0===this.palette?this.numChannels>3?this.data[this._index+3]:255:this.palette.getAlpha(this.data[this._index])},set:function(e){this.numChannels>3&&(this.data[this._index+3]=Te.clampInt255(e))}},{key:"rNormalized",get:function(){return this.r/this.maxChannelValue},set:function(e){this.r=e*this.maxChannelValue}},{key:"gNormalized",get:function(){return this.g/this.maxChannelValue},set:function(e){this.g=e*this.maxChannelValue}},{key:"bNormalized",get:function(){return this.b/this.maxChannelValue},set:function(e){this.b=e*this.maxChannelValue}},{key:"aNormalized",get:function(){return this.a/this.maxChannelValue},set:function(e){this.a=e*this.maxChannelValue}},{key:"luminance",get:function(){return pt.getLuminance(this)}},{key:"luminanceNormalized",get:function(){return pt.getLuminanceNormalized(this)}},{key:"next",value:function(){return this._x++,this._x===this.width&&(this._x=0,this._y++,this._y===this.height)?{done:!0,value:this}:(this._index+=void 0===this.palette?this.numChannels:1,{done:this._index>=this.image.data.length,value:this})}},{key:"setPosition",value:function(e,t){this._x=e,this._y=t,this._index=this._y*this._image.width*this._image.numChannels+this._x*this._image.numChannels}},{key:"setPositionNormalized",value:function(e,t){return this.setPosition(Math.floor(e*(this.width-1)),Math.floor(t*(this.height-1)))}},{key:"getChannel",value:function(e){return void 0!==this.palette?this.palette.get(this.data[this._index],e):e===tt.luminance?this.luminance:e<this.data.length?this.data[this._index+e]:0}},{key:"getChannelNormalized",value:function(e){return this.getChannel(e)/this.maxChannelValue}},{key:"setChannel",value:function(e,t){e<this.numChannels&&(this.data[this._index+e]=Te.clampInt255(t))}},{key:"set",value:function(e){this._image.hasPalette?this._index=e.index:(this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a)}},{key:"setRgb",value:function(e,t,n){this.numChannels>0&&(this.data[this._index]=Math.trunc(e),this.numChannels>1&&(this.data[this._index+1]=Math.trunc(t),this.numChannels>2&&(this.data[this._index+2]=Math.trunc(n))))}},{key:"setRgba",value:function(e,t,n,i){this.numChannels>0&&(this.data[this._index]=Math.trunc(e),this.numChannels>1&&(this.data[this._index+1]=Math.trunc(t),this.numChannels>2&&(this.data[this._index+2]=Math.trunc(n),this.numChannels>3&&(this.data[this._index+3]=Math.trunc(i)))))}},{key:"equals",value:function(e){return e instanceof t?rt.equals(this.toArray(),e.toArray()):!!Array.isArray(e)&&rt.equals(this.toArray(),e)}},{key:"toArray",value:function(){var e=this;return rt.generate(this.length,(function(t){return e.getChannel(t)}))}},{key:"clone",value:function(){return t.from(this)}},{key:"convert",value:function(e){return pt.convertColor({from:this,format:e.format,numChannels:e.numChannels,alpha:e.alpha})}},{key:"toString",value:function(){return"".concat(this.constructor.name," (").concat(this.toArray(),")")}},{key:Symbol.iterator,value:function(){return this}}],[{key:"imageData",value:function(e){return new t(-1,0,-e.numChannels,e)}},{key:"image",value:function(e){return new t(-1,0,-e.numChannels,e.data instanceof vn?e.data:new vn(0,0,0))}},{key:"from",value:function(e){return new t(e.x,e.y,e._index,e.image)}}]),t}(),mn=function(e){Be(n,e);var t=Ue(n);function n(e,i,r){Ie(this,n);var a=new Uint8Array([e,i,r]);return t.call(this,a)}return Fe(n,null,[{key:"from",value:function(e){var t=new Uint8Array([e.getChannel(0),e.getChannel(1),e.getChannel(2)]);return new _t(t)}}]),n}(_t),gn=function(e){Be(n,e);var t=Ue(n);function n(e,i,r,a){Ie(this,n);var o=new Uint8Array([e,i,r,a]);return t.call(this,o)}return Fe(n,null,[{key:"from",value:function(e){var t=new Uint8Array([e.getChannel(0),e.getChannel(1),e.getChannel(2),e.getChannel(3)]);return new _t(t)}}]),n}(_t),vn=function(e){function t(e,n,i,r){Ie(this,t),this._width=e,this._height=n,this._numChannels=i,this._palette=void 0,this._data=null!==r&&void 0!==r?r:new Uint8Array(this._width*this._height*this._numChannels)}return Fe(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"data",get:function(){return this._data}},{key:"numChannels",get:function(){return this._numChannels}},{key:"format",get:function(){return je.uint8}},{key:"formatType",get:function(){return He.uint}},{key:"buffer",get:function(){return this._data.buffer}},{key:"rowStride",get:function(){return this._width*this._numChannels}},{key:"iterator",get:function(){return dn.imageData(this)}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"length",get:function(){return this._data.byteLength}},{key:"maxChannelValue",get:function(){var e,t;return null!==(t=null===(e=this._palette)||void 0===e?void 0:e.maxChannelValue)&&void 0!==t?t:255}},{key:"maxIndexValue",get:function(){return 255}},{key:"hasPalette",get:function(){return void 0!==this.palette}},{key:"palette",get:function(){return this._palette}},{key:"isHdrFormat",get:function(){return!1}},{key:"isLdrFormat",get:function(){return!this.isHdrFormat}},{key:"bitsPerChannel",get:function(){return 8}},{key:"getRange",value:function(e,t,n,i){return new Ht(dn.imageData(this),e,t,n,i)}},{key:"getColor",value:function(e,t,n,i){return void 0===i?new mn(Te.clampInt255(e),Te.clampInt255(t),Te.clampInt255(n)):new gn(Te.clampInt255(e),Te.clampInt255(t),Te.clampInt255(n),Te.clampInt255(i))}},{key:"getPixel",value:function(e,t,n){var i=n;return void 0!==i&&i instanceof dn&&i.image===this||(i=dn.imageData(this)),i.setPosition(e,t),i}},{key:"setPixel",value:function(e,t,n){this.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelR",value:function(e,t,n){var i=t*this.rowStride+e*this.numChannels;this.data[i]=Math.trunc(n)}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a=t*this.rowStride+e*this._numChannels;this._data[a]=Math.trunc(n),this._numChannels>1&&(this._data[a+1]=Math.trunc(i),this._numChannels>2&&(this._data[a+2]=Math.trunc(r)))}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o=t*this.rowStride+e*this._numChannels;this._data[o]=Math.trunc(n),this._numChannels>1&&(this._data[o+1]=Math.trunc(i),this._numChannels>2&&(this._data[o+2]=Math.trunc(r),this._numChannels>3&&(this._data[o+3]=Math.trunc(a))))}},{key:"setPixelRgbSafe",value:function(e,t,n,i,r){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgbaSafe",value:function(e,t,n,i,r,a){e<0||e>=this.width||t<0||t>=this.height||this.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){var t=null===e||void 0===e?void 0:e.convert({format:je.uint8});if(1===this._numChannels){var n=void 0===t?0:Te.clampInt255(t.r);this._data.fill(n)}else if(2===this._numChannels){var i=void 0===t?0:Te.clampInt255(t.r),r=(void 0===t?0:Te.clampInt255(t.g))<<8|i;new Uint16Array(this._data.buffer).fill(r)}else if(4===this._numChannels){var a=void 0===t?0:Te.clampInt255(t.r),o=void 0===t?0:Te.clampInt255(t.g),u=void 0===t?0:Te.clampInt255(t.b),s=(void 0===t?0:Te.clampInt255(t.a))<<24|u<<16|o<<8|a;new Uint32Array(this._data.buffer).fill(s)}else{var l,h=void 0===t?0:Te.clampInt255(t.r),c=void 0===t?0:Te.clampInt255(t.g),f=void 0===t?0:Te.clampInt255(t.b),d=et(this);try{for(d.s();!(l=d.n()).done;){var m=l.value;m.r=h,m.g=c,m.b=f}}catch(g){d.e(g)}finally{d.f()}}}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.from(this,e)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}},{key:"getBytes",value:function(e){if(void 0===e)return this.toUint8Array();if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra){var t=this.clone();if(e===Qe.abgr){var n,i=et(t);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.r,o=r.g,u=r.b,s=r.a;r.r=s,r.g=u,r.b=o,r.a=a}}catch(z){i.e(z)}finally{i.f()}}else if(e===Qe.argb){var l,h=et(t);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.r,d=c.g,m=c.b,g=c.a;c.r=g,c.g=f,c.b=d,c.a=m}}catch(z){h.e(z)}finally{h.f()}}else if(e===Qe.bgra){var v,y=et(t);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=p.r,b=p.g,k=p.b,x=p.a;p.r=k,p.g=b,p.b=_,p.a=x}}catch(z){y.e(z)}finally{y.f()}}return t.toUint8Array()}}else if(3===this.numChannels&&e===Qe.bgr){var w,C=this.clone(),S=et(C);try{for(S.s();!(w=S.n()).done;){var P=w.value,M=P.r;P.r=P.b,P.b=M}}catch(z){S.e(z)}finally{S.f()}return C.toUint8Array()}return this.toUint8Array()}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this._width,", h: ").concat(this._height,", ch: ").concat(this._numChannels,")")}},{key:Symbol.iterator,value:function(){return dn.imageData(this)}}],[{key:"palette",value:function(e,n,i){var r=new t(e,n,1,new Uint8Array(e*n));return r._palette=i,r}},{key:"from",value:function(e){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=i?new Uint8Array(e.data.length):e.data.slice(),a=new t(e.width,e.height,e._numChannels,r);return a._palette=null===(n=e.palette)||void 0===n?void 0:n.clone(),a}}]),t}(),yn=function(){function e(t,n,i){Ie(this,e),this._numColors=t,this._numChannels=n,this._data=null!==i&&void 0!==i?i:new Uint16Array(t*n)}return Fe(e,[{key:"data",get:function(){return this._data}},{key:"numColors",get:function(){return this._numColors}},{key:"numChannels",get:function(){return this._numChannels}},{key:"byteLength",get:function(){return this.data.byteLength}},{key:"buffer",get:function(){return this.data.buffer}},{key:"format",get:function(){return je.float16}},{key:"maxChannelValue",get:function(){return 1}},{key:"setRgb",value:function(e,t,n,i){var r=e;r*=this._numChannels,this._data[r]=ot.doubleToFloat16(t),this._numChannels>1&&(this._data[r+1]=ot.doubleToFloat16(n),this._numChannels>2&&(this._data[r+2]=ot.doubleToFloat16(i)))}},{key:"setRgba",value:function(e,t,n,i,r){var a=e;a*=this._numChannels,this._data[a]=ot.doubleToFloat16(t),this._numChannels>1&&(this._data[a+1]=ot.doubleToFloat16(n),this._numChannels>2&&(this._data[a+2]=ot.doubleToFloat16(i),this._numChannels>3&&(this._data[a+3]=ot.doubleToFloat16(r))))}},{key:"set",value:function(e,t,n){var i=e;t<this._numChannels&&(i*=this._numChannels,this._data[i+t]=ot.doubleToFloat16(n))}},{key:"get",value:function(e,t){return t<this._numChannels?ot.float16ToDouble(this._data[e*this._numChannels+t]):0}},{key:"getRed",value:function(e){var t=e;return t*=this._numChannels,ot.float16ToDouble(this._data[t])}},{key:"getGreen",value:function(e){var t=e;return this._numChannels<2?0:(t*=this._numChannels,ot.float16ToDouble(this._data[t+1]))}},{key:"getBlue",value:function(e){var t=e;return this._numChannels<3?0:(t*=this._numChannels,ot.float16ToDouble(this._data[t+2]))}},{key:"getAlpha",value:function(e){var t=e;return this._numChannels<4?255:(t*=this._numChannels,ot.float16ToDouble(this._data[t+3]))}},{key:"setRed",value:function(e,t){this.set(e,0,t)}},{key:"setGreen",value:function(e,t){this.set(e,1,t)}},{key:"setBlue",value:function(e,t){this.set(e,2,t)}},{key:"setAlpha",value:function(e,t){this.set(e,3,t)}},{key:"clone",value:function(){return e.from(this)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}}],[{key:"from",value:function(t){return new e(t.numColors,t.numChannels,t.data)}}]),e}(),pn=function(){function e(t,n,i){Ie(this,e),this._numColors=t,this._numChannels=n,this._data=null!==i&&void 0!==i?i:new Float32Array(t*n)}return Fe(e,[{key:"data",get:function(){return this._data}},{key:"numColors",get:function(){return this._numColors}},{key:"numChannels",get:function(){return this._numChannels}},{key:"byteLength",get:function(){return this.data.byteLength}},{key:"buffer",get:function(){return this.data.buffer}},{key:"format",get:function(){return je.float32}},{key:"maxChannelValue",get:function(){return 1}},{key:"setRgb",value:function(e,t,n,i){var r=e;r*=this._numChannels,this._data[r]=t,this._numChannels>1&&(this._data[r+1]=n,this._numChannels>2&&(this._data[r+2]=i))}},{key:"setRgba",value:function(e,t,n,i,r){var a=e;a*=this._numChannels,this._data[a]=t,this._numChannels>1&&(this._data[a+1]=n,this._numChannels>2&&(this._data[a+2]=i,this._numChannels>3&&(this._data[a+3]=r)))}},{key:"set",value:function(e,t,n){var i=e;t<this._numChannels&&(i*=this._numChannels,this._data[i+t]=n)}},{key:"get",value:function(e,t){return t<this._numChannels?this._data[e*this._numChannels+t]:0}},{key:"getRed",value:function(e){var t=e;return t*=this._numChannels,this._data[t]}},{key:"getGreen",value:function(e){var t=e;return this._numChannels<2?0:(t*=this._numChannels,this._data[t+1])}},{key:"getBlue",value:function(e){var t=e;return this._numChannels<3?0:(t*=this._numChannels,this._data[t+2])}},{key:"getAlpha",value:function(e){var t=e;return this._numChannels<4?255:(t*=this._numChannels,this._data[t+3])}},{key:"setRed",value:function(e,t){this.set(e,0,t)}},{key:"setGreen",value:function(e,t){this.set(e,1,t)}},{key:"setBlue",value:function(e,t){this.set(e,2,t)}},{key:"setAlpha",value:function(e,t){this.set(e,3,t)}},{key:"clone",value:function(){return e.from(this)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}}],[{key:"from",value:function(t){return new e(t.numColors,t.numChannels,t.data)}}]),e}(),_n=function(){function e(t,n,i){Ie(this,e),this._numColors=t,this._numChannels=n,this._data=null!==i&&void 0!==i?i:new Float64Array(t*n)}return Fe(e,[{key:"data",get:function(){return this._data}},{key:"numColors",get:function(){return this._numColors}},{key:"numChannels",get:function(){return this._numChannels}},{key:"byteLength",get:function(){return this.data.byteLength}},{key:"buffer",get:function(){return this.data.buffer}},{key:"format",get:function(){return je.float64}},{key:"maxChannelValue",get:function(){return 1}},{key:"setRgb",value:function(e,t,n,i){var r=e;r*=this._numChannels,this._data[r]=t,this._numChannels>1&&(this._data[r+1]=n,this._numChannels>2&&(this._data[r+2]=i))}},{key:"setRgba",value:function(e,t,n,i,r){var a=e;a*=this._numChannels,this._data[a]=t,this._numChannels>1&&(this._data[a+1]=n,this._numChannels>2&&(this._data[a+2]=i,this._numChannels>3&&(this._data[a+3]=r)))}},{key:"set",value:function(e,t,n){var i=e;t<this._numChannels&&(i*=this._numChannels,this._data[i+t]=n)}},{key:"get",value:function(e,t){return t<this._numChannels?this._data[e*this._numChannels+t]:0}},{key:"getRed",value:function(e){var t=e;return t*=this._numChannels,this._data[t]}},{key:"getGreen",value:function(e){var t=e;return this._numChannels<2?0:(t*=this._numChannels,this._data[t+1])}},{key:"getBlue",value:function(e){var t=e;return this._numChannels<3?0:(t*=this._numChannels,this._data[t+2])}},{key:"getAlpha",value:function(e){var t=e;return this._numChannels<4?255:(t*=this._numChannels,this._data[t+3])}},{key:"setRed",value:function(e,t){this.set(e,0,t)}},{key:"setGreen",value:function(e,t){this.set(e,1,t)}},{key:"setBlue",value:function(e,t){this.set(e,2,t)}},{key:"setAlpha",value:function(e,t){this.set(e,3,t)}},{key:"clone",value:function(){return e.from(this)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}}],[{key:"from",value:function(t){return new e(t.numColors,t.numChannels,t.data)}}]),e}(),bn=function(){function e(t,n,i){Ie(this,e),this._numColors=t,this._numChannels=n,this._data=null!==i&&void 0!==i?i:new Int16Array(t*n)}return Fe(e,[{key:"data",get:function(){return this._data}},{key:"numColors",get:function(){return this._numColors}},{key:"numChannels",get:function(){return this._numChannels}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"buffer",get:function(){return this._data.buffer}},{key:"format",get:function(){return je.int16}},{key:"maxChannelValue",get:function(){return 32767}},{key:"setRgb",value:function(e,t,n,i){var r=e;r*=this._numChannels,this._data[r]=Math.trunc(t),this._numChannels>1&&(this._data[r+1]=Math.trunc(n),this._numChannels>2&&(this._data[r+2]=Math.trunc(i)))}},{key:"setRgba",value:function(e,t,n,i,r){var a=e;a*=this._numChannels,this._data[a]=Math.trunc(t),this._numChannels>1&&(this._data[a+1]=Math.trunc(n),this._numChannels>2&&(this._data[a+2]=Math.trunc(i),this._numChannels>3&&(this._data[a+3]=Math.trunc(r))))}},{key:"set",value:function(e,t,n){var i=e;t<this._numChannels&&(i*=this._numChannels,this._data[i+t]=Math.trunc(n))}},{key:"get",value:function(e,t){return t<this._numChannels?this._data[e*this._numChannels+t]:0}},{key:"getRed",value:function(e){var t=e;return t*=this._numChannels,this._data[t]}},{key:"getGreen",value:function(e){var t=e;return this._numChannels<2?0:(t*=this._numChannels,this._data[t+1])}},{key:"getBlue",value:function(e){var t=e;return this._numChannels<3?0:(t*=this._numChannels,this._data[t+2])}},{key:"getAlpha",value:function(e){var t=e;return this._numChannels<4?0:(t*=this._numChannels,this._data[t+3])}},{key:"setRed",value:function(e,t){this.set(e,0,t)}},{key:"setGreen",value:function(e,t){this.set(e,1,t)}},{key:"setBlue",value:function(e,t){this.set(e,2,t)}},{key:"setAlpha",value:function(e,t){this.set(e,3,t)}},{key:"clone",value:function(){return e.from(this)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}}],[{key:"from",value:function(t){return new e(t.numColors,t.numChannels,t.data)}}]),e}(),kn=function(){function e(t,n,i){Ie(this,e),this._numColors=t,this._numChannels=n,this._data=null!==i&&void 0!==i?i:new Int32Array(t*n)}return Fe(e,[{key:"data",get:function(){return this._data}},{key:"numColors",get:function(){return this._numColors}},{key:"numChannels",get:function(){return this._numChannels}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"buffer",get:function(){return this._data.buffer}},{key:"format",get:function(){return je.int32}},{key:"maxChannelValue",get:function(){return 2147483647}},{key:"setRgb",value:function(e,t,n,i){var r=e;r*=this._numChannels,this._data[r]=Math.trunc(t),this._numChannels>1&&(this._data[r+1]=Math.trunc(n),this._numChannels>2&&(this._data[r+2]=Math.trunc(i)))}},{key:"setRgba",value:function(e,t,n,i,r){var a=e;a*=this._numChannels,this._data[a]=Math.trunc(t),this._numChannels>1&&(this._data[a+1]=Math.trunc(n),this._numChannels>2&&(this._data[a+2]=Math.trunc(i),this._numChannels>3&&(this._data[a+3]=Math.trunc(r))))}},{key:"set",value:function(e,t,n){var i=e;t<this._numChannels&&(i*=this._numChannels,this._data[i+t]=Math.trunc(n))}},{key:"get",value:function(e,t){return t<this._numChannels?this._data[e*this._numChannels+t]:0}},{key:"getRed",value:function(e){var t=e;return t*=this._numChannels,this._data[t]}},{key:"getGreen",value:function(e){var t=e;return this._numChannels<2?0:(t*=this._numChannels,this._data[t+1])}},{key:"getBlue",value:function(e){var t=e;return this._numChannels<3?0:(t*=this._numChannels,this._data[t+2])}},{key:"getAlpha",value:function(e){var t=e;return this._numChannels<4?0:(t*=this._numChannels,this._data[t+3])}},{key:"setRed",value:function(e,t){this.set(e,0,t)}},{key:"setGreen",value:function(e,t){this.set(e,1,t)}},{key:"setBlue",value:function(e,t){this.set(e,2,t)}},{key:"setAlpha",value:function(e,t){this.set(e,3,t)}},{key:"clone",value:function(){return e.from(this)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}}],[{key:"from",value:function(t){return new e(t.numColors,t.numChannels,t.data)}}]),e}(),xn=function(){function e(t,n,i){Ie(this,e),this._numColors=t,this._numChannels=n,this._data=null!==i&&void 0!==i?i:new Int8Array(t*n)}return Fe(e,[{key:"data",get:function(){return this._data}},{key:"numColors",get:function(){return this._numColors}},{key:"numChannels",get:function(){return this._numChannels}},{key:"byteLength",get:function(){return this.data.byteLength}},{key:"buffer",get:function(){return this.data.buffer}},{key:"format",get:function(){return je.int8}},{key:"maxChannelValue",get:function(){return 127}},{key:"setRgb",value:function(e,t,n,i){var r=e;r*=this._numChannels,this._data[r]=Math.trunc(t),this._numChannels>1&&(this._data[r+1]=Math.trunc(n),this._numChannels>2&&(this._data[r+2]=Math.trunc(i)))}},{key:"setRgba",value:function(e,t,n,i,r){var a=e;a*=this._numChannels,this._data[a]=Math.trunc(t),this._numChannels>1&&(this._data[a+1]=Math.trunc(n),this._numChannels>2&&(this._data[a+2]=Math.trunc(i),this._numChannels>3&&(this._data[a+3]=Math.trunc(r))))}},{key:"set",value:function(e,t,n){var i=e;t<this._numChannels&&(i*=this._numChannels,this._data[i+t]=Math.trunc(n))}},{key:"get",value:function(e,t){return t<this._numChannels?this._data[e*this._numChannels+t]:0}},{key:"getRed",value:function(e){var t=e;return t*=this._numChannels,this._data[t]}},{key:"getGreen",value:function(e){var t=e;return this._numChannels<2?0:(t*=this._numChannels,this._data[t+1])}},{key:"getBlue",value:function(e){var t=e;return this._numChannels<3?0:(t*=this._numChannels,this._data[t+2])}},{key:"getAlpha",value:function(e){var t=e;return this._numChannels<4?0:(t*=this._numChannels,this._data[t+3])}},{key:"setRed",value:function(e,t){this.set(e,0,t)}},{key:"setGreen",value:function(e,t){this.set(e,1,t)}},{key:"setBlue",value:function(e,t){this.set(e,2,t)}},{key:"setAlpha",value:function(e,t){this.set(e,3,t)}},{key:"clone",value:function(){return e.from(this)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}}],[{key:"from",value:function(t){return new e(t.numColors,t.numChannels,t.data)}}]),e}(),wn=function(){function e(t,n,i){Ie(this,e),this._numColors=t,this._numChannels=n,this._data=null!==i&&void 0!==i?i:new Uint16Array(t*n)}return Fe(e,[{key:"data",get:function(){return this._data}},{key:"numColors",get:function(){return this._numColors}},{key:"numChannels",get:function(){return this._numChannels}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"buffer",get:function(){return this._data.buffer}},{key:"format",get:function(){return je.uint16}},{key:"maxChannelValue",get:function(){return 65535}},{key:"setRgb",value:function(e,t,n,i){var r=e;r*=this._numChannels,this._data[r]=Math.trunc(t),this._numChannels>1&&(this._data[r+1]=Math.trunc(n),this._numChannels>2&&(this._data[r+2]=Math.trunc(i)))}},{key:"setRgba",value:function(e,t,n,i,r){var a=e;a*=this._numChannels,this._data[a]=Math.trunc(t),this._numChannels>1&&(this._data[a+1]=Math.trunc(n),this._numChannels>2&&(this._data[a+2]=Math.trunc(i),this._numChannels>3&&(this._data[a+3]=Math.trunc(r))))}},{key:"set",value:function(e,t,n){var i=e;t<this._numChannels&&(i*=this._numChannels,this._data[i+t]=Math.trunc(n))}},{key:"get",value:function(e,t){return t<this._numChannels?this._data[e*this._numChannels+t]:0}},{key:"getRed",value:function(e){var t=e;return t*=this._numChannels,this._data[t]}},{key:"getGreen",value:function(e){var t=e;return this._numChannels<2?0:(t*=this._numChannels,this._data[t+1])}},{key:"getBlue",value:function(e){var t=e;return this._numChannels<3?0:(t*=this._numChannels,this._data[t+2])}},{key:"getAlpha",value:function(e){var t=e;return this._numChannels<4?0:(t*=this._numChannels,this._data[t+3])}},{key:"setRed",value:function(e,t){this.set(e,0,t)}},{key:"setGreen",value:function(e,t){this.set(e,1,t)}},{key:"setBlue",value:function(e,t){this.set(e,2,t)}},{key:"setAlpha",value:function(e,t){this.set(e,3,t)}},{key:"clone",value:function(){return e.from(this)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}}],[{key:"from",value:function(t){return new e(t.numColors,t.numChannels,t.data)}}]),e}(),Cn=function(){function e(t,n,i){Ie(this,e),this._numColors=t,this._numChannels=n,this._data=null!==i&&void 0!==i?i:new Uint32Array(t*n)}return Fe(e,[{key:"data",get:function(){return this._data}},{key:"numColors",get:function(){return this._numColors}},{key:"numChannels",get:function(){return this._numChannels}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"buffer",get:function(){return this._data.buffer}},{key:"format",get:function(){return je.uint32}},{key:"maxChannelValue",get:function(){return 4294967295}},{key:"setRgb",value:function(e,t,n,i){var r=e;r*=this._numChannels,this._data[r]=Math.trunc(t),this._numChannels>1&&(this._data[r+1]=Math.trunc(n),this._numChannels>2&&(this._data[r+2]=Math.trunc(i)))}},{key:"setRgba",value:function(e,t,n,i,r){var a=e;a*=this._numChannels,this._data[a]=Math.trunc(t),this._numChannels>1&&(this._data[a+1]=Math.trunc(n),this._numChannels>2&&(this._data[a+2]=Math.trunc(i),this._numChannels>3&&(this._data[a+3]=Math.trunc(r))))}},{key:"set",value:function(e,t,n){var i=e;t<this._numChannels&&(i*=this._numChannels,this._data[i+t]=Math.trunc(n))}},{key:"get",value:function(e,t){return t<this._numChannels?this._data[e*this._numChannels+t]:0}},{key:"getRed",value:function(e){var t=e;return t*=this._numChannels,this._data[t]}},{key:"getGreen",value:function(e){var t=e;return this._numChannels<2?0:(t*=this._numChannels,this._data[t+1])}},{key:"getBlue",value:function(e){var t=e;return this._numChannels<3?0:(t*=this._numChannels,this._data[t+2])}},{key:"getAlpha",value:function(e){var t=e;return this._numChannels<4?0:(t*=this._numChannels,this._data[t+3])}},{key:"setRed",value:function(e,t){this.set(e,0,t)}},{key:"setGreen",value:function(e,t){this.set(e,1,t)}},{key:"setBlue",value:function(e,t){this.set(e,2,t)}},{key:"setAlpha",value:function(e,t){this.set(e,3,t)}},{key:"clone",value:function(){return e.from(this)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}}],[{key:"from",value:function(t){return new e(t.numColors,t.numChannels,t.data)}}]),e}(),Sn=function(){function e(t,n,i){Ie(this,e),this._numColors=t,this._numChannels=n,this._data=null!==i&&void 0!==i?i:new Uint8Array(t*n)}return Fe(e,[{key:"data",get:function(){return this._data}},{key:"numColors",get:function(){return this._numColors}},{key:"numChannels",get:function(){return this._numChannels}},{key:"byteLength",get:function(){return this._data.byteLength}},{key:"buffer",get:function(){return this._data.buffer}},{key:"format",get:function(){return je.uint8}},{key:"maxChannelValue",get:function(){return 255}},{key:"setRgb",value:function(e,t,n,i){var r=e;r*=this._numChannels,this._data[r]=Math.trunc(t),this._numChannels>1&&(this._data[r+1]=Math.trunc(n),this._numChannels>2&&(this._data[r+2]=Math.trunc(i)))}},{key:"setRgba",value:function(e,t,n,i,r){var a=e;a*=this._numChannels,this._data[a]=Math.trunc(t),this._numChannels>1&&(this._data[a+1]=Math.trunc(n),this._numChannels>2&&(this._data[a+2]=Math.trunc(i),this._numChannels>3&&(this._data[a+3]=Math.trunc(r))))}},{key:"set",value:function(e,t,n){var i=e;t<this._numChannels&&(i*=this._numChannels,this._data[i+t]=Math.trunc(n))}},{key:"get",value:function(e,t){return t<this._numChannels?this._data[e*this._numChannels+t]:0}},{key:"getRed",value:function(e){var t=e;return(t*=this._numChannels)>=this._data.length?0:this._data[t]}},{key:"getGreen",value:function(e){var t=e;return this._numChannels<2||(t*=this._numChannels)>=this._data.length?0:this._data[t+1]}},{key:"getBlue",value:function(e){var t=e;return this._numChannels<3||(t*=this._numChannels)>=this._data.length?0:this._data[t+2]}},{key:"getAlpha",value:function(e){var t=e;return this._numChannels<4?255:(t*=this._numChannels)>=this._data.length?0:this._data[t+3]}},{key:"setRed",value:function(e,t){this.set(e,0,t)}},{key:"setGreen",value:function(e,t){this.set(e,1,t)}},{key:"setBlue",value:function(e,t){this.set(e,2,t)}},{key:"setAlpha",value:function(e,t){this.set(e,3,t)}},{key:"clone",value:function(){return e.from(this)}},{key:"toUint8Array",value:function(){return new Uint8Array(this.buffer)}}],[{key:"from",value:function(t){return new e(t.numColors,t.numChannels,t.data)}}]),e}(),Pn=function(e){function t(){Ie(this,t)}return Fe(t,[{key:"image",get:function(){return t._nullImageData}},{key:"isValid",get:function(){return!1}},{key:"width",get:function(){return 0}},{key:"height",get:function(){return 0}},{key:"x",get:function(){return 0}},{key:"y",get:function(){return 0}},{key:"xNormalized",get:function(){return 0}},{key:"yNormalized",get:function(){return 0}},{key:"length",get:function(){return 0}},{key:"maxChannelValue",get:function(){return 0}},{key:"maxIndexValue",get:function(){return 0}},{key:"format",get:function(){return je.uint8}},{key:"isLdrFormat",get:function(){return!1}},{key:"isHdrFormat",get:function(){return!1}},{key:"hasPalette",get:function(){return!1}},{key:"palette",get:function(){}},{key:"index",get:function(){return 0},set:function(e){}},{key:"r",get:function(){return 0},set:function(e){}},{key:"g",get:function(){return 0},set:function(e){}},{key:"b",get:function(){return 0},set:function(e){}},{key:"a",get:function(){return 0},set:function(e){}},{key:"rNormalized",get:function(){return 0},set:function(e){}},{key:"gNormalized",get:function(){return 0},set:function(e){}},{key:"bNormalized",get:function(){return 0},set:function(e){}},{key:"aNormalized",get:function(){return 0},set:function(e){}},{key:"luminance",get:function(){return 0}},{key:"luminanceNormalized",get:function(){return 0}},{key:"getChannel",value:function(e){return 0}},{key:"getChannelNormalized",value:function(e){return 0}},{key:"setChannel",value:function(e,t){}},{key:"set",value:function(e){}},{key:"setRgb",value:function(e,t,n){}},{key:"setRgba",value:function(e,t,n,i){}},{key:"clone",value:function(){return new t}},{key:"convert",value:function(e){return this}},{key:"setPosition",value:function(e,t){}},{key:"setPositionNormalized",value:function(e,t){}},{key:"equals",value:function(e){return e instanceof t}},{key:"next",value:function(){return{done:!0,value:this}}},{key:"toArray",value:function(){return[]}},{key:"toString",value:function(){return"".concat(this.constructor.name," (undefined)")}},{key:Symbol.iterator,value:function(){return this}}]),t}();Pn._nullImageData=new vn(0,0,0);var Mn,zn=new Pn,An=function(e){function t(e){var n,i,r,a,o,u,s,l;Ie(this,t),this._frames=[],void 0!==e?(this._loopCount=null!==(n=e.loopCount)&&void 0!==n?n:0,this._frameType=null!==(i=e.frameType)&&void 0!==i?i:wt.sequence,this._frameDuration=null!==(r=e.frameDuration)&&void 0!==r?r:0,this._frameIndex=null!==(a=e.frameIndex)&&void 0!==a?a:0,this._backgroundColor=e.backgroundColor,this._textData=e.textData,this._frames.push(this),this.initialize({width:e.width,height:e.height,format:null!==(o=e.format)&&void 0!==o?o:je.uint8,numChannels:null!==(u=e.numChannels)&&void 0!==u?u:3,withPalette:null!==(s=e.withPalette)&&void 0!==s&&s,paletteFormat:null!==(l=e.paletteFormat)&&void 0!==l?l:je.uint8,palette:e.palette,exifData:e.exifData,iccProfile:e.iccProfile})):(this._loopCount=0,this._frameType=wt.sequence,this._frameDuration=0,this._frameIndex=0)}return Fe(t,[{key:"data",get:function(){return this._data}},{key:"numPixelColors",get:function(){return this.format===je.uint1?2:this.format===je.uint2?4:this.format===je.uint4?16:this.format===je.uint8?256:0}},{key:"format",get:function(){var e,t;return null!==(t=null===(e=this._data)||void 0===e?void 0:e.format)&&void 0!==t?t:je.uint8}},{key:"hasPalette",get:function(){var e;return void 0!==(null===(e=this._data)||void 0===e?void 0:e.palette)}},{key:"palette",get:function(){var e;return null===(e=this._data)||void 0===e?void 0:e.palette}},{key:"numChannels",get:function(){var e,t,n,i;return null!==(i=null!==(t=null===(e=this.palette)||void 0===e?void 0:e.numChannels)&&void 0!==t?t:null===(n=this._data)||void 0===n?void 0:n.numChannels)&&void 0!==i?i:0}},{key:"hasAnimation",get:function(){return this._frames.length>1}},{key:"numFrames",get:function(){return this._frames.length}},{key:"exifData",get:function(){var e;return null!==(e=this._exifData)&&void 0!==e||(this._exifData=new Zt),this._exifData},set:function(e){this._exifData=e}},{key:"maxChannelValue",get:function(){var e,t;return null!==(t=null===(e=this._data)||void 0===e?void 0:e.maxChannelValue)&&void 0!==t?t:0}},{key:"maxIndexValue",get:function(){var e,t;return null!==(t=null===(e=this.data)||void 0===e?void 0:e.maxIndexValue)&&void 0!==t?t:0}},{key:"supportsPalette",get:function(){return this.format===je.uint1||this.format===je.uint2||this.format===je.uint4||this.format===je.uint8}},{key:"width",get:function(){var e,t;return null!==(t=null===(e=this.data)||void 0===e?void 0:e.width)&&void 0!==t?t:0}},{key:"height",get:function(){var e,t;return null!==(t=null===(e=this.data)||void 0===e?void 0:e.height)&&void 0!==t?t:0}},{key:"formatType",get:function(){var e,t;return null!==(t=null===(e=this.data)||void 0===e?void 0:e.formatType)&&void 0!==t?t:He.uint}},{key:"isValid",get:function(){return void 0!==this._data&&this.width>0&&this.height>0}},{key:"buffer",get:function(){var e;return null===(e=this._data)||void 0===e?void 0:e.buffer}},{key:"byteLength",get:function(){var e,t;return null!==(t=null===(e=this._data)||void 0===e?void 0:e.buffer.byteLength)&&void 0!==t?t:0}},{key:"rowStride",get:function(){var e,t;return null!==(t=null===(e=this._data)||void 0===e?void 0:e.rowStride)&&void 0!==t?t:0}},{key:"isLdrFormat",get:function(){var e,t;return null!==(t=null===(e=this._data)||void 0===e?void 0:e.isLdrFormat)&&void 0!==t&&t}},{key:"isHdrFormat",get:function(){var e,t;return null!==(t=null===(e=this._data)||void 0===e?void 0:e.isHdrFormat)&&void 0!==t&&t}},{key:"bitsPerChannel",get:function(){var e,t;return null!==(t=null===(e=this._data)||void 0===e?void 0:e.bitsPerChannel)&&void 0!==t?t:0}},{key:"hasAlpha",get:function(){return 4===this.numChannels}},{key:"iccProfile",get:function(){return this._iccProfile},set:function(e){this._iccProfile=e}},{key:"textData",get:function(){return this._textData}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e}},{key:"loopCount",get:function(){return this._loopCount},set:function(e){this._loopCount=e}},{key:"frameType",get:function(){return this._frameType},set:function(e){this._frameType=e}},{key:"frames",get:function(){return this._frames}},{key:"frameDuration",get:function(){return this._frameDuration},set:function(e){this._frameDuration=e}},{key:"frameIndex",get:function(){return this._frameIndex},set:function(e){this._frameIndex=e}},{key:"initialize",value:function(e){var t,n,i,r,a,o=null!==(t=e.format)&&void 0!==t?t:je.uint8,u=null!==(n=e.numChannels)&&void 0!==n?n:3,s=null!==(i=e.withPalette)&&void 0!==i&&i,l=null!==(r=e.paletteFormat)&&void 0!==r?r:je.uint8;if(u<1||u>4)throw new We("Invalid number of channels for image (".concat(u,"). Must be between 1 and 4."));this._iccProfile=e.iccProfile,void 0!==e.exifData&&(this._exifData=e.exifData.clone());var h=null!==(a=e.palette)&&void 0!==a?a:s&&this.supportsPalette?this.createPalette(l,u):void 0;this.createImageData(e.width,e.height,o,u,h)}},{key:"createImageData",value:function(e,t,n,i,r){switch(n){case je.uint1:this._data=void 0===r?new rn(e,t,i):rn.palette(e,t,r);break;case je.uint2:this._data=void 0===r?new sn(e,t,i):sn.palette(e,t,r);break;case je.uint4:this._data=void 0===r?new fn(e,t,i):fn.palette(e,t,r);break;case je.uint8:this._data=void 0===r?new vn(e,t,i):vn.palette(e,t,r);break;case je.uint16:this._data=new on(e,t,i);break;case je.uint32:this._data=new hn(e,t,i);break;case je.int8:this._data=new tn(e,t,i);break;case je.int16:this._data=new Qt(e,t,i);break;case je.int32:this._data=new Jt(e,t,i);break;case je.float16:this._data=new Wt(e,t,i);break;case je.float32:this._data=new Gt(e,t,i);break;case je.float64:this._data=new Yt(e,t,i)}}},{key:"createPalette",value:function(e,t){switch(e){case je.uint1:case je.uint2:case je.uint4:return;case je.uint8:return new Sn(this.numPixelColors,t);case je.uint16:return new wn(this.numPixelColors,t);case je.uint32:return new Cn(this.numPixelColors,t);case je.int8:return new xn(this.numPixelColors,t);case je.int16:return new bn(this.numPixelColors,t);case je.int32:return new kn(this.numPixelColors,t);case je.float16:return new yn(this.numPixelColors,t);case je.float32:return new pn(this.numPixelColors,t);case je.float64:return new _n(this.numPixelColors,t)}throw new We("Unknown palette format.")}},{key:"addFrame",value:function(e){var n=null!==e&&void 0!==e?e:t.from(this,!0,!0);return n._frameIndex=this._frames.length,this._frames[this._frames.length-1]!==n&&this._frames.push(n),n}},{key:"getFrame",value:function(e){return this._frames[e]}},{key:"clone",value:function(e){var n,i,r=null!==(n=null===e||void 0===e?void 0:e.skipAnimation)&&void 0!==n&&n,a=null!==(i=null===e||void 0===e?void 0:e.skipPixels)&&void 0!==i&&i;return t.from(this,r,a)}},{key:"hasExtraChannel",value:function(e){return void 0!==this._extraChannels&&this._extraChannels.has(e)}},{key:"getExtraChannel",value:function(e){return void 0!==this._extraChannels?this._extraChannels.get(e):void 0}},{key:"setExtraChannel",value:function(e,t){var n;void 0===this._extraChannels&&void 0===t||(null!==(n=this._extraChannels)&&void 0!==n||(this._extraChannels=new Map),void 0===t?this._extraChannels.delete(e):this._extraChannels.set(e,t),0===this._extraChannels.size&&(this._extraChannels=void 0))}},{key:"getRange",value:function(e,t,n,i){return this.data.getRange(e,t,n,i)}},{key:"toUint8Array",value:function(){var e,t;return null!==(t=null===(e=this._data)||void 0===e?void 0:e.toUint8Array())&&void 0!==t?t:void 0!==this.buffer?new Uint8Array(this.buffer):new Uint8Array}},{key:"getBytes",value:function(e){var t,n;return null!==(n=null===(t=this._data)||void 0===t?void 0:t.getBytes(e))&&void 0!==n?n:this.toUint8Array()}},{key:"remapChannels",value:function(e){if(4===this.numChannels){if(e===Qe.abgr||e===Qe.argb||e===Qe.bgra)if(e===Qe.abgr){var t,n=et(this);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.r,a=i.g,o=i.b,u=i.a;i.r=u,i.g=o,i.b=a,i.a=r}}catch(P){n.e(P)}finally{n.f()}}else if(e===Qe.argb){var s,l=et(this);try{for(l.s();!(s=l.n()).done;){var h=s.value,c=h.r,f=h.g,d=h.b,m=h.a;h.r=m,h.g=c,h.b=f,h.a=d}}catch(P){l.e(P)}finally{l.f()}}else if(e===Qe.bgra){var g,v=et(this);try{for(v.s();!(g=v.n()).done;){var y=g.value,p=y.r,_=y.g,b=y.b,k=y.a;y.r=b,y.g=_,y.b=p,y.a=k}}catch(P){v.e(P)}finally{v.f()}}}else if(3===this.numChannels&&e===Qe.bgr){var x,w=et(this);try{for(w.s();!(x=w.n()).done;){var C=x.value,S=C.r;C.r=C.b,C.b=S}}catch(P){w.e(P)}finally{w.f()}}}},{key:"isBoundsSafe",value:function(e,t){return e>=0&&t>=0&&e<this.width&&t<this.height}},{key:"getColor",value:function(e,t,n,i){var r,a;return null!==(a=null===(r=this._data)||void 0===r?void 0:r.getColor(e,t,n,i))&&void 0!==a?a:new _t(0)}},{key:"getPixel",value:function(e,t,n){var i,r;return null!==(r=null===(i=this._data)||void 0===i?void 0:i.getPixel(e,t,n))&&void 0!==r?r:zn}},{key:"getPixelSafe",value:function(e,t,n){return e<0||e>=this.width||t<0||t>=this.height?zn:this.getPixel(e,t,n)}},{key:"getPixelClamped",value:function(e,t,n){var i=Te.clamp(e,0,this.width-1),r=Te.clamp(t,0,this.height-1);return this.getPixel(i,r,n)}},{key:"getPixelIndex",value:function(e,t){var n,i=null===(n=this._data)||void 0===n?void 0:n.getPixel(e,t).index;return void 0!==i?Math.trunc(i):0}},{key:"getPixelInterpolate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:at.linear;switch(n){case at.nearest:return this.getPixelSafe(Math.trunc(e),Math.trunc(t));case at.linear:case at.average:return this.getPixelLinear(e,t);case at.cubic:return this.getPixelCubic(e,t)}throw new We("Unknown Interpolation mode.")}},{key:"getPixelLinear",value:function(e,t){var n=Math.trunc(e)-(e>=0?0:1),i=n+1,r=Math.trunc(t)-(t>=0?0:1),a=r+1,o=e-n,u=t-r,s=function(e,t,n,i){return e+o*(t-e+u*(e+i-n-t))+u*(n-e)},l=this.getPixelSafe(n,r),h=a>=this.height?l:this.getPixelSafe(n,a),c=i>=this.width?l:this.getPixelSafe(i,r),f=i>=this.width||a>=this.height?l:this.getPixelSafe(i,a);return this.getColor(s(l.r,c.r,h.r,f.r),s(l.g,c.g,h.g,f.g),s(l.b,c.b,h.b,f.b),s(l.a,c.a,h.a,f.a))}},{key:"getPixelCubic",value:function(e,t){var n=Math.trunc(e)-(e>=0?0:1),i=n-1,r=n+1,a=n+2,o=Math.trunc(t)-(t>=0?0:1),u=o-1,s=o+1,l=o+2,h=e-n,c=t-o,f=function(e,t,n,i,r){return n+.5*(e*(-t+i)+e*e*(2*t-5*n+4*i-r)+e*e*e*(3*n-t-3*i+r))},d=this.getPixelSafe(n,o),m=i<0||u<0?d:this.getPixelSafe(i,u),g=i<0?d:this.getPixelSafe(n,u),v=u<0||r>=this.width?d:this.getPixelSafe(r,u),y=a>=this.width||u<0?d:this.getPixelSafe(a,u),p=f(h,m.r,g.r,v.r,y.r),_=f(h,m.g,g.g,v.g,y.g),b=f(h,m.b,g.b,v.b,y.b),k=f(h,m.a,g.a,v.a,y.a),x=i<0?d:this.getPixelSafe(i,o),w=r>=this.width?d:this.getPixelSafe(r,o),C=a>=this.width?d:this.getPixelSafe(a,o),S=f(h,x.r,d.r,w.r,C.r),P=f(h,x.g,d.g,w.g,C.g),M=f(h,x.b,d.b,w.b,C.b),z=f(h,x.a,d.a,w.a,C.a),A=i<0||s>=this.height?d:this.getPixelSafe(i,s),I=s>=this.height?d:this.getPixelSafe(n,s),R=r>=this.width||s>=this.height?d:this.getPixelSafe(r,s),F=a>=this.width||s>=this.height?d:this.getPixelSafe(a,s),T=f(h,A.r,I.r,R.r,F.r),N=f(h,A.g,I.g,R.g,F.g),B=f(h,A.b,I.b,R.b,F.b),E=f(h,A.a,I.a,R.a,F.a),L=i<0||l>=this.height?d:this.getPixelSafe(i,l),D=l>=this.height?d:this.getPixelSafe(n,l),O=r>=this.width||l>=this.height?d:this.getPixelSafe(r,l),U=a>=this.width||l>=this.height?d:this.getPixelSafe(a,l),V=f(h,L.r,D.r,O.r,U.r),Z=f(h,L.g,D.g,O.g,U.g),j=f(h,L.b,D.b,O.b,U.b),H=f(h,L.a,D.a,O.a,U.a),W=f(c,p,S,T,V),q=f(c,_,P,N,Z),G=f(c,b,M,B,j),$=f(c,k,z,E,H);return this.getColor(Math.trunc(W),Math.trunc(q),Math.trunc(G),Math.trunc($))}},{key:"setPixel",value:function(e,t,n){var i;"image"in n&&"index"in n&&n.image.hasPalette&&this.hasPalette?this.setPixelIndex(e,t,n.index):null===(i=this._data)||void 0===i||i.setPixelRgba(e,t,n.r,n.g,n.b,n.a)}},{key:"setPixelIndex",value:function(e,t,n){var i;null===(i=this._data)||void 0===i||i.setPixelR(e,t,n)}},{key:"setPixelR",value:function(e,t,n){var i;null===(i=this._data)||void 0===i||i.setPixelR(e,t,n)}},{key:"setPixelRgb",value:function(e,t,n,i,r){var a;null===(a=this._data)||void 0===a||a.setPixelRgb(e,t,n,i,r)}},{key:"setPixelRgba",value:function(e,t,n,i,r,a){var o;null===(o=this._data)||void 0===o||o.setPixelRgba(e,t,n,i,r,a)}},{key:"clear",value:function(e){var t;null===(t=this._data)||void 0===t||t.clear(e)}},{key:"convert",value:function(e){var n,i,r,a,o,u,s,l,h,c,f=null!==(n=e.format)&&void 0!==n?n:this.format,d=null!==(i=e.numChannels)&&void 0!==i?i:this.numChannels,m=null!==(r=e.alpha)&&void 0!==r?r:Ge.get(f),g=null!==(a=e.withPalette)&&void 0!==a&&a,v=null!==(o=e.skipAnimation)&&void 0!==o&&o;if((g&&(d>=4||f!==je.uint1&&f!==je.uint2&&f!==je.uint4&&(f!==je.uint8||1!==d))||f<je.uint8&&this.format>=je.uint8)&&(g=!1),f===this.format&&d===this.numChannels&&(!g&&void 0===this.palette||g&&void 0!==this.palette))return t.from(this);var y,p=void 0,_=et(this._frames);try{for(_.s();!(y=_.n()).done;){var b=y.value,k=new t({width:b.width,height:b.height,format:f,numChannels:d,withPalette:g,exifData:null===(u=b._exifData)||void 0===u?void 0:u.clone(),iccProfile:null===(s=b._iccProfile)||void 0===s?void 0:s.clone(),backgroundColor:null===(l=b._backgroundColor)||void 0===l?void 0:l.clone(),frameType:b._frameType,loopCount:b._loopCount,frameDuration:b._frameDuration,textData:void 0!==b._textData?new Map(b.textData):void 0});void 0!==p?p.addFrame(k):p=k;var x=k.palette,w=null!==(c=null===(h=k.palette)||void 0===h?void 0:h.format)&&void 0!==c?c:f;if(void 0!==x){var C,S=new Map,P=0,M=b.getPixel(0,0),z=void 0,A=et(k);try{for(A.s();!(C=A.n()).done;){var I=C.value,R=Math.floor(255*M.rNormalized),F=Math.floor(255*M.gNormalized),T=Math.floor(255*M.bNormalized),N=pt.rgbaToUint32(R,F,T,0);S.has(N)?I.index=S.get(N):(S.set(N,P),I.index=P,z=pt.convertColor({from:M,to:z,format:w,numChannels:d,alpha:m}),x.setRgb(P,z.r,z.g,z.b),P++),M.next()}}catch(O){A.e(O)}finally{A.f()}}else{var B,E=b.getPixel(0,0),L=et(k);try{for(L.s();!(B=L.n()).done;){var D=B.value;pt.convertColor({from:E,to:D,alpha:m}),E.next()}}catch(O){L.e(O)}finally{L.f()}}if(v)break}}catch(O){_.e(O)}finally{_.f()}return p}},{key:"addTextData",value:function(e){var t;null!==(t=this._textData)&&void 0!==t||(this._textData=new Map);var n,i=et(e);try{for(i.s();!(n=i.n()).done;){var a=(0,r.Z)(n.value,2),o=a[0],u=a[1];this._textData.set(o,u)}}catch(s){i.e(s)}finally{i.f()}}},{key:"getColorExtremes",value:function(){var e,t=!0,n=0,i=0,r=et(this);try{for(r.s();!(e=r.n()).done;){for(var a=e.value,o=0;o<a.length;o++){var u=a.getChannel(o);(t||u<n)&&(n=u),(t||u>i)&&(i=u)}t=!1}}catch(s){r.e(s)}finally{r.f()}return{min:n,max:i}}},{key:"toString",value:function(){return"".concat(this.constructor.name," (w: ").concat(this.width,", h: ").concat(this.height,", f: ").concat(je[this.format],", ch: ").concat(this.numChannels,")")}},{key:Symbol.iterator,value:function(){return void 0!==this._data?this._data[Symbol.iterator]():{next:function(){return{done:!0,value:zn}}}}}],[{key:"fromResized",value:function(e,n,i){var r,a,o,u,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=new t({width:n,height:i,loopCount:e._loopCount,frameType:e._frameType,frameDuration:e._frameDuration,frameIndex:e._frameIndex,backgroundColor:null===(r=e._backgroundColor)||void 0===r?void 0:r.clone(),format:e.format,numChannels:e.numChannels,withPalette:e.hasPalette,paletteFormat:null===(a=e.palette)||void 0===a?void 0:a.format,palette:e.palette,exifData:null===(o=e._exifData)||void 0===o?void 0:o.clone(),iccProfile:null===(u=e._iccProfile)||void 0===u?void 0:u.clone(),textData:void 0!==e._textData?new Map(e._textData):void 0});if(void 0!==e._extraChannels&&(l._extraChannels=new Map(e._extraChannels)),!s)for(var h=e.numFrames,c=1;c<h;++c){var f=e._frames[c];l.addFrame(t.fromResized(f,n,i))}return l}},{key:"from",value:function(e){var n,i,r,a,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=new t;if(s._data=null===(n=e.data)||void 0===n?void 0:n.clone(u),s._exifData=null===(i=e._exifData)||void 0===i?void 0:i.clone(),s._iccProfile=null===(r=e.iccProfile)||void 0===r?void 0:r.clone(),s._frameType=e.frameType,s._loopCount=e._loopCount,s._backgroundColor=null===(a=e._backgroundColor)||void 0===a?void 0:a.clone(),s._frameDuration=e._frameDuration,s._frameIndex=e._frameIndex,void 0!==e._extraChannels&&(s._extraChannels=new Map(e._extraChannels)),void 0!==e._textData&&(s._textData=new Map(e.textData)),s._frames.push(s),!o&&e.hasAnimation)for(var l=e.numFrames,h=1;h<l;++h){var c=e._frames[h];s.addFrame(t.from(c))}return s}},{key:"fromBytes",value:function(e){var n,i,r,a,o,u,s,l,h,c,f,d=null!==(n=e.byteOffset)&&void 0!==n?n:0,m=new t;m._loopCount=null!==(i=e.loopCount)&&void 0!==i?i:0,m._frameType=null!==(r=e.frameType)&&void 0!==r?r:wt.sequence,m._frameDuration=null!==(a=e.frameDuration)&&void 0!==a?a:0,m._frameIndex=null!==(o=e.frameIndex)&&void 0!==o?o:0,m._backgroundColor=e.backgroundColor,m._textData=e.textData,m._frames.push(m);var g=null!==(u=e.format)&&void 0!==u?u:je.uint8,v=null!==(s=e.withPalette)&&void 0!==s&&s,y=null!==(l=e.paletteFormat)&&void 0!==l?l:je.uint8,p=null!==(h=e.numChannels)&&void 0!==h?h:void 0!==e.channelOrder?nt.get(e.channelOrder):3;if(p<0||p>4)throw new We("A MemoryImage can only have 1-4 channels.");var _=null!==(c=e.channelOrder)&&void 0!==c?c:3===p?Qe.rgb:4===p?Qe.rgba:1===p?Qe.red:Qe.grayAlpha;if(1===p?_=Qe.red:2===p?_=Qe.grayAlpha:3===p?_!==Qe.rgb&&_!==Qe.bgr&&(_=Qe.rgb):4===p&&_!==Qe.bgra&&_!==Qe.rgba&&_!==Qe.abgr&&_!==Qe.argb&&(_=Qe.rgba),m.initialize({width:e.width,height:e.height,format:g,numChannels:p,withPalette:v,paletteFormat:y,palette:e.palette,exifData:e.exifData,iccProfile:e.iccProfile}),void 0!==m.data){for(var b=m.data.toUint8Array(),k=new Uint8Array(e.bytes,d),x=null!==(f=e.rowStride)&&void 0!==f?f:function(e,t,n){return n===je.uint1?Math.ceil(e*t/8):n===je.uint2?Math.ceil(e*t/4):n===je.uint4?Math.ceil(e*t/2):e*t*qe.get(n)}(e.width,p,g),w=m.data.rowStride,C=Math.min(x,w),S=0,P=0,M=0;M<e.height;++M,P+=x,S+=w)rt.copyRange(k,P,P+C,b,S);if(3===p&&_===Qe.bgr){var z,A=et(m);try{for(A.s();!(z=A.n()).done;){var I=z.value,R=I.r;I.r=I.b,I.b=R}}catch(J){A.e(J)}finally{A.f()}}else if(4===p&&_===Qe.abgr){var F,T=et(m);try{for(T.s();!(F=T.n()).done;){var N=F.value,B=N.r,E=N.g,L=N.b,D=N.a;N.r=D,N.g=L,N.b=E,N.a=B}}catch(J){T.e(J)}finally{T.f()}}else if(4===p&&_===Qe.argb){var O,U=et(m);try{for(U.s();!(O=U.n()).done;){var V=O.value,Z=V.r,j=V.g,H=V.b,W=V.a;V.r=W,V.g=Z,V.b=j,V.a=H}}catch(J){U.e(J)}finally{U.f()}}else if(4===p&&_===Qe.bgra){var q,G=et(m);try{for(G.s();!(q=G.n()).done;){var $=q.value,Y=$.r,X=$.g,Q=$.b,K=$.a;$.r=Q,$.g=X,$.b=Y,$.a=K}}catch(J){G.e(J)}finally{G.f()}}}return m}}]),t}();(function(){function e(t){if(Ie(this,e),!e.isValidFile(t))throw new We("Not a bitmap file.");t.skip(2),this._fileLength=t.readInt32(),t.skip(4),this._imageOffset=t.readInt32()}return Fe(e,[{key:"fileLength",get:function(){return this._fileLength}},{key:"imageOffset",get:function(){return this._imageOffset},set:function(e){this._imageOffset=e}}],[{key:"isValidFile",value:function(t){return!(t.length<2)&&Ke.from(t).readUint16()===e.signature}}]),e}()).signature=19778,function(e){e[e.none=0]="none",e[e.rle8=1]="rle8",e[e.rle4=2]="rle4",e[e.bitfields=3]="bitfields",e[e.jpeg=4]="jpeg",e[e.png=5]="png",e[e.alphaBitfields=6]="alphaBitfields",e[e.reserved7=7]="reserved7",e[e.reserved8=8]="reserved8",e[e.reserved9=9]="reserved9",e[e.reserved10=10]="reserved10",e[e.cmyk=11]="cmyk",e[e.cmykRle8=12]="cmykRle8",e[e.cmykRle4=13]="cmykRle4"}(Mn||(Mn={}));var In=function(){function e(t){var n,i;Ie(this,e),this._bigEndian=null!==(n=null===t||void 0===t?void 0:t.bigEndian)&&void 0!==n&&n,this._buffer=new Uint8Array(null!==(i=null===t||void 0===t?void 0:t.size)&&void 0!==i?i:e._blockSize),this._length=0}return Fe(e,[{key:"buffer",get:function(){return this._buffer}},{key:"bigEndian",get:function(){return this._bigEndian},set:function(e){this._bigEndian=e}},{key:"length",get:function(){return this._length},set:function(e){this._length=e}},{key:"expandBuffer",value:function(t){var n=e._blockSize;void 0!==t?n=t:this._buffer.length>0&&(n=2*this._buffer.length);var i=new Uint8Array(this._buffer.length+n);rt.copyRange(this._buffer,0,this._buffer.length,i,0),this._buffer=i}},{key:"rewind",value:function(){this._length=0}},{key:"clear",value:function(){this._buffer=new Uint8Array(e._blockSize),this._length=0}},{key:"getBytes",value:function(){return new Uint8Array(this._buffer.buffer,0,this._length)}},{key:"writeByte",value:function(e){this._length===this._buffer.length&&this.expandBuffer(),this._buffer[this._length++]=255&e}},{key:"writeBytes",value:function(e,t){for(var n=null!==t&&void 0!==t?t:e.length;this._length+n>this._buffer.length;)this.expandBuffer(this._length+n-this._buffer.length);rt.copyRange(e,0,n,this._buffer,this._length),this._length+=n}},{key:"writeBuffer",value:function(e){for(var t=e.length,n=this._length+t;n>this._buffer.length;)this.expandBuffer(n-this._buffer.length);rt.copyRange(e.buffer,e.offset,t,this._buffer,this._length),this._length+=t}},{key:"writeUint16",value:function(e){if(this._bigEndian)return this.writeByte(e>>8&255),void this.writeByte(255&e);this.writeByte(255&e),this.writeByte(e>>8&255)}},{key:"writeUint32",value:function(e){if(this._bigEndian)return this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),void this.writeByte(255&e);this.writeByte(255&e),this.writeByte(e>>8&255),this.writeByte(e>>16&255),this.writeByte(e>>24&255)}},{key:"writeFloat32",value:function(e){var t=new Float32Array(1);t[0]=e;var n=new Uint8Array(t.buffer);if(this._bigEndian)return this.writeByte(n[3]),this.writeByte(n[2]),this.writeByte(n[1]),void this.writeByte(n[0]);this.writeByte(n[0]),this.writeByte(n[1]),this.writeByte(n[2]),this.writeByte(n[3])}},{key:"writeFloat64",value:function(e){var t=new Float64Array(1);t[0]=e;var n=new Uint8Array(t.buffer);if(this._bigEndian)return this.writeByte(n[7]),this.writeByte(n[6]),this.writeByte(n[5]),this.writeByte(n[4]),this.writeByte(n[3]),this.writeByte(n[2]),this.writeByte(n[1]),void this.writeByte(n[0]);this.writeByte(n[0]),this.writeByte(n[1]),this.writeByte(n[2]),this.writeByte(n[3]),this.writeByte(n[4]),this.writeByte(n[5]),this.writeByte(n[6]),this.writeByte(n[7])}},{key:"subarray",value:function(e,t){var n=e>=0?e:this._length+e,i=null!==t&&void 0!==t?t:this._length;return i<0&&(i=this._length+i),new Uint8Array(this._buffer.buffer,n,i-n)}}]),e}();In._blockSize=8192;var Rn=function(){function e(t,n){Ie(this,e),this._numColors=t,this._palette=null!==n&&void 0!==n?n:new Sn(t,3),this._bitsPerPixel=e.bitSize(t)}return Fe(e,[{key:"numColors",get:function(){return this._numColors}},{key:"palette",get:function(){return this._palette}},{key:"bitsPerPixel",get:function(){return this._bitsPerPixel}},{key:"transparent",get:function(){return this._transparent},set:function(e){this._transparent=e}},{key:"getColor",value:function(e){var t=this.getRed(e),n=this.getGreen(e),i=this.getBlue(e),r=this.getAlpha(e);return _t.rgba(t,n,i,r)}},{key:"setColor",value:function(e,t,n,i){this._palette.setRgb(e,t,n,i)}},{key:"getRed",value:function(e){return Math.trunc(this._palette.getRed(e))}},{key:"getGreen",value:function(e){return Math.trunc(this._palette.getGreen(e))}},{key:"getBlue",value:function(e){return Math.trunc(this._palette.getBlue(e))}},{key:"getAlpha",value:function(e){return e===this._transparent?0:255}},{key:"getPalette",value:function(){if(void 0===this._transparent)return this._palette;for(var e=new Sn(this._palette.numColors,4),t=this._palette.numColors,n=0;n<t;++n)e.setRgba(n,this.getRed(n),this.getGreen(n),this.getBlue(n),this.getAlpha(n));return e}}],[{key:"bitSize",value:function(e){for(var t=1;t<=8;t++)if(1<<t>=e)return t;return 0}},{key:"from",value:function(t){var n=Sn.from(t._palette),i=new e(t.numColors,n);return i._bitsPerPixel=t._bitsPerPixel,i._transparent=t._transparent,i}}]),e}(),Fn=function(){function e(t){Ie(this,e),this._duration=80,this._clearFrame=!0,this._x=t.readUint16(),this._y=t.readUint16(),this._width=t.readUint16(),this._height=t.readUint16();var n=t.readByte(),i=1+(7&n);if(this._interlaced=0!==(64&n),0!==(128&n)){this._colorMap=new Rn(1<<i);for(var r=0;r<this._colorMap.numColors;++r)this._colorMap.setColor(r,t.readByte(),t.readByte(),t.readByte())}this._inputPosition=t.position}return Fe(e,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"interlaced",get:function(){return this._interlaced}},{key:"colorMap",get:function(){return this._colorMap},set:function(e){this._colorMap=e}},{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}},{key:"clearFrame",get:function(){return this._clearFrame},set:function(e){this._clearFrame=e}},{key:"inputPosition",get:function(){return this._inputPosition}}]),e}(),Tn=function(){function e(t){var n,i,r,a,o;Ie(this,e),this._width=0,this._height=0,this._backgroundColor=void 0,this._isGif89=!1,this._width=null!==(n=null===t||void 0===t?void 0:t.width)&&void 0!==n?n:0,this._height=null!==(i=null===t||void 0===t?void 0:t.height)&&void 0!==i?i:0,this._backgroundColor=null===t||void 0===t?void 0:t.backgroundColor,this._frames=null!==(r=null===t||void 0===t?void 0:t.frames)&&void 0!==r?r:new Array,this._colorResolution=null!==(a=null===t||void 0===t?void 0:t.colorResolution)&&void 0!==a?a:0,this._globalColorMap=null===t||void 0===t?void 0:t.globalColorMap,this._isGif89=null!==(o=null===t||void 0===t?void 0:t.isGif89)&&void 0!==o&&o}return Fe(e,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"backgroundColor",get:function(){return this._backgroundColor}},{key:"frames",get:function(){return this._frames}},{key:"colorResolution",get:function(){return this._colorResolution}},{key:"globalColorMap",get:function(){return this._globalColorMap}},{key:"isGif89",get:function(){return this._isGif89}},{key:"numFrames",get:function(){return this.frames.length}}]),e}(),Nn=function(){function e(t){Ie(this,e),this._repeat=0,this._bitsPerPixel=0,this._currentShiftDWord=0,this._currentShiftState=0,this._stackPtr=0,this._lastCode=0,this._maxCode1=0,this._runningBits=0,this._runningCode=0,this._eofCode=0,this._clearCode=0,this._transparentFlag=0,this._disposalMethod=0,this._transparent=0,this._duration=0,void 0!==t&&this.startDecode(t)}return Fe(e,[{key:"numFrames",get:function(){return void 0!==this._info?this._info.numFrames:0}},{key:"getInfo",value:function(){if(void 0===this._input)return!1;var t=this._input.readString(e._stampSize);if(t!==e._gif87Stamp&&t!==e._gif89Stamp)return!1;var n=this._input.readUint16(),i=this._input.readUint16(),r=this._input.readByte(),a=1+(1+(112&r)>>4),o=1+(7&r),u=new _t(new Uint8Array([this._input.readByte()]));this._input.skip(1);var s=void 0;if(0!==(128&r)){s=new Rn(1<<o);for(var l=0;l<s.numColors;++l){var h=this._input.readByte(),c=this._input.readByte(),f=this._input.readByte();s.setColor(l,h,c,f)}}var d=t===e._gif89Stamp;return this._info=new Tn({width:n,height:i,colorResolution:a,backgroundColor:u,globalColorMap:s,isGif89:d}),!0}},{key:"skipImage",value:function(){if(void 0!==this._input&&!this._input.isEOS){var e=new Fn(this._input);return this._input.skip(1),this.skipRemainder(),e}}},{key:"skipRemainder",value:function(){if(void 0===this._input||this._input.isEOS)return!0;for(var e=this._input.readByte();0!==e&&!this._input.isEOS;){if(this._input.skip(e),this._input.isEOS)return!0;e=this._input.readByte()}return!0}},{key:"readApplicationExt",value:function(e){var t=e.readByte();if("NETSCAPE2.0"===e.readString(t)){var n=e.readByte(),i=e.readByte();3===n&&1===i&&(this._repeat=e.readUint16())}else this.skipRemainder()}},{key:"readGraphicsControlExt",value:function(t){t.readByte();var n=t.readByte();if(this._duration=t.readUint16(),this._transparent=t.readByte(),t.readByte(),this._disposalMethod=n>>2&7,this._transparentFlag=1&n,t.peekBytes(1).getByte(0)===e._imageDescRecordType){t.skip(1);var i=this.skipImage();if(void 0===i)return;i.duration=this._duration,i.clearFrame=2===this._disposalMethod,0!==this._transparentFlag&&(void 0===i.colorMap&&void 0!==this._info.globalColorMap&&(i.colorMap=Rn.from(this._info.globalColorMap)),void 0!==i.colorMap&&(i.colorMap.transparent=this._transparent)),this._info.frames.push(i)}}},{key:"getLine",value:function(e){return this._pixelCount=this._pixelCount-e.length,!!this.decompressLine(e)&&(0===this._pixelCount&&this.skipRemainder(),!0)}},{key:"decompressLine",value:function(t){if(this._stackPtr>e._lzMaxCode)return!1;var n=t.length,i=0;if(0!==this._stackPtr)for(;0!==this._stackPtr&&i<n;)t[i++]=this._stack[--this._stackPtr];for(var r=void 0;i<n;){if(this._currentCode=this.decompressInput(),void 0===this._currentCode)return!1;if(this._currentCode===this._eofCode)return!1;if(this._currentCode===this._clearCode){for(var a=0;a<=e._lzMaxCode;a++)this._prefix[a]=e._noSuchCode;this._runningCode=this._eofCode+1,this._runningBits=this._bitsPerPixel+1,this._maxCode1=1<<this._runningBits,this._lastCode=e._noSuchCode}else{if(this._currentCode<this._clearCode)t[i++]=this._currentCode;else{if(this._prefix[this._currentCode]===e._noSuchCode){if(this._currentCode!==this._runningCode-2)return!1;r=this._lastCode;var o=e.getPrefixChar(this._prefix,this._lastCode,this._clearCode);this._stack[this._stackPtr++]=o,this._suffix[this._runningCode-2]=o}else r=this._currentCode;for(var u=0;u++<=e._lzMaxCode&&r>this._clearCode&&r<=e._lzMaxCode;)this._stack[this._stackPtr++]=this._suffix[r],r=this._prefix[r];if(u>=e._lzMaxCode||r>e._lzMaxCode)return!1;for(this._stack[this._stackPtr++]=r;0!==this._stackPtr&&i<n;)t[i++]=this._stack[--this._stackPtr]}this._lastCode!==e._noSuchCode&&this._prefix[this._runningCode-2]===e._noSuchCode&&(this._prefix[this._runningCode-2]=this._lastCode,this._currentCode===this._runningCode-2?this._suffix[this._runningCode-2]=e.getPrefixChar(this._prefix,this._lastCode,this._clearCode):this._suffix[this._runningCode-2]=e.getPrefixChar(this._prefix,this._currentCode,this._clearCode)),this._lastCode=this._currentCode}}return!0}},{key:"decompressInput",value:function(){if(!(this._runningBits>e._lzBits)){for(;this._currentShiftState<this._runningBits;){var t=this.bufferedInput();this._currentShiftDWord|=t<<this._currentShiftState,this._currentShiftState+=8}var n=this._currentShiftDWord&e._codeMasks[this._runningBits];return this._currentShiftDWord>>=this._runningBits,this._currentShiftState-=this._runningBits,this._runningCode<e._lzMaxCode+2&&++this._runningCode>this._maxCode1&&this._runningBits<e._lzBits&&(this._maxCode1<<=1,this._runningBits++),n}}},{key:"bufferedInput",value:function(){var e=0;if(0===this._buffer[0]){if(this._buffer[0]=this._input.readByte(),0===this._buffer[0])return;var t=this._input.readBytes(this._buffer[0]).toUint8Array();rt.copyRange(t,0,this._buffer[0],this._buffer,1),e=this._buffer[1],this._buffer[1]=2,this._buffer[0]--}else e=this._buffer[this._buffer[1]++],this._buffer[0]--;return e}},{key:"initDecode",value:function(){this._buffer=new Uint8Array(256),this._stack=new Uint8Array(e._lzMaxCode),this._suffix=new Uint8Array(e._lzMaxCode+1),this._prefix=new Uint32Array(e._lzMaxCode+1)}},{key:"decodeImage",value:function(t){if(void 0!==this._input&&void 0!==this._info){void 0===this._buffer&&this.initDecode(),this._bitsPerPixel=this._input.readByte(),this._clearCode=1<<this._bitsPerPixel,this._eofCode=this._clearCode+1,this._runningCode=this._eofCode+1,this._runningBits=this._bitsPerPixel+1,this._maxCode1=1<<this._runningBits,this._stackPtr=0,this._lastCode=e._noSuchCode,this._currentShiftState=0,this._currentShiftDWord=0,this._buffer[0]=0,this._prefix.fill(e._noSuchCode,0,this._prefix.length);var n=t.width,i=t.height;if(!(t.x+n>this._info.width||t.y+i>this._info.height)){var r=void 0!==t.colorMap?t.colorMap:this._info.globalColorMap;this._pixelCount=n*i;var a=new An({width:n,height:i,numChannels:1,palette:r.getPalette()}),o=new Uint8Array(n);if(t.interlaced)for(var u=t.y,s=0,l=0;s<4;++s)for(var h=u+e._interlacedOffset[s];h<u+i;h+=e._interlacedJump[s],++l){if(!this.getLine(o))return a;e.updateImage(a,h,r,o)}else for(var c=0;c<i;++c){if(!this.getLine(o))return a;e.updateImage(a,c,r,o)}return a}}}},{key:"isValidFile",value:function(e){return this._input=new Ke({buffer:e}),this.getInfo()}},{key:"startDecode",value:function(t){if(this._input=new Ke({buffer:t}),this.getInfo()){try{for(;!this._input.isEOS;){switch(this._input.readByte()){case e._imageDescRecordType:var n=this.skipImage();if(void 0===n)return this._info;n.duration=this._duration,n.clearFrame=2===this._disposalMethod,0!==this._transparentFlag&&(void 0===n.colorMap&&void 0!==this._info.globalColorMap&&(n.colorMap=Rn.from(this._info.globalColorMap)),void 0!==n.colorMap&&(n.colorMap.transparent=this._transparent)),this._info.frames.push(n);break;case e._extensionRecordType:var i=this._input.readByte();i===e._applicationExt?this.readApplicationExt(this._input):i===e._graphicControlExt?this.readGraphicsControlExt(this._input):this.skipRemainder();break;case e._terminateRecordType:return this._info}}}catch(r){}return this._info}}},{key:"decode",value:function(e){var t,n=e.bytes;if(void 0!==this.startDecode(n)&&void 0!==this._info){if(1===this._info.numFrames||void 0!==e.frameIndex)return this.decodeFrame(null!==(t=e.frameIndex)&&void 0!==t?t:0);for(var i=void 0,r=void 0,a=0;a<this._info.numFrames;++a){var o=this._info.frames[a],u=this.decodeFrame(a);if(void 0===u)return;if(u.frameDuration=10*o.duration,void 0!==i&&void 0!==r)if(u.width===r.width&&u.height===r.height&&0===o.x&&0===o.y&&o.clearFrame)r=u,i.addFrame(r);else{if(o.clearFrame){var s=void 0!==o.colorMap?o.colorMap:this._info.globalColorMap;(r=new An({width:r.width,height:r.height,numChannels:1,palette:s.getPalette()})).clear(s.getColor(this._info.backgroundColor.r))}else r=An.from(r);r.frameDuration=u.frameDuration;var l,h=et(u);try{for(h.s();!(l=h.n()).done;){var c=l.value;0!==c.a&&r.setPixel(c.x+o.x,c.y+o.y,c)}}catch(f){h.e(f)}finally{h.f()}i.addFrame(r)}else i=u,r=u,u.loopCount=this._repeat}return i}}},{key:"decodeFrame",value:function(e){if(void 0!==this._input&&void 0!==this._info&&!(e>=this._info.frames.length||e<0)){var t=this._info.frames[e];return this._input.offset=t.inputPosition,this.decodeImage(this._info.frames[e])}}}],[{key:"getPrefixChar",value:function(t,n,i){for(var r=n,a=0;r>i&&a++<=e._lzMaxCode;){if(r>e._lzMaxCode)return e._noSuchCode;r=t[r]}return r}},{key:"updateImage",value:function(e,t,n,i){if(void 0!==n)for(var r=i.length,a=0;a<r;++a)e.setPixelRgb(a,t,i[a],0,0)}}]),e}();Nn._stampSize=6,Nn._gif87Stamp="GIF87a",Nn._gif89Stamp="GIF89a",Nn._imageDescRecordType=44,Nn._extensionRecordType=33,Nn._terminateRecordType=59,Nn._graphicControlExt=249,Nn._applicationExt=255,Nn._lzMaxCode=4095,Nn._lzBits=12,Nn._noSuchCode=4098,Nn._codeMasks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095],Nn._interlacedOffset=[0,4,2,1],Nn._interlacedJump=[8,8,4,2];var Bn,En=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;Ie(this,e),this._netIndex=new Int32Array(256),this._netSize=16,this._specials=3,this._bgColor=0,this._cutNetSize=0,this._maxNetPos=0,this._initRadius=0,this._initBiasRadius=0,this._samplingFactor=i,this.initialize(n),this.addImage(t)}return Fe(e,[{key:"palette",get:function(){return this._palette}},{key:"numColors",get:function(){return this._netSize}},{key:"initialize",value:function(t){this._netSize=Math.max(t,4),this._cutNetSize=this._netSize-this._specials,this._maxNetPos=this._netSize-1,this._initRadius=Math.floor(this._netSize/8),this._initBiasRadius=this._initRadius*e._radiusBias,this._paletteInternal=new Cn(256,4),this._palette=new Sn(256,3),this._specials=3,this._bgColor=this._specials-1,this._radiusPower=new Int32Array(this._netSize>>3),this._network=new Array(3*this._netSize).fill(0),this._bias=new Array(this._netSize).fill(0),this._freq=new Array(this._netSize).fill(0),this._network[0]=0,this._network[1]=0,this._network[2]=0,this._network[3]=255,this._network[4]=255,this._network[5]=255;for(var n=1/this._netSize,i=0;i<this._specials;++i)this._freq[i]=n,this._bias[i]=0;for(var r=this._specials,a=3*this._specials;r<this._netSize;++r)this._network[a++]=255*(r-this._specials)/this._cutNetSize,this._network[a++]=255*(r-this._specials)/this._cutNetSize,this._network[a++]=255*(r-this._specials)/this._cutNetSize,this._freq[r]=n,this._bias[r]=0}},{key:"updateRadiusPower",value:function(t,n){for(var i=0;i<t;i++)this._radiusPower[i]=Math.trunc(n*((t*t-i*i)*e._radiusBias/(t*t)))}},{key:"specialFind",value:function(e,t,n){for(var i=0,r=0;i<this._specials;i++)if(this._network[r++]===e&&this._network[r++]===t&&this._network[r++]===n)return i;return-1}},{key:"contest",value:function(t,n,i){for(var r=1e30,a=r,o=-1,u=o,s=this._specials,l=3*this._specials;s<this._netSize;s++){var h=this._network[l++]-t;h<0&&(h=-h);var c=this._network[l++]-n;c<0&&(c=-c),h+=c,(c=this._network[l++]-i)<0&&(c=-c),(h+=c)<r&&(r=h,o=s);var f=h-this._bias[s];f<a&&(a=f,u=s),this._freq[s]-=e._beta*this._freq[s],this._bias[s]+=e._betaGamma*this._freq[s]}return this._freq[o]+=e._beta,this._bias[o]-=e._betaGamma,u}},{key:"alterSingle",value:function(e,t,n,i,r){var a=3*t;this._network[a]-=e*(this._network[a]-n),this._network[a+1]-=e*(this._network[a+1]-i),this._network[a+2]-=e*(this._network[a+2]-r)}},{key:"alterNeighbors",value:function(t,n,i,r,a,o){var u=i-n;u<this._specials-1&&(u=this._specials-1);var s=i+n;s>this._netSize&&(s=this._netSize);for(var l=i+1,h=i-1,c=1;l<s||h>u;){var f=this._radiusPower[c++];if(l<s){var d=3*l;this._network[d]-=f*(this._network[d]-r)/e.alphaRadiusBias,this._network[d+1]-=f*(this._network[d+1]-a)/e.alphaRadiusBias,this._network[d+2]-=f*(this._network[d+2]-o)/e.alphaRadiusBias,l++}if(h>u){var m=3*h;this._network[m]-=f*(this._network[m]-r)/e.alphaRadiusBias,this._network[m+1]-=f*(this._network[m+1]-a)/e.alphaRadiusBias,this._network[m+2]-=f*(this._network[m+2]-o)/e.alphaRadiusBias,h--}}}},{key:"learn",value:function(t){var n=this._initBiasRadius,i=30+Math.floor((this._samplingFactor-1)/3),r=t.width*t.height,a=Math.floor(r/this._samplingFactor),o=Math.max(Math.floor(a/e._numCycles),1),u=e._initAlpha;0===o&&(o=1);var s=n>>e._radiusBiasShift;s<=1&&(s=0),this.updateRadiusPower(s,u);var l=0,h=0;r<e._smallImageBytes?(this._samplingFactor=1,l=1):l=r%e._prime1!==0?e._prime1:r%e._prime2!==0?e._prime2:r%e._prime3!==0?e._prime3:e._prime4;for(var c=t.width,f=t.height,d=0,m=0,g=0;g<a;){var v=t.getPixel(d,m),y=v.r,p=v.g,_=v.b;0===g&&(this._network[3*this._bgColor]=_,this._network[3*this._bgColor+1]=p,this._network[3*this._bgColor+2]=y);var b=this.specialFind(_,p,y);if((b=b<0?this.contest(_,p,y):b)>=this._specials){var k=Number(u)/e._initAlpha;this.alterSingle(k,b,_,p,y),s>0&&this.alterNeighbors(k,s,b,_,p,y)}for(h+=l,d+=l;d>c;)d-=c,m++;for(;h>=r;)h-=r,m-=f;++g%o===0&&(u-=Math.floor(u/i),(s=(n-=Math.floor(n/e._radiusDec))>>e._radiusBiasShift)<=1&&(s=0),this.updateRadiusPower(s,u))}}},{key:"fix",value:function(){for(var e=0,t=0;e<this._netSize;e++){for(var n=0;n<3;++n,++t){var i=Te.clampInt255(Math.trunc(.5+this._network[t]));this._paletteInternal.set(e,n,i)}this._paletteInternal.set(e,3,e)}}},{key:"inxBuild",value:function(){for(var e=0,t=0,n=0;n<this._netSize;n++){for(var i=n,r=this._paletteInternal.get(n,1),a=n+1;a<this._netSize;a++)this._paletteInternal.get(a,1)<r&&(i=a,r=this._paletteInternal.get(a,1));var o=n,u=i;if(n!==i){var s=this._paletteInternal.get(u,0);this._paletteInternal.set(u,0,this._paletteInternal.get(o,0)),this._paletteInternal.set(o,0,s),s=this._paletteInternal.get(u,1),this._paletteInternal.set(u,1,this._paletteInternal.get(o,1)),this._paletteInternal.set(o,1,s),s=this._paletteInternal.get(u,2),this._paletteInternal.set(u,2,this._paletteInternal.get(o,2)),this._paletteInternal.set(o,2,s),s=this._paletteInternal.get(u,3),this._paletteInternal.set(u,3,this._paletteInternal.get(o,3)),this._paletteInternal.set(o,3,s)}if(r!==e){this._netIndex[e]=t+n>>1;for(var l=e+1;l<r;l++)this._netIndex[l]=n;e=Math.trunc(r),t=n}}this._netIndex[e]=t+this._maxNetPos>>1;for(var h=e+1;h<256;h++)this._netIndex[h]=this._maxNetPos}},{key:"copyPalette",value:function(){for(var e=0;e<this._netSize;++e)this._palette.setRgb(e,Math.abs(this._paletteInternal.get(e,2)),Math.abs(this._paletteInternal.get(e,1)),Math.abs(this._paletteInternal.get(e,0)))}},{key:"inxSearch",value:function(e,t,n){for(var i=1e3,r=-1,a=this._netIndex[t],o=a-1;a<this._netSize||o>=0;){if(a<this._netSize){var u=this._paletteInternal.get(a,1)-t;if(u>=i)a=this._netSize;else{u<0&&(u=-u);var s=this._paletteInternal.get(a,0)-e;s<0&&(s=-s),(u+=s)<i&&((s=this._paletteInternal.get(a,2)-n)<0&&(s=-s),(u+=s)<i&&(i=Math.trunc(u),r=a)),a++}}if(o>=0){var l=t-this._paletteInternal.get(o,1);if(l>=i)o=-1;else{l<0&&(l=-l);var h=this._paletteInternal.get(o,0)-e;h<0&&(h=-h),(l+=h)<i&&((h=this._paletteInternal.get(o,2)-n)<0&&(h=-h),(l+=h)<i&&(i=Math.trunc(l),r=o)),o--}}}return r}},{key:"getColorIndex",value:function(e){var t=Math.trunc(e.r),n=Math.trunc(e.g),i=Math.trunc(e.b);return this.inxSearch(i,n,t)}},{key:"getColorIndexRgb",value:function(e,t,n){return this.inxSearch(n,t,e)}},{key:"getQuantizedColor",value:function(e){var t=this.getColorIndex(e),n=4===e.length?new gn(0,0,0,255):new mn(0,0,0);return n.r=this.palette.get(t,0),n.g=this.palette.get(t,1),n.b=this.palette.get(t,2),4===e.length&&(n.a=e.a),n}},{key:"getIndexImage",value:function(e){var t=new An({width:e.width,height:e.height,numChannels:1,palette:this.palette});t.frameIndex=e.frameIndex,t.frameType=e.frameType,t.frameDuration=e.frameDuration;for(var n=e[Symbol.iterator](),i=t[Symbol.iterator](),r=void 0,a=void 0;r=n.next(),a=i.next(),!r.done&&!a.done;){a.value.setChannel(0,this.getColorIndex(r.value))}return t}},{key:"addImage",value:function(e){this.learn(e),this.fix(),this.inxBuild(),this.copyPalette()}}]),e}();En._numCycles=100,En._alphaBiasShift=10,En._initAlpha=1<<En._alphaBiasShift,En._radiusBiasShift=8,En._radiusBias=1<<En._radiusBiasShift,En._alphaRadiusBiasShift=En._alphaBiasShift+En._radiusBiasShift,En.alphaRadiusBias=1<<En._alphaRadiusBiasShift,En._radiusDec=30,En._gamma=1024,En._beta=1/1024,En._betaGamma=En._beta*En._gamma,En._prime1=499,En._prime2=491,En._prime3=487,En._prime4=503,En._smallImageBytes=3*En._prime4,function(e){e[e.octree=0]="octree",e[e.neural=1]="neural"}(Bn||(Bn={}));var Ln=function(){function e(){Ie(this,e),this._buf=[void 0]}return Fe(e,[{key:"buf",get:function(){return this._buf}},{key:"n",get:function(){return this._buf.length}}]),e}(),Dn=function(){function e(t,n,i){Ie(this,e),this._r=0,this._g=0,this._b=0,this._count=0,this._heapIndex=0,this._paletteIndex=0,this._children=rt.fill(8,void 0),this._childCount=0,this._childIndex=0,this._flags=0,this._depth=0,this._childIndex=t,this._depth=n,this._parent=i,void 0!==i&&i._childCount++}return Fe(e,[{key:"r",get:function(){return this._r},set:function(e){this._r=e}},{key:"g",get:function(){return this._g},set:function(e){this._g=e}},{key:"b",get:function(){return this._b},set:function(e){this._b=e}},{key:"count",get:function(){return this._count},set:function(e){this._count=e}},{key:"heapIndex",get:function(){return this._heapIndex},set:function(e){this._heapIndex=e}},{key:"paletteIndex",get:function(){return this._paletteIndex},set:function(e){this._paletteIndex=e}},{key:"parent",get:function(){return this._parent}},{key:"children",get:function(){return this._children}},{key:"childCount",get:function(){return this._childCount},set:function(e){this._childCount=e}},{key:"childIndex",get:function(){return this._childIndex}},{key:"flags",get:function(){return this._flags},set:function(e){this._flags=e}},{key:"depth",get:function(){return this._depth}}]),e}(),On=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;Ie(this,e),this._root=new Dn(0,0);var i,r=new Ln,a=et(t);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Math.trunc(o.r),s=Math.trunc(o.g),l=Math.trunc(o.b);this.heapAdd(r,this.nodeInsert(this._root,u,s,l))}}catch(p){a.e(p)}finally{a.f()}for(var h=n+1;r.n>h;)this.heapAdd(r,this.nodeFold(this.popHeap(r)));for(var c=1;c<r.n;c++){var f=r.buf[c],d=f.count;f.r=Math.round(f.r/d),f.g=Math.round(f.g/d),f.b=Math.round(f.b/d)}var m=[];this.getNodes(m,this._root),this._palette=new Sn(m.length,3);for(var g=m.length,v=0;v<g;++v){m[v].paletteIndex=v;var y=m[v];this._palette.setRgb(v,y.r,y.g,y.b)}}return Fe(e,[{key:"palette",get:function(){return this._palette}},{key:"nodeInsert",value:function(e,t,n,i){for(var r=e,a=0,o=128;++a<8;o>>=1){var u=4*(0!==(n&o)?1:0)+2*(0!==(t&o)?1:0)+(0!==(i&o)?1:0);void 0===r.children[u]&&(r.children[u]=new Dn(u,a,r)),r=r.children[u]}return r.r+=t,r.g+=n,r.b+=i,r.count++,r}},{key:"popHeap",value:function(e){if(!(e.n<=1)){var t=e.buf[1];return e.buf[1]=e.buf.pop(),e.buf[1].heapIndex=1,this.downHeap(e,e.buf[1]),t}}},{key:"heapAdd",value:function(t,n){if(0!==(n.flags&e._inHeap))return this.downHeap(t,n),void this.upHeap(t,n);n.flags|=e._inHeap,n.heapIndex=t.n,t.buf.push(n),this.upHeap(t,n)}},{key:"downHeap",value:function(e,t){for(var n=t.heapIndex;;){var i=2*n;if(i>=e.n)break;if(i+1<e.n&&this.compareNode(e.buf[i],e.buf[i+1])>0&&i++,this.compareNode(t,e.buf[i])<=0)break;e.buf[n]=e.buf[i],e.buf[n].heapIndex=n,n=i}e.buf[n]=t,t.heapIndex=n}},{key:"upHeap",value:function(e,t){for(var n=t.heapIndex,i=void 0;n>1&&(i=e.buf[Math.trunc(n/2)],!(this.compareNode(t,i)>=0));)e.buf[n]=i,i.heapIndex=n,n=Math.trunc(n/2);e.buf[n]=t,t.heapIndex=n}},{key:"nodeFold",value:function(e){if(!(e.childCount>0)){var t=e.parent;return t.count+=e.count,t.r+=e.r,t.g+=e.g,t.b+=e.b,t.childCount--,t.children[e.childIndex]=void 0,t}}},{key:"compareNode",value:function(e,t){if(e.childCount<t.childCount)return-1;if(e.childCount>t.childCount)return 1;var n=e.count>>e.depth,i=t.count>>t.depth;return n<i?-1:n>i?1:0}},{key:"getNodes",value:function(e,t){if(0!==t.childCount){var n,i=et(t.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;void 0!==r&&this.getNodes(e,r)}}catch(a){i.e(a)}finally{i.f()}}else e.push(t)}},{key:"getColorIndex",value:function(e){return this.getColorIndexRgb(Math.trunc(e.r),Math.trunc(e.g),Math.trunc(e.b))}},{key:"getColorIndexRgb",value:function(e,t,n){for(var i,r=this._root,a=128;0!==a;a>>=1){var o=4*(0!==(t&a)?1:0)+2*(0!==(e&a)?1:0)+(0!==(n&a)?1:0);if(void 0===r.children[o])break;r=r.children[o]}return null!==(i=null===r||void 0===r?void 0:r.paletteIndex)&&void 0!==i?i:0}},{key:"getQuantizedColor",value:function(e){for(var t=Math.trunc(e.r),n=Math.trunc(e.g),i=Math.trunc(e.b),r=this._root,a=128;0!==a;a>>=1){var o=4*(0!==(n&a)?1:0)+2*(0!==(t&a)?1:0)+(0!==(i&a)?1:0);if(void 0===r.children[o])break;r=r.children[o]}return t=r.r,n=r.g,i=r.b,new mn(t,n,i)}},{key:"getIndexImage",value:function(e){var t=new An({width:e.width,height:e.height,numChannels:1,palette:this.palette});t.frameIndex=e.frameIndex,t.frameType=e.frameType,t.frameDuration=e.frameDuration;for(var n=e[Symbol.iterator](),i=t[Symbol.iterator](),r=void 0,a=void 0;r=n.next(),a=i.next(),!r.done&&!a.done;){a.value.setChannel(0,this.getColorIndex(r.value))}return t}}]),e}();On._inHeap=1;var Un,Vn,Zn=function(){function e(){Ie(this,e)}return Fe(e,null,[{key:"crand",value:function(){return 1-2*Math.random()}},{key:"grand",value:function(){var e=0,t=0;do{var n=2*Math.random()-1;t=(e=2*Math.random()-1)*e+n*n}while(t<=0||t>=1);return e*Math.sqrt(-2*Math.log(t)/t)}},{key:"prand",value:function(t){if(t<=1e-10)return 0;if(t>100)return Math.trunc(Math.sqrt(t)*e.grand()+t);for(var n=0,i=Math.exp(-t),r=1;r>=i;++n)r*=Math.random();return n-1}},{key:"intrand",value:function(e){return Math.floor(Math.random()*e)}}]),e}(),jn=function(){function e(t,n,i,r){Ie(this,e),this._x1=t,this._y1=n,this._x2=i,this._y2=r}return Fe(e,[{key:"x1",get:function(){return this._x1}},{key:"y1",get:function(){return this._y1}},{key:"x2",get:function(){return this._x2}},{key:"y2",get:function(){return this._y2}},{key:"dx",get:function(){return this._x2-this._x1}},{key:"dy",get:function(){return this._y2-this._y1}},{key:"movePoint1",value:function(e,t){this._x1=e,this._y1=t}},{key:"movePoint2",value:function(e,t){this._x2=e,this._y2=t}},{key:"swapXY1",value:function(){var e=this._x1;this._x1=this._y1,this._y1=e}},{key:"swapXY2",value:function(){var e=this._x2;this._x2=this._y2,this._y2=e}},{key:"flipX",value:function(){var e=this._x1;this._x1=this._x2,this._x2=e}},{key:"flipY",value:function(){var e=this._y1;this._y1=this._y2,this._y2=e}},{key:"clone",value:function(){return new e(this._x1,this._y1,this._x2,this._y2)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (x1: ").concat(this._x1,", y1: ").concat(this._y1,", x2: ").concat(this._x2,", y2: ").concat(this._y2,")")}}],[{key:"from",value:function(t){return new e(t.x1,t.y1,t.x2,t.y2)}}]),e}(),Hn=function(){function e(t,n){Ie(this,e),this._x=t,this._y=n}return Fe(e,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"xt",get:function(){return Math.trunc(this.x)}},{key:"yt",get:function(){return Math.trunc(this.y)}},{key:"move",value:function(t,n){return new e(t,n)}},{key:"offset",value:function(e,t){return this.move(this._x+e,this._y+t)}},{key:"mul",value:function(e){return this.move(this._x*e,this._y*e)}},{key:"add",value:function(e){return this.move(this._x+e._x,this._y+e._y)}},{key:"equals",value:function(e){return this._x===e._x&&this._y===e._y}},{key:"toString",value:function(){return"".concat(this.constructor.name," (x: ").concat(this._x,", y: ").concat(this._y,")")}}],[{key:"from",value:function(t){return new e(t._x,t._y)}}]),e}(),Wn=function(){function e(t,n,i,r){Ie(this,e),this._left=Math.min(t,i),this._top=Math.min(n,r),this._right=Math.max(t,i),this._bottom=Math.max(n,r)}return Fe(e,[{key:"left",get:function(){return this._left}},{key:"top",get:function(){return this._top}},{key:"right",get:function(){return this._right}},{key:"bottom",get:function(){return this._bottom}},{key:"width",get:function(){return this._right-this._left}},{key:"height",get:function(){return this._bottom-this._top}},{key:"topLeft",get:function(){return new Hn(this._left,this._top)}},{key:"topRight",get:function(){return new Hn(this._right,this._top)}},{key:"bottomLeft",get:function(){return new Hn(this._left,this._bottom)}},{key:"bottomRight",get:function(){return new Hn(this._right,this._bottom)}},{key:"toString",value:function(){return"".concat(this.constructor.name," (l: ").concat(this._left,", t: ").concat(this._top,", r: ").concat(this._right,", b: ").concat(this._bottom,", w: ").concat(this.width,", h: ").concat(this.height,")")}}],[{key:"fromXYWH",value:function(t,n,i,r){return new e(t,n,t+i,n+r)}},{key:"from",value:function(t){return new e(t._left,t._top,t._right,t._bottom)}}]),e}(),qn=function(){function e(){Ie(this,e)}return Fe(e,null,[{key:"circleTest",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=0,a=e.x-t.x,o=e.y-t.y,u=a*a+o*o,s=u<=n?1:0;r+=s;var l=e.x+1-t.x,h=e.y-t.y,c=l*l+h*h,f=c<=n?1:0;r+=f;var d=e.x+1-t.x,m=e.y+1-t.y,g=d*d+m*m,v=g<=n?1:0;r+=v;var y=e.x-t.x,p=e.y+1-t.y,_=y*y+p*p,b=_<=n?1:0;r+=b;var k=e.x+.5-t.x,x=e.y-t.y,w=k*k+x*x,C=w<=n?1:0;r+=C;var S=e.x+.5-t.x,P=e.y+1-t.y,M=S*S+P*P,z=M<=n?1:0;r+=z;var A=e.x-t.x,I=e.y+.5-t.y,R=A*A+I*I,F=R<=n?1:0;r+=F;var T=e.x+1-t.x,N=e.y+.5-t.y,B=T*T+N*N,E=B<=n?1:0;r+=E;var L=e.x+.5-t.x,D=e.y+.5-t.y,O=L*L+D*D,U=O<=n?1:0;return r+=U,i?r/9:r>0?1:0}},{key:"clipLine",value:function(e,t){for(var n=e.left,i=e.top,r=e.right,a=e.bottom,o=function(e){var t=0;return e.x<n?t|=1:e.x>r&&(t|=2),e.y<i?t|=4:e.y>a&&(t|=8),t},u=o(new Hn(t.x1,t.y1)),s=o(new Hn(t.x2,t.y2)),l=!1;;){if(0===(u|s)){l=!0;break}if(0!==(u&s))break;var h=0!==u?u:s,c=0,f=0;0!==(8&h)?(c=t.x1+Math.trunc(t.dx*(a-t.y1)/t.dy),f=a):0!==(4&h)?(c=t.x1+Math.trunc(t.dx*(i-t.y1)/t.dy),f=i):0!==(2&h)?(f=t.y1+Math.trunc(t.dy*(r-t.x1)/t.dx),c=r):0!==(1&h)&&(f=t.y1+Math.trunc(t.dy*(n-t.x1)/t.dx),c=n),h===u?(t.movePoint1(c,f),u=o(new Hn(t.x1,t.y1))):(t.movePoint2(c,f),s=o(new Hn(t.x2,t.y2)))}return l}}]),e}();!function(e){e[e.direct=0]="direct",e[e.alpha=1]="alpha",e[e.lighten=2]="lighten",e[e.screen=3]="screen",e[e.dodge=4]="dodge",e[e.addition=5]="addition",e[e.darken=6]="darken",e[e.multiply=7]="multiply",e[e.burn=8]="burn",e[e.overlay=9]="overlay",e[e.softLight=10]="softLight",e[e.hardLight=11]="hardLight",e[e.difference=12]="difference",e[e.subtract=13]="subtract",e[e.divide=14]="divide"}(Un||(Un={})),function(e){e[e.topLeft=1]="topLeft",e[e.topRight=2]="topRight",e[e.bottomLeft=4]="bottomLeft",e[e.bottomRight=8]="bottomRight",e[e.all=15]="all"}(Vn||(Vn={}));var Gn,$n=function(){function e(){Ie(this,e)}return Fe(e,null,[{key:"calculateCircumference",value:function(e,t,n){if(n<0||t.x+n<0||t.x-n>=e.width||t.y+n<0||t.y-n>=e.height)return[];if(0===n)return[t];var i=[new Hn(t.x-n,t.y),new Hn(t.x+n,t.y),new Hn(t.x,t.y-n),new Hn(t.x,t.y+n)];if(1===n)return i;for(var r=1-n,a=0,o=-(n<<1),u=0,s=n;u<s;)if(r>=0&&(r+=o+=2,--s),r+=(a+=2)+1,++u!==s+1){var l=t.x-s,h=t.x+s,c=t.y-u,f=t.y+u,d=t.x-u,m=t.x+u,g=t.y-s,v=t.y+s;i.push(new Hn(l,c)),i.push(new Hn(l,f)),i.push(new Hn(h,c)),i.push(new Hn(h,f)),u!==s&&(i.push(new Hn(d,g)),i.push(new Hn(m,v)),i.push(new Hn(m,g)),i.push(new Hn(d,v)))}return i}},{key:"drawAntialiasCircle",value:function(t){for(var n,i,r=function(n,i,r,u,s){0!==(a&Vn.bottomRight)&&e.drawPixel({image:t.image,pos:new Hn(n+r,i+u),color:t.color,alpha:s,maskChannel:o,mask:t.mask}),0!==(a&Vn.bottomLeft)&&e.drawPixel({image:t.image,pos:new Hn(n-r,i+u),color:t.color,alpha:s,maskChannel:o,mask:t.mask}),0!==(a&Vn.topRight)&&e.drawPixel({image:t.image,pos:new Hn(n+r,i-u),color:t.color,alpha:s,maskChannel:o,mask:t.mask}),0!==(a&Vn.topLeft)&&e.drawPixel({image:t.image,pos:new Hn(n-r,i-u),color:t.color,alpha:s,maskChannel:o,mask:t.mask})},a=null!==(n=t.quadrants)&&void 0!==n?n:Vn.all,o=null!==(i=t.maskChannel)&&void 0!==i?i:tt.luminance,u=t.radius*t.radius,s=Math.round(t.radius/Math.SQRT2),l=0;l<=s;++l){var h=Math.sqrt(u-l*l),c=Te.fract(h),f=c*(l===s?.25:1),d=Math.floor(h);r(t.x,t.y,l,d,1-c),r(t.x,t.y,l,d+1,f),r(t.x,t.y,d,l,1-c),r(t.x,t.y,d+1,l,f)}return t.image}},{key:"drawLineWu",value:function(t){var n=t.line.clone(),i=Math.abs(n.dy)>Math.abs(n.dx);i&&(n.swapXY1(),n.swapXY2()),n.x1>n.x2&&(n.flipX(),n.flipY());var r=1===n.dx?1:n.dy/n.dx,a=Math.floor(n.x1+.5),o=n.y1+r*(a-n.x1),u=1-(n.x1+.5-Math.floor(n.x1+.5)),s=a,l=Math.floor(o);i?(e.drawPixel({image:t.image,pos:new Hn(l,s),color:t.color,alpha:(1-(o-Math.floor(o)))*u,maskChannel:t.maskChannel,mask:t.mask}),e.drawPixel({image:t.image,pos:new Hn(l+1,s),color:t.color,alpha:(o-Math.floor(o))*u,maskChannel:t.maskChannel,mask:t.mask})):(e.drawPixel({image:t.image,pos:new Hn(s,l),color:t.color,alpha:(1-(o-Math.floor(o)))*u,maskChannel:t.maskChannel,mask:t.mask}),e.drawPixel({image:t.image,pos:new Hn(s,l+1),color:t.color,alpha:(o-Math.floor(o))*u,maskChannel:t.maskChannel,mask:t.mask}));var h=o+r;a=Math.floor(n.x2+.5),o=n.y2+r*(a-n.x2),u=n.x2+.5-Math.floor(n.x2+.5);var c=a,f=Math.floor(o);if(i){e.drawPixel({image:t.image,pos:new Hn(f,c),color:t.color,alpha:(1-(o-Math.floor(o)))*u,mask:t.mask,maskChannel:t.maskChannel}),e.drawPixel({image:t.image,pos:new Hn(f+1,c),color:t.color,alpha:(o-Math.floor(o))*u,maskChannel:t.maskChannel,mask:t.mask});for(var d=s+1;d<=c-1;d++)e.drawPixel({image:t.image,pos:new Hn(Math.floor(h),d),color:t.color,alpha:1-(h-Math.floor(h)),mask:t.mask,maskChannel:t.maskChannel}),e.drawPixel({image:t.image,pos:new Hn(Math.floor(h)+1,d),color:t.color,alpha:h-Math.floor(h),maskChannel:t.maskChannel,mask:t.mask}),h+=r}else{e.drawPixel({image:t.image,pos:new Hn(c,f),color:t.color,alpha:(1-(o-Math.floor(o)))*u,maskChannel:t.maskChannel,mask:t.mask}),e.drawPixel({image:t.image,pos:new Hn(c,f+1),color:t.color,alpha:(o-Math.floor(o))*u,maskChannel:t.maskChannel,mask:t.mask});for(var m=s+1;m<=c-1;m++)e.drawPixel({image:t.image,pos:new Hn(m,Math.floor(h)),color:t.color,alpha:1-(h-Math.floor(h)),maskChannel:t.maskChannel,mask:t.mask}),e.drawPixel({image:t.image,pos:new Hn(m,Math.floor(h)+1),color:t.color,alpha:h-Math.floor(h),maskChannel:t.maskChannel,mask:t.mask}),h+=r}return t.image}},{key:"setAlpha",value:function(e,t){return e.a=t,e}},{key:"colorDistance",value:function(e,t,n){var i=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];if(n){var o=e[3]-t[3];return Math.sqrt(Math.max(i*i,(i-o)*(i-o))+Math.max(r*r,(r-o)*(r-o))+Math.max(a*a,(a-o)*(a-o)))}return Math.sqrt(i*i+r*r+a*a)}},{key:"testPixelLabColorDistance",value:function(t,n,i,r,a){var o=t.getPixel(n,i),u=r.length>3,s=pt.rgbToLab(o.r,o.g,o.b);return u&&s.push(o.a),e.colorDistance(s,r,u)>a}},{key:"fill4Core",value:function(t,n,i,r,a,o){var u=n,s=i;if(1!==o[s*t.width+u]){var l=0;do{var h=0,c=u;if(0!==l&&r(s,u)){do{if(0===--l)return}while(r(s,++u));c=u}else for(;0!==u&&!r(s,u-1);h++,l++)a(s,--u),0===s||r(s-1,u)||e.fill4(t,u,s-1,r,a,o);for(;c<t.width&&!r(s,c);h++,c++)a(s,c);if(h<l)for(var f=u+l;++c<f;)r(s,c)||e.fill4Core(t,c,s,r,a,o);else if(h>l&&0!==s)for(var d=u+l;++d<c;)r(s-1,d)||e.fill4(t,d,s-1,r,a,o);l=h}while(0!==l&&++s<t.height)}}},{key:"fill4",value:function(t,n,i,r,a,o){var u=n,s=i;if(1!==o[s*t.width+u]){for(;;){for(var l=u,h=s;0!==s&&!r(s-1,u);)s--;for(;0!==u&&!r(s,u-1);)u--;if(u===l&&s===h)break}e.fill4Core(t,u,s,r,a,o)}}},{key:"imgDirectComposite",value:function(e,t,n,i,r,a,o,u,s,l){var h=void 0;if(void 0!==l)for(var c=0;c<a;++c)for(var f=0;f<r;++f){var d=o[f],m=u[c];h=e.getPixel(d,m,h);var g=l.getPixel(d,m).getChannelNormalized(s);if(1===g)t.setPixel(n+f,i+c,h);else{var v=t.getPixel(n+f,i+c);v.r=Te.mix(v.r,h.r,g),v.g=Te.mix(v.g,h.g,g),v.b=Te.mix(v.b,h.b,g),v.a=Te.mix(v.a,h.a,g)}}else for(var y=0;y<a;++y)for(var p=0;p<r;++p)h=e.getPixel(o[p],u[y],h),t.setPixel(n+p,i+y,h)}},{key:"imgComposite",value:function(t,n,i,r,a,o,u,s,l,h,c,f){for(var d=void 0,m=0;m<o;++m)for(var g=0;g<a;++g)d=t.getPixel(u[g],s[m],d),e.drawPixel({image:n,pos:new Hn(i+g,r+m),color:d,blend:l,linearBlend:h,maskChannel:c,mask:f})}},{key:"drawCircle",value:function(t){var n,i,r=null!==(n=t.antialias)&&void 0!==n&&n,a=null!==(i=t.maskChannel)&&void 0!==i?i:tt.luminance;if(r)return e.drawAntialiasCircle({image:t.image,x:t.center.x,y:t.center.y,radius:t.radius,color:t.color,mask:t.mask,maskChannel:a});var o,u=et(e.calculateCircumference(t.image,t.center,t.radius));try{for(u.s();!(o=u.n()).done;){var s=o.value;e.drawPixel({image:t.image,pos:new Hn(s.x,s.y),color:t.color,mask:t.mask,maskChannel:a})}}catch(l){u.e(l)}finally{u.f()}return t.image}},{key:"fillCircle",value:function(t){for(var n,i,r=null!==(n=t.antialias)&&void 0!==n&&n,a=null!==(i=t.maskChannel)&&void 0!==i?i:tt.luminance,o=t.radius*t.radius,u=Math.max(0,t.center.x-t.radius),s=Math.max(0,t.center.y-t.radius),l=Math.min(t.image.width-1,t.center.x+t.radius),h=Math.min(t.image.height-1,t.center.y+t.radius),c=t.image.getRange(u,s,l-u+1,h-s+1),f=void 0;!(f=c.next()).done;){var d=f.value;if(r){var m=qn.circleTest(d,t.center,o,r);if(m>0){var g=t.color.aNormalized*m;e.drawPixel({image:t.image,pos:new Hn(d.x,d.y),color:t.color,alpha:g,maskChannel:a,mask:t.mask})}}else{var v=d.x-t.center.x,y=d.y-t.center.y;v*v+y*y<o&&e.drawPixel({image:t.image,pos:new Hn(d.x,d.y),color:t.color,maskChannel:a,mask:t.mask})}}return t.image}},{key:"drawLine",value:function(t){var n,i,r,a=t.line.clone(),o=null!==(n=t.antialias)&&void 0!==n&&n,u=null!==(i=t.thickness)&&void 0!==i?i:1,s=null!==(r=t.maskChannel)&&void 0!==r?r:tt.luminance;if(!qn.clipLine(new Wn(0,0,t.image.width-1,t.image.height-1),a))return t.image;var l=Math.floor(u/2);if(0===a.dx&&0===a.dy)return 1===t.thickness?e.drawPixel({image:t.image,pos:new Hn(a.x1,a.y1),color:t.color,maskChannel:t.maskChannel,mask:t.mask}):e.fillCircle({image:t.image,center:new Hn(a.x1,a.y1),radius:l,color:t.color,maskChannel:t.maskChannel,mask:t.mask}),t.image;if(0===a.dx){if(a.dy<0)for(var h=a.y2;h<=a.y1;++h)if(u<=1)e.drawPixel({image:t.image,pos:new Hn(a.x1,h),color:t.color,maskChannel:s,mask:t.mask});else for(var c=0;c<u;c++)e.drawPixel({image:t.image,pos:new Hn(a.x1-l+c,h),color:t.color,maskChannel:s,mask:t.mask});else for(var f=a.y1;f<=a.y2;++f)if(u<=1)e.drawPixel({image:t.image,pos:new Hn(a.x1,f),color:t.color,maskChannel:s,mask:t.mask});else for(var d=0;d<u;d++)e.drawPixel({image:t.image,pos:new Hn(a.x1-l+d,f),color:t.color,maskChannel:s,mask:t.mask});return t.image}if(0===a.dy){if(a.dx<0)for(var m=a.x2;m<=a.x1;++m)if(u<=1)e.drawPixel({image:t.image,pos:new Hn(m,a.y1),color:t.color,maskChannel:s,mask:t.mask});else for(var g=0;g<u;g++)e.drawPixel({image:t.image,pos:new Hn(m,a.y1-l+g),color:t.color,maskChannel:s,mask:t.mask});else for(var v=a.x1;v<=a.x2;++v)if(u<=1)e.drawPixel({image:t.image,pos:new Hn(v,a.y1),color:t.color,maskChannel:s,mask:t.mask});else for(var y=0;y<u;y++)e.drawPixel({image:t.image,pos:new Hn(v,a.y1-l+y),color:t.color,maskChannel:s,mask:t.mask});return t.image}var p=function(e){return 65536+~e&65535};if(!o){var _=Math.abs(a.dx),b=Math.abs(a.dy);if(b<=_){var k=Math.cos(Math.atan2(b,_)),x=0;0===(x=0!==k?Math.trunc(u/k):1)&&(x=1);var w=2*b-_,C=2*b,S=2*(b-_),P=0,M=0,z=0,A=0;a.x1>a.x2?(P=a.x2,M=a.y2,z=-1,A=a.x1):(P=a.x1,M=a.y1,z=1,A=a.x2);for(var I=Math.trunc(M-x/2),R=I;R<I+x;R++)e.drawPixel({image:t.image,pos:new Hn(P,R),color:t.color,maskChannel:s,mask:t.mask});if((a.y2-a.y1)*z>0)for(;P<A;){P++,w<0?w+=C:(M++,w+=S);for(var F=I=Math.trunc(M-x/2);F<I+x;F++)e.drawPixel({image:t.image,pos:new Hn(P,F),color:t.color,maskChannel:s,mask:t.mask})}else for(;P<A;){P++,w<0?w+=C:(M--,w+=S);for(var T=I=Math.trunc(M-x/2);T<I+x;T++)e.drawPixel({image:t.image,pos:new Hn(P,T),color:t.color,maskChannel:s,mask:t.mask})}}else{var N=Math.sin(Math.atan2(b,_)),B=0;0===(B=0!==N?Math.trunc(u/N):1)&&(B=1);var E=2*_-b,L=2*_,D=2*(_-b),O=0,U=0,V=0,Z=0;a.y1>a.y2?(U=a.y2,O=a.x2,V=a.y1,Z=-1):(U=a.y1,O=a.x1,V=a.y2,Z=1);for(var j=Math.trunc(O-B/2),H=j;H<j+B;H++)e.drawPixel({image:t.image,pos:new Hn(H,U),color:t.color,maskChannel:s,mask:t.mask});if((a.x2-a.x1)*Z>0)for(;U<V;){U++,E<0?E+=L:(O++,E+=D);for(var W=j=Math.trunc(O-B/2);W<j+B;W++)e.drawPixel({image:t.image,pos:new Hn(W,U),color:t.color,maskChannel:s,mask:t.mask})}else for(;U<V;){U++,E<0?E+=L:(O--,E+=D);for(var q=j=Math.trunc(O-B/2);q<j+B;q++)e.drawPixel({image:t.image,pos:new Hn(q,U),color:t.color,maskChannel:s,mask:t.mask})}}return t.image}if(1===u)return e.drawLineWu({image:t.image,line:new jn(a.x1,a.y1,a.x2,a.y2),color:t.color});var G=Math.abs(a.dy)<Math.abs(a.dx)?Math.cos(Math.atan2(a.dy,a.dx)):Math.sin(Math.atan2(a.dy,a.dx)),$=0;if(0===($=0!==G?Math.trunc(Math.abs(u/G)):1)&&($=1),Math.abs(a.dx)>Math.abs(a.dy)){a.dx<0&&(a.flipX(),a.flipY());for(var Y=a.y1,X=Math.trunc(65536*a.dy/a.dx),Q=0,K=a.x1;K<=a.x2;K++){for(var J=Y-Math.trunc($/2),ee=J;ee<J+$;ee++)e.drawPixel({image:t.image,pos:new Hn(K,ee),color:t.color,alpha:(Q>>8&255)/255,maskChannel:s,mask:t.mask}),e.drawPixel({image:t.image,pos:new Hn(K,ee+1),color:t.color,alpha:(p(Q)>>8&255)/255,maskChannel:s,mask:t.mask});(Q+=X)>=65536?(Q-=65536,Y++):Q<0&&(Q+=65536,Y--)}}else{a.dy<0&&(a.flipX(),a.flipY());for(var te=a.x1,ne=Math.trunc(65536*a.dx/a.dy),ie=0,re=a.y1;re<=a.y2;re++){for(var ae=te-Math.trunc($/2),oe=ae;oe<ae+$;oe++)e.drawPixel({image:t.image,pos:new Hn(oe,re),color:t.color,alpha:(ie>>8&255)/255,maskChannel:s,mask:t.mask}),e.drawPixel({image:t.image,pos:new Hn(oe+1,re),color:t.color,alpha:(p(ie)>>8&255)/255,maskChannel:s,mask:t.mask});(ie+=ne)>=65536?(ie-=65536,te++):ie<0&&(ie+=65536,te--)}}return t.image}},{key:"drawPixel",value:function(e){var t,n,i,r,a,o,u=null!==(t=e.blend)&&void 0!==t?t:Un.alpha,s=null!==(n=e.linearBlend)&&void 0!==n&&n,l=null!==(i=e.maskChannel)&&void 0!==i?i:tt.luminance;if(!e.image.isBoundsSafe(e.pos.x,e.pos.y))return e.image;if((u===Un.direct||e.image.hasPalette)&&e.image.isBoundsSafe(e.pos.x,e.pos.y))return e.image.getPixel(e.pos.x,e.pos.y).set(e.color),e.image;var h=null!==(a=null===(r=e.mask)||void 0===r?void 0:r.getPixel(e.pos.x,e.pos.y).getChannelNormalized(l))&&void 0!==a?a:1,c=void 0!==e.filter?e.color.rNormalized*e.filter.rNormalized:e.color.rNormalized,f=void 0!==e.filter?e.color.gNormalized*e.filter.gNormalized:e.color.gNormalized,d=void 0!==e.filter?e.color.bNormalized*e.filter.bNormalized:e.color.bNormalized,m=(null!==(o=e.alpha)&&void 0!==o?o:e.color.length<4?1:e.color.aNormalized)*h;if(0===m)return e.image;var g=e.image.getPixel(e.pos.x,e.pos.y),v=g.rNormalized,y=g.gNormalized,p=g.bNormalized,_=g.aNormalized;switch(u){case Un.direct:return e.image;case Un.alpha:break;case Un.lighten:c=Math.max(v,c),f=Math.max(y,f),d=Math.max(p,d);break;case Un.screen:c=1-(1-c)*(1-v),f=1-(1-f)*(1-y),d=1-(1-d)*(1-p);break;case Un.dodge:var b=m*_,k=c*(1-_)+v*(1-m),x=f*(1-_)+y*(1-m),w=d*(1-_)+p*(1-m),C=b+k,S=b+x,P=b+w,M=v*m/(1-Te.clamp(c/Te.clamp(m,.01,1)*Te.step(0,m),0,.99))+k,z=y*m/(1-Te.clamp(f/Te.clamp(m,.01,1)*Te.step(0,m),0,.99))+x,A=p*m/(1-Te.clamp(d/Te.clamp(m,.01,1)*Te.step(0,m),0,.99))+w,I=Te.step(c*_+v*m,b),R=Te.step(f*_+y*m,b),F=Te.step(d*_+p*m,b);c=Te.mix(C,M,I),f=Te.mix(S,z,R),d=Te.mix(P,A,F);break;case Un.addition:c=v+c,f=y+f,d=p+d;break;case Un.darken:c=Math.min(v,c),f=Math.min(y,f),d=Math.min(p,d);break;case Un.multiply:c*=v,f*=y,d*=p;break;case Un.burn:c=0!==c?1-(1-v)/c:0,f=0!==f?1-(1-y)/f:0,d=0!==d?1-(1-p)/d:0;break;case Un.overlay:c=2*v<_?2*c*v+c*(1-_)+v*(1-m):m*_-2*(_-v)*(m-c)+c*(1-_)+v*(1-m),f=2*y<_?2*f*y+f*(1-_)+y*(1-m):m*_-2*(_-y)*(m-f)+f*(1-_)+y*(1-m),d=2*p<_?2*d*p+d*(1-_)+p*(1-m):m*_-2*(_-p)*(m-d)+d*(1-_)+p*(1-m);break;case Un.softLight:c=0===_?0:v*(m*(v/_)+2*c*(1-v/_))+c*(1-_)+v*(1-m),f=0===_?0:y*(m*(y/_)+2*f*(1-y/_))+f*(1-_)+y*(1-m),d=0===_?0:p*(m*(p/_)+2*d*(1-p/_))+d*(1-_)+p*(1-m);break;case Un.hardLight:c=2*c<m?2*c*v+c*(1-_)+v*(1-m):m*_-2*(_-v)*(m-c)+c*(1-_)+v*(1-m),f=2*f<m?2*f*y+f*(1-_)+y*(1-m):m*_-2*(_-y)*(m-f)+f*(1-_)+y*(1-m),d=2*d<m?2*d*p+d*(1-_)+p*(1-m):m*_-2*(_-p)*(m-d)+d*(1-_)+p*(1-m);break;case Un.difference:c=Math.abs(c-v),f=Math.abs(f-y),d=Math.abs(d-p);break;case Un.subtract:c=v-c,f=y-f,d=p-d;break;case Un.divide:c=0!==c?v/c:0,f=0!==f?y/f:0,d=0!==d?p/d:0}var T=1-m;if(s){var N=Math.pow(v,2.2),B=Math.pow(y,2.2),E=Math.pow(p,2.2),L=Math.pow(c,2.2),D=Math.pow(f,2.2),O=Math.pow(d,2.2),U=Math.pow(L*m+N*_*T,1/2.2),V=Math.pow(D*m+B*_*T,1/2.2),Z=Math.pow(O*m+E*_*T,1/2.2),j=m+_*T;g.rNormalized=U,g.gNormalized=V,g.bNormalized=Z,g.aNormalized=j}else{var H=c*m+v*_*T,W=f*m+y*_*T,q=d*m+p*_*T,G=m+_*T;g.rNormalized=H,g.gNormalized=W,g.bNormalized=q,g.aNormalized=G}return e.image}},{key:"drawPolygon",value:function(t){var n,i,r,a=null!==(n=t.antialias)&&void 0!==n&&n,o=null!==(i=t.thickness)&&void 0!==i?i:1,u=null!==(r=t.maskChannel)&&void 0!==r?r:tt.luminance;if(0===t.color.a)return t.image;var s=t.vertices,l=s.length;if(0===l)return t.image;if(1===l)return e.drawPixel({image:t.image,pos:s[0],color:t.color,maskChannel:u,mask:t.mask});if(2===l)return e.drawLine({image:t.image,line:new jn(s[0].x,s[0].y,s[1].x,s[1].y),color:t.color,antialias:a,thickness:o,maskChannel:u,mask:t.mask});for(var h=0;h<l-1;++h)e.drawLine({image:t.image,line:new jn(s[h].x,s[h].y,s[h+1].x,s[h+1].y),color:t.color,antialias:a,thickness:o,maskChannel:u,mask:t.mask});return e.drawLine({image:t.image,line:new jn(s[l-1].x,s[l-1].y,s[0].x,s[0].y),color:t.color,antialias:a,thickness:o,maskChannel:u,mask:t.mask}),t.image}},{key:"drawRect",value:function(t){var n,i,r,a=t.rect,o=null!==(n=t.thickness)&&void 0!==n?n:1,u=null!==(i=t.radius)&&void 0!==i?i:0,s=null!==(r=t.maskChannel)&&void 0!==r?r:tt.luminance,l=a.left,h=a.top,c=a.right,f=a.bottom;if(u>0){var d=Math.round(u);e.drawLine({image:t.image,line:new jn(l+d,h,c-d,h),color:t.color}),e.drawLine({image:t.image,line:new jn(c,h+d,c,f-d),color:t.color}),e.drawLine({image:t.image,line:new jn(l+d,f,c-d,f),color:t.color}),e.drawLine({image:t.image,line:new jn(l,h+d,l,f-d),color:t.color});var m=l+d,g=h+d,v=c-d,y=h+d,p=c-d,_=f-d,b=l+d,k=f-d;return e.drawAntialiasCircle({image:t.image,x:m,y:g,radius:d,color:t.color,maskChannel:s,quadrants:Vn.topLeft,mask:t.mask}),e.drawAntialiasCircle({image:t.image,x:v,y:y,radius:d,color:t.color,maskChannel:s,quadrants:Vn.topRight,mask:t.mask}),e.drawAntialiasCircle({image:t.image,x:p,y:_,radius:d,color:t.color,maskChannel:s,quadrants:Vn.bottomRight,mask:t.mask}),e.drawAntialiasCircle({image:t.image,x:b,y:k,radius:d,color:t.color,maskChannel:s,quadrants:Vn.bottomLeft,mask:t.mask}),t.image}var x=o/2;e.drawLine({image:t.image,line:new jn(l,h,c,h),color:t.color,thickness:o,maskChannel:s,mask:t.mask}),e.drawLine({image:t.image,line:new jn(l,f,c,f),color:t.color,thickness:o,maskChannel:s,mask:t.mask});var w=x-Math.trunc(x)===0?1:0,C=Math.ceil(h+x),S=Math.floor(f-x-w),P=Math.floor(l+x),M=Math.ceil(c-x+w);return e.drawLine({image:t.image,line:new jn(P,C,P,S),color:t.color,thickness:o,maskChannel:s,mask:t.mask}),e.drawLine({image:t.image,line:new jn(M,C,M,S),color:t.color,thickness:o,maskChannel:s,mask:t.mask}),t.image}},{key:"fillFlood",value:function(t){var n,i,r,a=null!==(n=t.threshold)&&void 0!==n?n:0,o=null!==(i=t.compareAlpha)&&void 0!==i&&i,u=null!==(r=t.maskChannel)&&void 0!==r?r:tt.luminance;if(0===t.color.a)return t.image;var s=new Uint8Array(t.image.width*t.image.height),l=t.image.getPixel(t.start.x,t.start.y);o||(t.color.a=0);var h=void 0;if(a>0){var c=pt.rgbToLab(l.r,l.g,l.b);o&&c.push(l.a),h=function(n,i){return 0===s[n*t.image.width+i]&&e.testPixelLabColorDistance(t.image,i,n,c,a)}}else h=o?function(e,n){return 0===s[e*t.image.width+n]&&t.image.getPixel(n,e)!==l}:function(n,i){return 0===s[n*t.image.width+i]&&e.setAlpha(t.image.getPixel(i,n),0)!==l};var f=void 0;return e.fill4(t.image,t.start.x,t.start.y,h,(function(e,n){if(void 0!==t.mask){var i=t.mask.getPixel(n,e).getChannelNormalized(u);i>0&&((f=t.image.getPixel(n,e,f)).r=Te.mix(f.r,t.color.r,i),f.g=Te.mix(f.g,t.color.g,i),f.b=Te.mix(f.b,t.color.b,i),f.a=Te.mix(f.a,t.color.a,i))}else t.image.setPixel(n,e,t.color);s[e*t.image.width+n]=1}),s),t.image}},{key:"fillPolygon",value:function(t){var n,i=null!==(n=t.maskChannel)&&void 0!==n?n:tt.luminance;if(0===t.color.a)return t.image;var r=t.vertices.length;if(0===r)return t.image;if(1===r)return e.drawPixel({image:t.image,pos:t.vertices[0],color:t.color,maskChannel:i,mask:t.mask});if(2===r)return e.drawLine({image:t.image,line:new jn(t.vertices[0].x,t.vertices[0].y,t.vertices[1].x,t.vertices[1].y),color:t.color,mask:t.mask,maskChannel:i});var a,o=0,u=0,s=0,l=0,h=!0,c=et(t.vertices);try{for(c.s();!(a=c.n()).done;){var f=a.value;h?(o=f.x,u=f.y,s=f.x,l=f.y,h=!1):(o=Math.min(o,f.x),u=Math.min(u,f.y),s=Math.max(s,f.x),l=Math.max(l,f.y))}}catch(N){c.e(N)}finally{c.f()}o=Math.max(o,0),u=Math.max(u,0),s=Math.min(s,t.image.width-1),l=Math.min(l,t.image.height-1);for(var d=rt.fill(40,0),m=rt.generate(r+1,(function(e){return e<r?e:0})),g=u,v=u+.5;g<=l;++g,++v){for(var y=0,p=0;p<r;++p){var _=t.vertices[m[p]],b=t.vertices[m[p+1]],k=_.x,x=_.y,w=b.x,C=b.y;if(C<x){var S=k;k=w,w=S,S=x,x=C,C=S}if(v<=C&&v>=x){var P=0;x-C===0?P=k:(P=(w-k)*(v-x)/(C-x),P+=k),P<=s&&P>=o&&(d[y++]=P)}}for(var M=0;M<y;M+=2){var z=d[M],A=d[M+1];if(z>A){var I=z;z=A,A=I}for(var R=Math.floor(z),F=Math.ceil(A),T=R;T<=F;++T)e.drawPixel({image:t.image,pos:new Hn(T,g),color:t.color,maskChannel:i,mask:t.mask})}}return t.image}},{key:"fillRect",value:function(e){var t,n,i,r,a,o,u=null!==(t=e.radius)&&void 0!==t?t:0,s=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance;if(0===e.color.a)return e.image;var l=Te.clamp(e.rect.left,0,e.image.width-1),h=Te.clamp(e.rect.top,0,e.image.height-1),c=Te.clamp(e.rect.right,0,e.image.width-1),f=Te.clamp(e.rect.bottom,0,e.image.height-1),d=c-l+1,m=f-h+1;if(u>0){for(var g=Math.round(u),v=g*g,y=l+g,p=h+g,_=c-g+1,b=h+g,k=c-g+1,x=f-g+1,w=l+g,C=f-g+1,S=e.image.getRange(l,h,d,m),P=void 0;!(P=S.next()).done;){var M=P.value,z=M.x,A=M.y,I=1;if(z<y&&A<p){if(0===(I=qn.circleTest(M,new Hn(y,p),v)))continue}else if(z>_&&A<b){if(0===(I=qn.circleTest(M,new Hn(_,b),v)))continue}else if(z>k&&A>x){if(0===(I=qn.circleTest(M,new Hn(k,x),v)))continue}else if(z<w&&A>C&&0===(I=qn.circleTest(M,new Hn(w,C),v)))continue;I*=e.color.aNormalized;var R=null!==(r=null===(i=e.mask)||void 0===i?void 0:i.getPixel(M.x,M.y).getChannelNormalized(s))&&void 0!==r?r:1;M.r=Te.mix(M.r,e.color.r,I*R),M.g=Te.mix(M.g,e.color.g,I*R),M.b=Te.mix(M.b,e.color.b,I*R),M.a*=1-e.color.a*R}return e.image}if(e.color.a===e.color.maxChannelValue&&void 0===e.mask)for(var F=e.image.getRange(l,h,d,m),T=void 0;!(T=F.next()).done;)T.value.set(e.color);else for(var N=e.color.a/e.color.maxChannelValue,B=e.image.getRange(l,h,d,m),E=void 0;!(E=B.next()).done;){var L=E.value,D=null!==(o=null===(a=e.mask)||void 0===a?void 0:a.getPixel(L.x,L.y).getChannelNormalized(s))&&void 0!==o?o:1;L.r=Te.mix(L.r,e.color.r,N*D),L.g=Te.mix(L.g,e.color.g,N*D),L.b=Te.mix(L.b,e.color.b,N*D),L.a*=1-e.color.a*D}return e.image}},{key:"fill",value:function(e){var t,n=null!==(t=e.maskChannel)&&void 0!==t?t:tt.luminance;if(void 0===e.mask)return e.image.clear(e.color),e.image;var i,r=et(e.image);try{for(r.s();!(i=r.n()).done;){var a=i.value,o=e.mask.getPixel(a.x,a.y).getChannelNormalized(n);a.r=Te.mix(a.r,e.color.r,o),a.g=Te.mix(a.g,e.color.g,o),a.b=Te.mix(a.b,e.color.b,o),a.a=Te.mix(a.a,e.color.a,o)}}catch(u){r.e(u)}finally{r.f()}return e.image}},{key:"maskFlood",value:function(t){var n,i,r,a=null!==(n=t.threshold)&&void 0!==n?n:0,o=null!==(i=t.compareAlpha)&&void 0!==i&&i,u=null!==(r=t.fillValue)&&void 0!==r?r:255,s=new Uint8Array(t.image.width*t.image.height),l=t.image.getPixel(t.start.x,t.start.y);o||(l=e.setAlpha(l,0));var h=new Uint8Array(t.image.width*t.image.height),c=void 0;if(a>0){var f=pt.rgbToLab(l.r,l.g,l.b);o&&f.push(l.a),c=function(n,i){return 0===s[n*t.image.width+i]&&(0!==h[n*t.image.width+i]||e.testPixelLabColorDistance(t.image,i,n,f,a))}}else c=o?function(e,n){return 0===s[e*t.image.width+n]&&(0!==h[e*t.image.width+n]||t.image.getPixel(n,e)!==l)}:function(n,i){return 0===s[n*t.image.width+i]&&(0!==h[n*t.image.width+i]||e.setAlpha(t.image.getPixel(i,n),0)!==l)};return e.fill4(t.image,t.start.x,t.start.y,c,(function(e,n){h[e*t.image.width+n]=u,s[e*t.image.width+n]=1}),s),h}},{key:"compositeImage",value:function(t){var n,i,r,a,o,u,s,l,h,c,f,d,m=null!==(n=t.dstX)&&void 0!==n?n:0,g=null!==(i=t.dstY)&&void 0!==i?i:0,v=null!==(r=t.srcX)&&void 0!==r?r:0,y=null!==(a=t.srcY)&&void 0!==a?a:0,p=null!==(o=t.srcW)&&void 0!==o?o:t.src.width,_=null!==(u=t.srcH)&&void 0!==u?u:t.src.height,b=null!==(s=t.dstW)&&void 0!==s?s:t.dst.width<t.src.width?t.dst.width:t.src.width,k=null!==(l=t.dstH)&&void 0!==l?l:t.dst.height<t.src.height?t.dst.height:t.src.height,x=null!==(h=t.blend)&&void 0!==h?h:Un.alpha,w=null!==(c=t.linearBlend)&&void 0!==c&&c,C=null!==(f=t.center)&&void 0!==f&&f,S=null!==(d=t.maskChannel)&&void 0!==d?d:tt.luminance;if(C){var P=t.dst.width-t.src.width;P<0&&(P=0),m=Math.trunc(P/2);var M=t.dst.height-t.src.height;M<0&&(M=0),g=Math.trunc(M/2)}t.dst.hasPalette&&t.dst.convert({numChannels:t.dst.numChannels});var z=_/k,A=p/b,I=Array.from({length:k},(function(e,t){return y+Math.trunc(t*z)})),R=Array.from({length:b},(function(e,t){return v+Math.trunc(t*A)}));return x===Un.direct?e.imgDirectComposite(t.src,t.dst,m,g,b,k,R,I,S,t.mask):e.imgComposite(t.src,t.dst,m,g,b,k,R,I,x,w,S,t.mask),t.dst}}]),e}();!function(e){e[e.none=0]="none",e[e.falseFloydSteinberg=1]="falseFloydSteinberg",e[e.floydSteinberg=2]="floydSteinberg",e[e.stucki=3]="stucki",e[e.atkinson=4]="atkinson"}(Gn||(Gn={}));var Yn,Xn,Qn,Kn=[[[0,0,0],[0,0,0],[0,0,0]],[[3/8,1,0],[3/8,0,1],[2/8,1,1]],[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]];!function(e){e[e.gaussian=0]="gaussian",e[e.uniform=1]="uniform",e[e.saltAndPepper=2]="saltAndPepper",e[e.poisson=3]="poisson",e[e.rice=4]="rice"}(Yn||(Yn={})),function(e){e[e.upperLeft=0]="upperLeft",e[e.average=1]="average"}(Xn||(Xn={})),function(e){e[e.neuralNet=0]="neuralNet",e[e.octree=1]="octree"}(Qn||(Qn={}));var Jn=function(){function e(t){Ie(this,e),this._size=t,this._coefficients=rt.fill(2*t+1,0)}return Fe(e,[{key:"length",get:function(){return this._coefficients.length}},{key:"reflect",value:function(e,t){return t<0?-t:t>=e?e-(t-e)-1:t}},{key:"applyCoefficientsLine",value:function(e,t,n,i,r,a,o){for(var u=0;u<i;u++){for(var s=0,l=0,h=0,c=0,f=-this._size,d=0;f<=this._size;++f,++d){var m=this._coefficients[d],g=this.reflect(i,u+f),v=r?e.getPixel(g,n):e.getPixel(n,g);s+=m*v.r,l+=m*v.g,h+=m*v.b,c+=m*v.a}var y=r?t.getPixel(u,n):t.getPixel(n,u),p=null===o||void 0===o?void 0:o.getPixel(y.x,y.y).getChannelNormalized(a);void 0===p?y.setRgba(s,l,h,c):(y.r=Te.mix(y.r,s,p),y.g=Te.mix(y.g,l,p),y.b=Te.mix(y.b,h,p),y.a=Te.mix(y.a,c,p))}}},{key:"getCoefficient",value:function(e){return this._coefficients[e]}},{key:"setCoefficient",value:function(e,t){this._coefficients[e]=t}},{key:"apply",value:function(e){var t,n,i=null===(t=e.horizontal)||void 0===t||t,r=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance;if(i)for(var a=0;a<e.src.height;++a)this.applyCoefficientsLine(e.src,e.dst,a,e.src.width,i,r,e.mask);else for(var o=0;o<e.src.width;++o)this.applyCoefficientsLine(e.src,e.dst,o,e.src.height,i,r,e.mask)}},{key:"scaleCoefficients",value:function(e){for(var t=0;t<this._coefficients.length;++t)this._coefficients[t]*=e}}]),e}(),ei=function(){function e(){Ie(this,e)}return Fe(e,null,[{key:"adjustColor",value:function(e){var t,n,i,r,a,o,u,s,l,h,c,f,d,m,g,v,y,p,_,b,k,x,w=null!==(t=e.maskChannel)&&void 0!==t?t:tt.luminance,C=void 0!==e.contrast?Te.clamp(e.contrast,0,1):void 0,S=void 0!==e.saturation?Te.clamp(e.saturation,0,1):void 0,P=void 0!==e.brightness?e.brightness:void 0,M=void 0!==e.gamma?Te.clamp(e.gamma,0,1e3):void 0,z=void 0!==e.exposure?Te.clamp(e.exposure,0,1e3):void 0,A=Te.clamp(null!==(n=e.amount)&&void 0!==n?n:1,0,1e3),I=e.hue;if(0===A)return e.image;var R=void 0!==e.blacks||void 0!==e.whites||void 0!==e.mids,F=0,T=0,N=0,B=0,E=0,L=0,D=0,O=0,U=0;R&&(F=null!==(r=null===(i=e.blacks)||void 0===i?void 0:i.rNormalized)&&void 0!==r?r:0,T=null!==(o=null===(a=e.blacks)||void 0===a?void 0:a.gNormalized)&&void 0!==o?o:0,N=null!==(s=null===(u=e.blacks)||void 0===u?void 0:u.bNormalized)&&void 0!==s?s:0,B=null!==(h=null===(l=e.whites)||void 0===l?void 0:l.rNormalized)&&void 0!==h?h:0,E=null!==(f=null===(c=e.whites)||void 0===c?void 0:c.gNormalized)&&void 0!==f?f:0,L=null!==(m=null===(d=e.whites)||void 0===d?void 0:d.bNormalized)&&void 0!==m?m:0,D=1/(1+2*((D=null!==(v=null===(g=e.mids)||void 0===g?void 0:g.rNormalized)&&void 0!==v?v:0)-.5)),O=1/(1+2*((O=null!==(p=null===(y=e.mids)||void 0===y?void 0:y.gNormalized)&&void 0!==p?p:0)-.5)),U=1/(1+2*((U=null!==(b=null===(_=e.mids)||void 0===_?void 0:_.bNormalized)&&void 0!==b?b:0)-.5)));var V=void 0!==S?1-Te.clamp(S,0,1):0,Z=void 0!==C?1-Te.clamp(C,0,1):0;void 0!==z&&(z=Math.pow(2,z));var j=0,H=0,W=0;if(void 0!==I){I*=.0174532925;var q=Math.sin(I),G=Math.cos(I);j=2*G/3,H=(-Math.sqrt(3)*q-G)/3,W=(Math.sqrt(3)*q-G+1)/3}var $,Y=et(e.image.frames);try{for(Y.s();!($=Y.n()).done;){var X,Q=et($.value);try{for(Q.s();!(X=Q.n()).done;){var K=X.value,J=K.rNormalized,ee=K.gNormalized,te=K.bNormalized,ne=J,ie=ee,re=te;if(R&&(ne=Math.pow((ne+F)*B,D),ie=Math.pow((ie+T)*E,O),re=Math.pow((re+N)*L,U)),void 0!==P&&1!==P){var ae=Te.clamp(P,0,1e3);ne*=ae,ie*=ae,re*=ae}if(void 0!==S){var oe=.2125*ne+.7154*ie+.0721*re;ne=oe*V+ne*S,ie=oe*V+ie*S,re=oe*V+re*S}if(void 0!==C&&(ne=.5*Z+ne*C,ie=.5*Z+ie*C,re=.5*Z+re*C),void 0!==M&&(ne=Math.pow(ne,M),ie=Math.pow(ie,M),re=Math.pow(re,M)),void 0!==z&&(ne*=z,ie*=z,re*=z),void 0!==I&&0!==I){var ue=ne*W+ie*j+re*H,se=ne*H+ie*W+re*j;ne=ne*j+ie*H+re*W,ie=ue,re=se}var le=(null!==(x=null===(k=e.mask)||void 0===k?void 0:k.getPixel(K.x,K.y).getChannelNormalized(w))&&void 0!==x?x:1)*A;ne=Te.mix(J,ne,le),ie=Te.mix(ee,ie,le),re=Te.mix(te,re,le),K.rNormalized=ne,K.gNormalized=ie,K.bNormalized=re}}catch(he){Q.e(he)}finally{Q.f()}}}catch(he){Y.e(he)}finally{Y.f()}return e.image}},{key:"billboard",value:function(e){var t,n,i,r,a,o=null!==(t=e.grid)&&void 0!==t?t:10,u=null!==(n=e.amount)&&void 0!==n?n:1,s=null!==(i=e.maskChannel)&&void 0!==i?i:tt.luminance,l=.2025,h=et(e.image.frames);try{for(h.s();!(a=h.n()).done;){var c,f=a.value,d=f.width,m=f.height,g=.0015625,v=.0015625*(d/m),y=f.clone({skipAnimation:!0}),p=et(f);try{for(p.s();!(c=p.n()).done;){var _=c.value,b=_.x/(d-1),k=_.y/(m-1),x=Math.floor(b/(o*g)),w=Math.floor(k/(o*v)),C=Math.floor(x*o*g*(d-1)),S=Math.floor(w*o*v*(m-1));if(!(C>=d||S>=m)){var P=y.getPixel(C,S),M=Te.fract(b/(o*g)),z=Te.fract(k/(o*v)),A=Math.pow(Math.abs(M-.5),2),I=Math.pow(Math.abs(z-.5),2),R=P.r/_.maxChannelValue,F=P.g/_.maxChannelValue,T=P.b/_.maxChannelValue,N=Te.smoothStep(l-.1,.3025,A+I),B=(R+F+T)/3,E=.3*Math.ceil(B/.3)+.3;R=Te.mix(E*R,.1,N),F=Te.mix(E*F,.1,N),T=Te.mix(E*T,.1,N);var L=null===(r=e.mask)||void 0===r?void 0:r.getPixel(_.x,_.y).getChannelNormalized(s),D=(null!==L&&void 0!==L?L:1)*u;_.r=Te.mix(_.r,R*_.maxChannelValue,D),_.g=Te.mix(_.g,F*_.maxChannelValue,D),_.b=Te.mix(_.b,T*_.maxChannelValue,D)}}}catch(O){p.e(O)}finally{p.f()}}}catch(O){h.e(O)}finally{h.f()}return e.image}},{key:"bleachBypass",value:function(e){var t,n,i,r,a,o=null!==(t=e.amount)&&void 0!==t?t:1,u=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance,s=et(e.image.frames);try{for(s.s();!(a=s.n()).done;){var l,h=et(a.value);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.rNormalized,d=c.gNormalized,m=c.bNormalized,g=.2125*f+.7154*d+.0721*m,v=Te.clamp(10*(g-.45),0,1),y=2*f*g,p=2*d*g,_=2*m*g,b=1-2*(1-f)*(1-g),k=1-2*(1-d)*(1-g),x=1-2*(1-m)*(1-g);if(1!==(null!==(r=null===(i=e.mask)||void 0===i?void 0:i.getPixel(c.x,c.y).getChannelNormalized(u))&&void 0!==r?r:1)*o){var w=Te.mix(y,b,v)*c.maxChannelValue,C=Te.mix(p,k,v)*c.maxChannelValue,S=Te.mix(_,x,v)*c.maxChannelValue;c.r=Te.mix(c.r,w,o),c.g=Te.mix(c.g,C,o),c.b=Te.mix(c.b,S,o)}else c.rNormalized=Te.mix(y,b,v),c.gNormalized=Te.mix(p,k,v),c.bNormalized=Te.mix(_,x,v)}}catch(P){h.e(P)}finally{h.f()}}}catch(P){s.e(P)}finally{s.f()}return e.image}},{key:"bulgeDistortion",value:function(e){var t,n,i,r,a,o,u,s,l=null!==(t=e.scale)&&void 0!==t?t:.5,h=null!==(n=e.interpolation)&&void 0!==n?n:at.nearest,c=null!==(i=e.maskChannel)&&void 0!==i?i:tt.luminance,f=et(e.image.frames);try{for(f.s();!(s=f.n()).done;){var d,m=s.value,g=m.clone({skipAnimation:!0}),v=m.width,y=m.height,p=null!==(r=e.centerX)&&void 0!==r?r:Math.trunc(v/2),_=null!==(a=e.centerY)&&void 0!==a?a:Math.trunc(y/2),b=null!==(o=e.radius)&&void 0!==o?o:Math.trunc(Math.min(v,y)/2),k=b*b,x=et(m);try{for(x.s();!(d=x.n()).done;){var w=d.value,C=w.x,S=w.y,P=p-C,M=_-S,z=P*P+M*M;if(C-=p,S-=_,z<k){var A=1-(k-z)/k*l,I=A*A;C*=I,S*=I}C+=p,S+=_;var R=g.getPixelInterpolate(C,S,h),F=null===(u=e.mask)||void 0===u?void 0:u.getPixel(w.x,w.y).getChannelNormalized(c);void 0===F?w.set(R):(w.r=Te.mix(w.r,R.r,F),w.g=Te.mix(w.g,R.g,F),w.b=Te.mix(w.b,R.b,F),w.a=Te.mix(w.a,R.a,F))}}catch(T){x.e(T)}finally{x.f()}}}catch(T){f.e(T)}finally{f.f()}return e.image}},{key:"bumpToNormal",value:function(e){var t,n,i=null!==(t=e.strength)&&void 0!==t?t:2,r=An.from(e.image),a=e.image.maxChannelValue,o=et(e.image.frames);try{for(o.s();!(n=o.n()).done;)for(var u=n.value,s=0;s<u.height;++s)for(var l=0;l<u.width;++l){var h=u.getPixel(l,s).r/a,c=(h-u.getPixel(l<u.width-1?l+1:l,s).r/a)*i,f=(h-u.getPixel(l,s<u.height-1?s+1:s).r/a)*i,d=Math.abs(c)+Math.abs(f);d>1&&(c/=d,f/=d);var m=Math.sqrt(1-c*c-f*f),g=.5*c+.5,v=.5*f+.5,y=m;r.frames[u.frameIndex].setPixelRgb(l,s,g*a,v*a,y*a)}}catch(p){o.e(p)}finally{o.f()}return r}},{key:"chromaticAberration",value:function(e){var t,n,i,r,a=null!==(t=e.shift)&&void 0!==t?t:5,o=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance,u=et(e.image.frames);try{for(u.s();!(r=u.n()).done;){var s,l=r.value,h=l.clone({skipAnimation:!0}),c=l.width-1,f=et(l);try{for(f.s();!(s=f.n()).done;){var d=s.value,m=Te.clamp(d.x-a,0,c),g=Te.clamp(d.x+a,0,c),v=h.getPixel(m,d.y),y=h.getPixel(g,d.y),p=null===(i=e.mask)||void 0===i?void 0:i.getPixel(d.x,d.y).getChannelNormalized(o);void 0===p?(d.r=y.r,d.b=v.b):(d.r=Te.mix(d.r,y.r,p),d.b=Te.mix(d.b,v.b,p))}}catch(_){f.e(_)}finally{f.f()}}}catch(_){u.e(_)}finally{u.f()}return e.image}},{key:"colorHalftone",value:function(e){var t,n,i,r,a,o,u,s=null!==(t=e.amount)&&void 0!==t?t:1,l=null!==(n=e.angle)&&void 0!==n?n:1,h=null!==(i=e.size)&&void 0!==i?i:5,c=null!==(r=e.maskChannel)&&void 0!==r?r:tt.luminance;l*=.0174533;var f,d=function(e,t,n,i,r){var a=3.14159/h,o=Math.sin(r),u=Math.cos(r),s=e-n,l=t-i,c=(u*s-o*l)*a,f=(o*s+u*l)*a;return Math.sin(c)*Math.sin(f)*4},m=et(e.image.frames);try{for(m.s();!(f=m.n()).done;){var g,v=f.value,y=v.width,p=v.height,_=null!==(a=e.centerX)&&void 0!==a?a:Math.trunc(y/2),b=null!==(o=e.centerY)&&void 0!==o?o:Math.trunc(p/2),k=et(v);try{for(k.s();!(g=k.n()).done;){var x=g.value,w=x.x,C=x.y,S=1-x.rNormalized,P=1-x.gNormalized,M=1-x.bNormalized,z=Math.min(S,Math.min(P,M));S=(S-z)/(1-z),P=(P-z)/(1-z),M=(M-z)/(1-z),S=Te.clamp(10*S-3+d(w,C,_,b,l+.26179),0,1),P=Te.clamp(10*P-3+d(w,C,_,b,l+1.30899),0,1),M=Te.clamp(10*M-3+d(w,C,_,b,l),0,1);var A=(1-S-(z=Te.clamp(10*z-5+d(w,C,_,b,l+.78539),0,1)))*x.maxChannelValue,I=(1-P-z)*x.maxChannelValue,R=(1-M-z)*x.maxChannelValue,F=null===(u=e.mask)||void 0===u?void 0:u.getPixel(x.x,x.y).getChannelNormalized(c),T=(null!==F&&void 0!==F?F:1)*s;1!==T?(x.r=Te.mix(x.r,A,T),x.g=Te.mix(x.g,I,T),x.b=Te.mix(x.b,R,T)):(x.r=A,x.g=I,x.b=R)}}catch(N){k.e(N)}finally{k.f()}}}catch(N){m.e(N)}finally{m.f()}return e.image}},{key:"colorOffset",value:function(e){var t,n,i,r,a,o,u,s=null!==(t=e.red)&&void 0!==t?t:0,l=null!==(n=e.green)&&void 0!==n?n:0,h=null!==(i=e.blue)&&void 0!==i?i:0,c=null!==(r=e.alpha)&&void 0!==r?r:0,f=null!==(a=e.maskChannel)&&void 0!==a?a:tt.luminance,d=et(e.image.frames);try{for(d.s();!(u=d.n()).done;){var m,g=et(u.value);try{for(g.s();!(m=g.n()).done;){var v=m.value,y=null===(o=e.mask)||void 0===o?void 0:o.getPixel(v.x,v.y).getChannelNormalized(f);void 0===y?(v.r+=s,v.g+=l,v.b+=h,v.a+=c):(v.r=Te.mix(v.r,v.r+s,y),v.g=Te.mix(v.g,v.g+l,y),v.b=Te.mix(v.b,v.b+h,y),v.a=Te.mix(v.a,v.a+c,y))}}catch(p){g.e(p)}finally{g.f()}}}catch(p){d.e(p)}finally{d.f()}return e.image}},{key:"contrast",value:function(t){var n,i,r=null!==(n=t.maskChannel)&&void 0!==n?n:tt.luminance;if(100===t.contrast)return t.image;if(void 0===e._contrastCache||t.contrast!==e._contrastCache.lastContrast){e._contrastCache={lastContrast:t.contrast,contrast:new Uint8Array(256)};for(var a=t.contrast*t.contrast/1e4,o=0;o<256;++o)e._contrastCache.contrast[o]=Te.clampInt255(255*((o/255-.5)*a+.5))}var u,s=et(t.image.frames);try{for(s.s();!(u=s.n()).done;){var l,h=et(u.value);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=null===(i=t.mask)||void 0===i?void 0:i.getPixel(c.x,c.y).getChannelNormalized(r),d=Math.trunc(c.r),m=Math.trunc(c.g),g=Math.trunc(c.b);void 0===f?(c.r=e._contrastCache.contrast[d],c.g=e._contrastCache.contrast[m],c.b=e._contrastCache.contrast[g]):(c.r=Te.mix(c.r,e._contrastCache.contrast[d],f),c.g=Te.mix(c.g,e._contrastCache.contrast[m],f),c.b=Te.mix(c.b,e._contrastCache.contrast[g],f))}}catch(v){h.e(v)}finally{h.f()}}}catch(v){s.e(v)}finally{s.f()}return t.image}},{key:"convolution",value:function(e){var t,n,i,r,a,o,u=null!==(t=e.div)&&void 0!==t?t:1,s=null!==(n=e.offset)&&void 0!==n?n:0,l=null!==(i=e.amount)&&void 0!==i?i:1,h=null!==(r=e.maskChannel)&&void 0!==r?r:tt.luminance,c=An.from(e.image),f=et(e.image.frames);try{for(f.s();!(o=f.n()).done;){var d,m=o.value,g=c.frames[m.frameIndex],v=et(g);try{for(v.s();!(d=v.n()).done;){for(var y=d.value,p=0,_=0,b=0,k=0,x=0;k<3;++k)for(var w=Math.min(Math.max(y.y-1+k,0),e.image.height-1),C=0;C<3;++C,++x){var S=Math.min(Math.max(y.x-1+C,0),e.image.width-1),P=g.getPixel(S,w);p+=P.r*e.filter[x],_+=P.g*e.filter[x],b+=P.b*e.filter[x]}p=Te.clampInt255(p/u+s),_=Te.clampInt255(_/u+s),b=Te.clampInt255(b/u+s);var M=m.getPixel(y.x,y.y),z=null===(a=e.mask)||void 0===a?void 0:a.getPixel(M.x,M.y).getChannelNormalized(h),A=(null!==z&&void 0!==z?z:1)*l;M.r=Te.mix(M.r,p,A),M.g=Te.mix(M.g,_,A),M.b=Te.mix(M.b,b,A)}}catch(I){v.e(I)}finally{v.f()}}}catch(I){f.e(I)}finally{f.f()}return e.image}},{key:"copyImageChannels",value:function(e){var t,n,i,r,a=null!==(t=e.scaled)&&void 0!==t&&t,o=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance,u=e.from.width/e.image.width,s=e.from.height/e.image.height,l=e.from.getPixel(0,0),h=et(e.image.frames);try{for(h.s();!(r=h.n()).done;){var c,f=et(r.value);try{for(f.s();!(c=f.n()).done;){var d=c.value;a?l.setPosition(Math.floor(d.x*u),Math.floor(d.y*s)):l.setPosition(d.x,d.y);var m=void 0!==e.red?l.getChannelNormalized(e.red):d.rNormalized,g=void 0!==e.green?l.getChannelNormalized(e.green):d.gNormalized,v=void 0!==e.blue?l.getChannelNormalized(e.blue):d.bNormalized,y=void 0!==e.alpha?l.getChannelNormalized(e.alpha):d.aNormalized,p=null===(i=e.mask)||void 0===i?void 0:i.getPixel(d.x,d.y).getChannelNormalized(o);void 0===p?(d.rNormalized=m,d.gNormalized=g,d.bNormalized=v,d.aNormalized=y):(d.rNormalized=Te.mix(d.r,m,p),d.gNormalized=Te.mix(d.g,g,p),d.bNormalized=Te.mix(d.b,v,p),d.aNormalized=Te.mix(d.a,y,p))}}catch(_){f.e(_)}finally{f.f()}}}catch(_){h.e(_)}finally{h.f()}return e.image}},{key:"ditherImage",value:function(e){var t,n,i,r=null!==(t=e.quantizer)&&void 0!==t?t:new En(e.image),a=null!==(n=e.kernel)&&void 0!==n?n:Gn.floydSteinberg,o=null!==(i=e.serpentine)&&void 0!==i&&i;if(a===Gn.none)return r.getIndexImage(e.image);for(var u=Kn[a],s=e.image.height,l=e.image.width,h=o?-1:1,c=r.palette,f=new An({width:l,height:s,numChannels:1,palette:c}),d=e.image[Symbol.iterator](),m=d.next(),g=0,v=0;v<s;v++){o&&(h*=-1);for(var y=1===h?l:0,p=1===h?0:l-1;p!==y;p+=h,++g,m=d.next()){var _=m.value,b=Math.trunc(_.getChannel(0)),k=Math.trunc(_.getChannel(1)),x=Math.trunc(_.getChannel(2)),w=r.getColorIndexRgb(b,k,x);f.setPixelRgb(p,v,w,0,0);var C=c.get(w,0),S=c.get(w,1),P=c.get(w,2),M=b-C;if(0!==M||0!==k-S||0!==x-P)for(var z=1===h?0:u.length-1,A=1===h?u.length:0,I=z;I!==A;I+=h){var R=Math.trunc(u[I][1]),F=Math.trunc(u[I][2]);if(R+p>=0&&R+p<l&&F+v>=0&&F+v<s){var T=u[I][0];w=g+R+F*l,w*=4;var N=e.image.getPixel(R,F);N.r=Math.max(0,Math.min(255,Math.trunc(N.r+M*T))),N.g=Math.max(0,Math.min(255,Math.trunc(N.g+M*T))),N.b=Math.max(0,Math.min(255,Math.trunc(N.b+M*T)))}}}}return f}},{key:"dotScreen",value:function(e){var t,n,i,r,a,o,u,s=null!==(t=e.angle)&&void 0!==t?t:180,l=null!==(n=e.size)&&void 0!==n?n:5.75,h=null!==(i=e.amount)&&void 0!==i?i:1,c=null!==(r=e.maskChannel)&&void 0!==r?r:tt.luminance;s*=.0174533;var f,d=Math.sin(s),m=Math.cos(s),g=et(e.image.frames);try{var v=function(){var t,n=f.value,i=n.width-1,r=n.height-1,s=(null!==(a=e.centerX)&&void 0!==a?a:Math.trunc(i/2))/i,g=(null!==(o=e.centerY)&&void 0!==o?o:Math.trunc(r/2))/r,v=function(e,t,n,a){var o=(n-e)*i,u=(a-t)*r,s=(m*o-d*u)*l,h=(d*o+m*u)*l;return Math.sin(s)*Math.sin(h)*4},y=et(n);try{for(y.s();!(t=y.n()).done;){var p=t.value,_=(10*p.luminanceNormalized-5+v(s,g,p.x/i,p.y/r))*p.maxChannelValue,b=null===(u=e.mask)||void 0===u?void 0:u.getPixel(p.x,p.y).getChannelNormalized(c),k=(null!==b&&void 0!==b?b:1)*h;p.r=Te.mix(p.r,_,k),p.g=Te.mix(p.g,_,k),p.b=Te.mix(p.b,_,k)}}catch(x){y.e(x)}finally{y.f()}};for(g.s();!(f=g.n()).done;)v()}catch(y){g.e(y)}finally{g.f()}return e.image}},{key:"dropShadow",value:function(t){var n,i=t.blur>=0?t.blur:0,r=null!==(n=t.shadowColor)&&void 0!==n?n:new gn(0,0,0,128),a=t.image.width+2*i,o=t.image.height+2*i,u=-i,s=-i,l=a,h=o,c=0,f=0;u+t.hShadow<0&&(c=-(u+t.hShadow),u=-u,l=c),s+t.vShadow<0&&(f=-(s+t.vShadow),s=-s,h+=f),a+u+t.hShadow>l&&(l=a+u+t.hShadow),o+s+t.vShadow>h&&(h=o+s+t.vShadow);var d=new An({width:l,height:h,numChannels:4});return d.clear(new gn(255,255,255,0)),$n.compositeImage({dst:d,src:t.image,dstX:u,dstY:s}),e.remapColors({image:d,red:tt.alpha,green:tt.alpha,blue:tt.alpha}),e.scaleRgba({image:d,scale:r}),e.gaussianBlur({image:d,radius:i}),$n.compositeImage({dst:d,src:t.image,dstX:c,dstY:f}),d}},{key:"edgeGlow",value:function(e){var t,n,i,r=null!==(t=e.amount)&&void 0!==t?t:1,a=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance;if(0===r)return e.image;var o,u=et(e.image.frames);try{for(u.s();!(o=u.n()).done;){var s,l=o.value,h=An.from(l,!0),c=l.width,f=l.height,d=et(l);try{for(d.s();!(s=d.n()).done;){var m=s.value,g=Te.clamp(m.y-1,0,f-1),v=Te.clamp(m.y+1,0,f-1),y=Te.clamp(m.x-1,0,c-1),p=Te.clamp(m.x+1,0,c-1),_=h.getPixel(y,g),b=h.getPixel(m.x,g),k=h.getPixel(p,g),x=h.getPixel(y,m.y),w=m,C=h.getPixel(p,m.y),S=h.getPixel(y,v),P=h.getPixel(m.x,v),M=h.getPixel(p,v),z=_.rNormalized+2*b.rNormalized+k.rNormalized-S.rNormalized-2*P.rNormalized-M.rNormalized,A=_.gNormalized+2*b.gNormalized+k.gNormalized-S.gNormalized-2*P.gNormalized-M.gNormalized,I=_.bNormalized+2*b.bNormalized+k.bNormalized-S.bNormalized-2*P.bNormalized-M.bNormalized,R=_.rNormalized-k.rNormalized+2*x.rNormalized-2*C.rNormalized+S.rNormalized-M.rNormalized,F=_.gNormalized-k.gNormalized+2*x.gNormalized-2*C.gNormalized+S.gNormalized-M.gNormalized,T=_.bNormalized-k.bNormalized+2*x.bNormalized-2*C.bNormalized+S.bNormalized-M.bNormalized,N=Math.sqrt(z*z+R*R),B=Math.sqrt(A*A+F*F),E=Math.sqrt(I*I+T*T),L=2*N*w.rNormalized*m.maxChannelValue,D=2*B*w.gNormalized*m.maxChannelValue,O=2*E*w.bNormalized*m.maxChannelValue,U=null===(i=e.mask)||void 0===i?void 0:i.getPixel(m.x,m.y).getChannelNormalized(a),V=(null!==U&&void 0!==U?U:1)*r;m.r=Te.mix(m.r,L,V),m.g=Te.mix(m.g,D,V),m.b=Te.mix(m.b,O,V)}}catch(Z){d.e(Z)}finally{d.f()}}}catch(Z){u.e(Z)}finally{u.f()}return e.image}},{key:"emboss",value:function(t){var n,i,r=null!==(n=t.amount)&&void 0!==n?n:1,a=null!==(i=t.maskChannel)&&void 0!==i?i:tt.luminance;return e.convolution({image:t.image,filter:[1.5,0,0,0,0,0,0,0,-1.5],div:1,offset:127,amount:r,mask:t.mask,maskChannel:a})}},{key:"gamma",value:function(e){var t,n,i,r=null!==(t=e.maskChannel)&&void 0!==t?t:tt.luminance,a=et(e.image.frames);try{for(a.s();!(i=a.n()).done;){var o,u=et(i.value);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=null===(n=e.mask)||void 0===n?void 0:n.getPixel(s.x,s.y).getChannelNormalized(r);void 0===l?(s.rNormalized=Math.pow(s.rNormalized,e.gamma),s.gNormalized=Math.pow(s.gNormalized,e.gamma),s.bNormalized=Math.pow(s.bNormalized,e.gamma)):(s.rNormalized=Te.mix(s.rNormalized,Math.pow(s.rNormalized,e.gamma),l),s.gNormalized=Te.mix(s.gNormalized,Math.pow(s.gNormalized,e.gamma),l),s.bNormalized=Te.mix(s.bNormalized,Math.pow(s.bNormalized,e.gamma),l))}}catch(h){u.e(h)}finally{u.f()}}}catch(h){a.e(h)}finally{a.f()}return e.image}},{key:"gaussianBlur",value:function(t){var n,i=null!==(n=t.maskChannel)&&void 0!==n?n:tt.luminance;if(t.radius<=0)return t.image;var r=void 0;if(e._gaussianKernelCache.has(t.radius))r=e._gaussianKernelCache.get(t.radius);else{var a=2*t.radius/3,o=2*a*a;r=new Jn(t.radius);for(var u=0,s=-t.radius;s<=t.radius;++s){var l=Math.exp(-s*s/o);u+=l,r.setCoefficient(s+t.radius,l)}r.scaleCoefficients(1/u),e._gaussianKernelCache.set(t.radius,r)}return e.separableConvolution({image:t.image,kernel:r,mask:t.mask,maskChannel:i})}},{key:"grayscale",value:function(e){var t,n,i,r,a=null!==(t=e.amount)&&void 0!==t?t:1,o=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance,u=et(e.image.frames);try{for(u.s();!(r=u.n()).done;){var s=r.value;if(s.hasPalette)for(var l=s.palette,h=l.numColors,c=0;c<h;++c){var f=pt.getLuminanceRgb(l.getRed(c),l.getGreen(c),l.getBlue(c));if(1!==a){var d=Te.mix(l.getRed(c),f,a),m=Te.mix(l.getGreen(c),f,a),g=Te.mix(l.getBlue(c),f,a);l.setRed(c,d),l.setGreen(c,m),l.setBlue(c,g)}else l.setRed(c,f),l.setGreen(c,f),l.setBlue(c,f)}else{var v,y=et(s);try{for(y.s();!(v=y.n()).done;){var p=v.value,_=pt.getLuminanceRgb(p.r,p.g,p.b),b=null===(i=e.mask)||void 0===i?void 0:i.getPixel(p.x,p.y).getChannelNormalized(o),k=(null!==b&&void 0!==b?b:1)*a;1!==k?(p.r=Te.mix(p.r,_,k),p.g=Te.mix(p.g,_,k),p.b=Te.mix(p.b,_,k)):(p.r=_,p.g=_,p.b=_)}}catch(x){y.e(x)}finally{y.f()}}}}catch(x){u.e(x)}finally{u.f()}return e.image}},{key:"hdrToLdr",value:function(e){for(var t=function(e,t){var n=Math.max(0,e*t);return n>1&&(n=1+function(e,t){return Math.log(e*t+1)/t}(n-1,.184874)),84.66*Math.pow(n,.4545)},n=new An({width:e.image.width,height:e.image.height,numChannels:e.image.numChannels}),i=void 0!==e.exposure?Math.pow(2,Te.clamp(e.exposure+2.47393,-20,20)):1,r=e.image.numChannels,a=0;a<e.image.height;++a)for(var o=0;o<e.image.width;++o){var u=e.image.getPixel(o,a),s=u.rNormalized,l=1===r?s:u.gNormalized,h=1===r?s:u.bNormalized;isFinite(s)&&!isNaN(s)||(s=0),isFinite(l)&&!isNaN(l)||(l=0),isFinite(h)&&!isNaN(h)||(h=0);var c=0,f=0,d=0;void 0!==e.exposure?(c=t(s,i),f=t(l,i),d=t(h,i)):(c=255*Te.clamp(s,0,1),f=255*Te.clamp(l,0,1),d=255*Te.clamp(h,0,1));var m=Math.max(c,Math.max(f,d));if(m>255&&(c=c/m*255,f=f/m*255,d=d/m*255),e.image.numChannels>3){var g=u.a;isFinite(g)&&!isNaN(g)||(g=1),n.setPixelRgba(o,a,Te.clampInt255(c),Te.clampInt255(f),Te.clampInt255(d),Te.clampInt255(255*g))}else n.setPixelRgb(o,a,Te.clampInt255(c),Te.clampInt255(f),Te.clampInt255(d))}return n}},{key:"hexagonPixelate",value:function(e){var t,n,i,r,a,o,u,s=null!==(t=e.size)&&void 0!==t?t:5,l=null!==(n=e.amount)&&void 0!==n?n:1,h=null!==(i=e.maskChannel)&&void 0!==i?i:tt.luminance,c=et(e.image.frames);try{for(c.s();!(u=c.n()).done;){var f,d=u.value,m=d.width-1,g=d.height-1,v=(null!==(r=e.centerX)&&void 0!==r?r:Math.trunc(d.width/2))/m,y=(null!==(a=e.centerY)&&void 0!==a?a:Math.trunc(d.height/2))/g,p=d.clone({skipAnimation:!0}),_=et(d);try{for(_.s();!(f=_.n()).done;){var b=f.value,k=(b.x-v)/s,x=(b.y-y)/s,w=0,C=0;(k-=.5*(x/=.866025404))+x-Math.floor(k)-Math.floor(x)<1?(w=Math.floor(k),C=Math.floor(x)):(w=Math.ceil(k),C=Math.ceil(x));var S=Math.ceil(k),P=Math.floor(x),M=Math.floor(k),z=Math.ceil(x),A=k,I=x,R=1-k-x,F=w,T=C,N=1-w-C,B=S,E=P,L=1-S-P,D=M,O=z,U=1-M-z,V=Te.length3(A-F,I-T,R-N),Z=Te.length3(A-B,I-E,R-L),j=Te.length3(A-D,I-O,R-U),H=0,W=0;V<Z?V<j?(H=w,W=C):(H=M,W=z):Z<j?(H=S,W=P):(H=M,W=z),H+=.5*W,W*=.866025404;var q=(H*=s/m)+v/m,G=(W*=s/g)+y/g,$=Te.clamp(q*m,0,m),Y=Te.clamp(G*g,0,g),X=p.getPixel(Math.floor($),Math.floor(Y)),Q=null===(o=e.mask)||void 0===o?void 0:o.getPixel(b.x,b.y).getChannelNormalized(h),K=(null!==Q&&void 0!==Q?Q:1)*l;b.r=Te.mix(b.r,X.r,K),b.g=Te.mix(b.g,X.g,K),b.b=Te.mix(b.b,X.b,K)}}catch(J){_.e(J)}finally{_.f()}}}catch(J){c.e(J)}finally{c.f()}return e.image}},{key:"invert",value:function(e){var t,n,i,r=null!==(t=e.maskChannel)&&void 0!==t?t:tt.luminance,a=e.image.maxChannelValue,o=et(e.image.frames);try{for(o.s();!(i=o.n()).done;){var u=i.value;if(e.image.hasPalette)for(var s=u.palette,l=s.numColors,h=0;h<l;++h){var c=a-s.getRed(h),f=a-s.getGreen(h),d=a-s.getBlue(h);s.setRgb(h,c,f,d)}else if(0!==a){var m,g=et(u);try{for(g.s();!(m=g.n()).done;){var v=m.value,y=null===(n=e.mask)||void 0===n?void 0:n.getPixel(v.x,v.y).getChannelNormalized(r);void 0===y?(v.r=a-v.r,v.g=a-v.g,v.b=a-v.b):(v.r=Te.mix(v.r,a-v.r,y),v.g=Te.mix(v.g,a-v.g,y),v.b=Te.mix(v.b,a-v.b,y))}}catch(p){g.e(p)}finally{g.f()}}}}catch(p){o.e(p)}finally{o.f()}return e.image}},{key:"luminanceThreshold",value:function(e){var t,n,i,r,a,o,u,s=null!==(t=e.threshold)&&void 0!==t?t:.5,l=null!==(n=e.outputColor)&&void 0!==n&&n,h=null!==(i=e.amount)&&void 0!==i?i:1,c=null!==(r=e.maskChannel)&&void 0!==r?r:tt.luminance,f=et(e.image.frames);try{for(f.s();!(u=f.n()).done;){var d,m=et(u.value);try{for(m.s();!(d=m.n()).done;){var g=d.value,v=.3*g.rNormalized+.59*g.gNormalized+.11*g.bNormalized;if(l){var y=Math.max(0,v-s),p=Math.sign(y),_=null===(a=e.mask)||void 0===a?void 0:a.getPixel(g.x,g.y).getChannelNormalized(c),b=(null!==_&&void 0!==_?_:1)*h;g.r=Te.mix(g.r,g.r*p,b),g.g=Te.mix(g.g,g.g*p,b),g.b*=Te.mix(g.b,g.b*p,b)}else{var k=v<s?0:g.maxChannelValue,x=null===(o=e.mask)||void 0===o?void 0:o.getPixel(g.x,g.y).getChannelNormalized(c),w=(null!==x&&void 0!==x?x:1)*h;g.r=Te.mix(g.r,k,w),g.g=Te.mix(g.g,k,w),g.b=Te.mix(g.b,k,w)}}}catch(C){m.e(C)}finally{m.f()}}}catch(C){f.e(C)}finally{f.f()}return e.image}},{key:"monochrome",value:function(e){var t,n,i,r,a,o,u,s,l,h=null!==(t=e.amount)&&void 0!==t?t:1,c=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance;if(0===h)return e.image;var f,d=null!==(r=null===(i=e.color)||void 0===i?void 0:i.rNormalized)&&void 0!==r?r:.45,m=null!==(o=null===(a=e.color)||void 0===a?void 0:a.gNormalized)&&void 0!==o?o:.6,g=null!==(s=null===(u=e.color)||void 0===u?void 0:u.bNormalized)&&void 0!==s?s:.3,v=et(e.image.frames);try{for(v.s();!(f=v.n()).done;){var y,p=et(f.value);try{for(p.s();!(y=p.n()).done;){var _=y.value,b=_.luminanceNormalized,k=b<.5?2*b*d:1-2*(1-b)*(1-d),x=b<.5?2*b*m:1-2*(1-b)*(1-m),w=b<.5?2*b*g:1-2*(1-b)*(1-g),C=null===(l=e.mask)||void 0===l?void 0:l.getPixel(_.x,_.y).getChannelNormalized(c),S=(null!==C&&void 0!==C?C:1)*h;_.r=Te.mix(_.r,k*_.maxChannelValue,S),_.g=Te.mix(_.g,x*_.maxChannelValue,S),_.b=Te.mix(_.b,w*_.maxChannelValue,S)}}catch(P){p.e(P)}finally{p.f()}}}catch(P){v.e(P)}finally{v.f()}return e.image}},{key:"noise",value:function(e){var t,n,i,r,a,o,u,s=null!==(t=e.type)&&void 0!==t?t:Yn.gaussian,l=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance,h=e.sigma,c=0,f=0;if(0===h&&s!==Yn.poisson)return e.image;if(h<0||s===Yn.saltAndPepper){var d=e.image.getColorExtremes();c=d.min,f=d.max}h<0&&(h=-h*(f-c)/100);var m,g=et(e.image.frames);try{for(g.s();!(m=g.n()).done;){var v=m.value;switch(s){case Yn.gaussian:var y,p=et(v);try{for(p.s();!(y=p.n()).done;){var _=y.value,b=_.r+h*Zn.grand(),k=_.g+h*Zn.grand(),x=_.b+h*Zn.grand(),w=_.a,C=null===(i=e.mask)||void 0===i?void 0:i.getPixel(_.x,_.y).getChannelNormalized(l);void 0===C?_.setRgba(b,k,x,w):(_.r=Te.mix(_.r,b,C),_.g=Te.mix(_.g,k,C),_.b=Te.mix(_.b,x,C),_.a=Te.mix(_.a,w,C))}}catch(se){p.e(se)}finally{p.f()}break;case Yn.uniform:var S,P=et(v);try{for(P.s();!(S=P.n()).done;){var M=S.value,z=M.r+h*Zn.crand(),A=M.g+h*Zn.crand(),I=M.b+h*Zn.crand(),R=M.a,F=null===(r=e.mask)||void 0===r?void 0:r.getPixel(M.x,M.y).getChannelNormalized(l);void 0===F?M.setRgba(z,A,I,R):(M.r=Te.mix(M.r,z,F),M.g=Te.mix(M.g,A,F),M.b=Te.mix(M.b,I,F),M.a=Te.mix(M.a,R,F))}}catch(se){P.e(se)}finally{P.f()}break;case Yn.saltAndPepper:h<0&&(h=-h),f===c&&(c=0,f=255);var T,N=et(v);try{for(N.s();!(T=N.n()).done;){var B=T.value;if(100*Math.random()<h){var E=Math.random()<.5?f:c,L=Math.random()<.5?f:c,D=Math.random()<.5?f:c,O=B.a,U=null===(a=e.mask)||void 0===a?void 0:a.getPixel(B.x,B.y).getChannelNormalized(l);void 0===U?B.setRgba(E,L,D,O):(B.r=Te.mix(B.r,E,U),B.g=Te.mix(B.g,L,U),B.b=Te.mix(B.b,D,U),B.a=Te.mix(B.a,O,U))}}}catch(se){N.e(se)}finally{N.f()}break;case Yn.poisson:var V,Z=et(v);try{for(Z.s();!(V=Z.n()).done;){var j=V.value,H=Zn.prand(j.r),W=Zn.prand(j.g),q=Zn.prand(j.b),G=j.a,$=null===(o=e.mask)||void 0===o?void 0:o.getPixel(j.x,j.y).getChannelNormalized(l);void 0===$?j.setRgba(H,W,q,G):(j.r=Te.mix(j.r,H,$),j.g=Te.mix(j.g,W,$),j.b=Te.mix(j.b,q,$),j.a=Te.mix(j.a,G,$))}}catch(se){Z.e(se)}finally{Z.f()}break;case Yn.rice:var Y,X=Math.sqrt(2),Q=et(v);try{for(Q.s();!(Y=Q.n()).done;){var K=Y.value,J=K.r/X,ee=J+h*Zn.grand(),te=J+h*Zn.grand(),ne=Math.sqrt(ee*ee+te*te),ie=Math.trunc(ne);ee=(J=K.g/X)+h*Zn.grand(),te=J+h*Zn.grand(),ne=Math.sqrt(ee*ee+te*te);var re=Math.trunc(ne);ee=(J=K.b/X)+h*Zn.grand(),te=J+h*Zn.grand(),ne=Math.sqrt(ee*ee+te*te);var ae=Math.trunc(ne),oe=K.a,ue=null===(u=e.mask)||void 0===u?void 0:u.getPixel(K.x,K.y).getChannelNormalized(l);void 0===ue?K.setRgba(ie,re,ae,oe):(K.r=Te.mix(K.r,ie,ue),K.g=Te.mix(K.g,re,ue),K.b=Te.mix(K.b,ae,ue),K.a=Te.mix(K.a,oe,ue))}}catch(se){Q.e(se)}finally{Q.f()}}}}catch(se){g.e(se)}finally{g.f()}return e.image}},{key:"normalize",value:function(e){var t,n,i=null!==(t=e.maskChannel)&&void 0!==t?t:tt.luminance,r=e.min<e.max?e.min:e.max,a=e.min<e.max?e.max:e.min,o=e.image.getColorExtremes(),u=o.min,s=o.max;if(u===s)return e.image;var l=u,h=s;if(u!==r||s!==a){var c,f=et(e.image.frames);try{for(f.s();!(c=f.n()).done;){var d,m=et(c.value);try{for(m.s();!(d=m.n()).done;){var g=d.value,v=null===(n=e.mask)||void 0===n?void 0:n.getPixel(g.x,g.y).getChannelNormalized(i);if(void 0===v)g.r=(g.r-l)/(h-l)*(a-r)+r,g.g=(g.g-l)/(h-l)*(a-r)+r,g.b=(g.b-l)/(h-l)*(a-r)+r,g.a=(g.a-l)/(h-l)*(a-r)+r;else{var y=(g.r-l)/(h-l)*(a-r)+r,p=(g.g-l)/(h-l)*(a-r)+r,_=(g.b-l)/(h-l)*(a-r)+r,b=(g.a-l)/(h-l)*(a-r)+r;g.r=Te.mix(g.r,y,v),g.g=Te.mix(g.g,p,v),g.b=Te.mix(g.b,_,v),g.a=Te.mix(g.a,b,v)}}}catch(k){m.e(k)}finally{m.f()}}}catch(k){f.e(k)}finally{f.f()}}return e.image}},{key:"pixelate",value:function(e){var t,n,i,r,a,o=null!==(t=e.mode)&&void 0!==t?t:Xn.upperLeft,u=null!==(n=e.amount)&&void 0!==n?n:1,s=null!==(i=e.maskChannel)&&void 0!==i?i:tt.luminance;if(e.size<=1)return e.image;var l,h=et(e.image.frames);try{for(h.s();!(l=h.n()).done;){var c=l.value,f=c.width,d=c.height;switch(o){case Xn.upperLeft:var m,g=et(c);try{for(g.s();!(m=g.n()).done;){var v=m.value,y=Math.trunc(v.x/e.size)*e.size,p=Math.trunc(v.y/e.size)*e.size,_=c.getPixel(y,p),b=null===(r=e.mask)||void 0===r?void 0:r.getPixel(v.x,v.y).getChannelNormalized(s),k=(null!==b&&void 0!==b?b:1)*u;1===k?v.set(_):(v.r=Te.mix(v.r,_.r,k),v.g=Te.mix(v.g,_.g,k),v.b=Te.mix(v.b,_.b,k),v.a=Te.mix(v.a,_.a,k))}}catch(V){g.e(V)}finally{g.f()}break;case Xn.average:var x,w=0,C=0,S=0,P=0,M=-1,z=-1,A=et(c);try{for(A.s();!(x=A.n()).done;){var I=x.value,R=Math.trunc(I.x/e.size)*e.size,F=Math.trunc(I.y/e.size)*e.size,T=null===(a=e.mask)||void 0===a?void 0:a.getPixel(I.x,I.y).getChannelNormalized(s),N=(null!==T&&void 0!==T?T:1)*u;if(R!==M||F<=z){M=R,z=F,w=0,C=0,S=0,P=0;for(var B=0,E=F;B<e.size&&E<d;++B,++E)for(var L=0,D=R;L<e.size&&D<f;++L,++D){var O=c.getPixel(D,E);w+=O.r,C+=O.g,S+=O.b,P+=O.a}var U=e.size*e.size;w/=U,C/=U,S/=U,P/=U}I.r=Te.mix(I.r,w,N),I.g=Te.mix(I.g,C,N),I.b=Te.mix(I.b,S,N),I.a=Te.mix(I.a,P,N)}}catch(V){A.e(V)}finally{A.f()}}}}catch(V){h.e(V)}finally{h.f()}return e.image}},{key:"quantize",value:function(t){var n,i,r,a,o=null!==(n=t.numberOfColors)&&void 0!==n?n:256,u=null!==(i=t.method)&&void 0!==i?i:Qn.neuralNet,s=null!==(r=t.dither)&&void 0!==r?r:Gn.none,l=null!==(a=t.ditherSerpentine)&&void 0!==a&&a,h=void 0;return h=u===Qn.octree||o<4?new On(t.image,o):new En(t.image,o),e.ditherImage({image:t.image,quantizer:h,kernel:s,serpentine:l})}},{key:"reinhardToneMap",value:function(e){var t,n,i,r=null!==(t=e.maskChannel)&&void 0!==t?t:tt.luminance,a=[.212671,.71516,.072169],o=0,u=et(e.image);try{for(u.s();!(i=u.n()).done;){var s=i.value,l=s.r,h=s.g,c=s.b,f=a[0]*l+a[1]*h+a[2]*c;f>1e-4&&(o+=Math.log(f))}}catch(w){u.e(w)}finally{u.f()}var d,m=1/((o=Math.exp(o/(e.image.width*e.image.height)))*o),g=et(e.image);try{for(g.s();!(d=g.n()).done;){var v=d.value,y=v.r,p=v.g,_=v.b,b=a[0]*y+a[1]*p+a[2]*_,k=(1+b*m)/(1+b),x=null===(n=e.mask)||void 0===n?void 0:n.getPixel(v.x,v.y).getChannelNormalized(r);void 0===x?(v.r=y*k,v.g=p*k,v.b=_*k):(v.r=Te.mix(v.r,y*k,x),v.g=Te.mix(v.g,p*k,x),v.b=Te.mix(v.b,_*k,x))}}catch(w){g.e(w)}finally{g.f()}return e.image}},{key:"remapColors",value:function(e){var t,n,i,r,a,o=null!==(t=e.red)&&void 0!==t?t:tt.red,u=null!==(n=e.green)&&void 0!==n?n:tt.green,s=null!==(i=e.blue)&&void 0!==i?i:tt.blue,l=null!==(r=e.alpha)&&void 0!==r?r:tt.alpha,h=[0,0,0,0,0],c=et(e.image.frames);try{for(c.s();!(a=c.n()).done;){var f,d=et(a.value);try{for(d.s();!(f=d.n()).done;){var m=f.value;h[0]=m.r,h[1]=m.g,h[2]=m.b,h[3]=m.a,o!==tt.luminance&&u!==tt.luminance&&s!==tt.luminance&&l!==tt.luminance||(h[4]=pt.getLuminanceRgb(h[0],h[1],h[2])),m.r=h[o],m.g=h[u],m.b=h[s],m.a=h[l]}}catch(g){d.e(g)}finally{d.f()}}}catch(g){c.e(g)}finally{c.f()}return e.image}},{key:"scaleRgba",value:function(e){var t,n,i,r=null!==(t=e.maskChannel)&&void 0!==t?t:tt.luminance,a=e.scale.rNormalized,o=e.scale.gNormalized,u=e.scale.bNormalized,s=e.scale.aNormalized,l=et(e.image.frames);try{for(l.s();!(i=l.n()).done;){var h,c=et(i.value);try{for(c.s();!(h=c.n()).done;){var f=h.value,d=null===(n=e.mask)||void 0===n?void 0:n.getPixel(f.x,f.y).getChannelNormalized(r);void 0===d?f.setRgba(f.r*a,f.g*o,f.b*u,f.a*s):(f.r=Te.mix(f.r,f.r*a,d),f.g=Te.mix(f.g,f.g*o,d),f.b=Te.mix(f.b,f.b*u,d),f.a=Te.mix(f.a,f.a*s,d))}}catch(m){c.e(m)}finally{c.f()}}}catch(m){l.e(m)}finally{l.f()}return e.image}},{key:"separableConvolution",value:function(e){var t,n=null!==(t=e.maskChannel)&&void 0!==t?t:tt.luminance,i=An.from(e.image);return e.kernel.apply({src:e.image,dst:i,maskChannel:n,mask:e.mask}),e.kernel.apply({src:i,dst:e.image,horizontal:!1,maskChannel:n,mask:e.mask}),e.image}},{key:"sepia",value:function(e){var t,n,i,r=null!==(t=e.amount)&&void 0!==t?t:1,a=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance;if(0===r)return e.image;var o,u=et(e.image.frames);try{for(u.s();!(o=u.n()).done;){var s,l=et(o.value);try{for(l.s();!(s=l.n()).done;){var h=s.value,c=h.rNormalized,f=h.gNormalized,d=h.bNormalized,m=pt.getLuminanceRgb(c,f,d),g=null===(i=e.mask)||void 0===i?void 0:i.getPixel(h.x,h.y).getChannelNormalized(a),v=(null!==g&&void 0!==g?g:1)*r;h.rNormalized=v*(m+.15)+(1-v)*c,h.gNormalized=v*(m+.07)+(1-v)*f,h.bNormalized=v*(m-.12)+(1-v)*d}}catch(y){l.e(y)}finally{l.f()}}}catch(y){u.e(y)}finally{u.f()}return e.image}},{key:"sketch",value:function(e){var t,n,i,r=null!==(t=e.amount)&&void 0!==t?t:1,a=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance;if(0===r)return e.image;var o,u=et(e.image.frames);try{for(u.s();!(o=u.n()).done;){var s,l=o.value,h=l.width,c=l.height,f=An.from(l,!0),d=et(l);try{for(d.s();!(s=d.n()).done;){var m=s.value,g=Te.clamp(m.y-1,0,c-1),v=Te.clamp(m.y+1,0,c-1),y=Te.clamp(m.x-1,0,h-1),p=Te.clamp(m.x+1,0,h-1),_=f.getPixel(y,v).luminanceNormalized,b=f.getPixel(y,g).luminanceNormalized,k=f.getPixel(p,v).luminanceNormalized,x=f.getPixel(p,g).luminanceNormalized,w=f.getPixel(y,m.y).luminanceNormalized,C=f.getPixel(p,m.y).luminanceNormalized,S=f.getPixel(m.x,v).luminanceNormalized,P=-b-2*f.getPixel(m.x,g).luminanceNormalized-x+_+2*S+k,M=-_-2*w-b+k+2*C+x,z=1-Math.sqrt(P*P+M*M),A=Te.clamp(z*m.r,0,m.maxChannelValue),I=Te.clamp(z*m.g,0,m.maxChannelValue),R=Te.clamp(z*m.b,0,m.maxChannelValue),F=null===(i=e.mask)||void 0===i?void 0:i.getPixel(m.x,m.y).getChannelNormalized(a),T=(null!==F&&void 0!==F?F:1)*r;m.r=Te.mix(m.r,A,T),m.g=Te.mix(m.g,I,T),m.b=Te.mix(m.b,R,T)}}catch(N){d.e(N)}finally{d.f()}}}catch(N){u.e(N)}finally{u.f()}return e.image}},{key:"smooth",value:function(t){var n,i=null!==(n=t.maskChannel)&&void 0!==n?n:tt.luminance,r=[1,1,1,1,t.weight,1,1,1,1];return e.convolution({image:t.image,filter:r,div:t.weight+8,offset:0,mask:t.mask,maskChannel:i})}},{key:"sobel",value:function(e){var t,n,i,r=null!==(t=e.amount)&&void 0!==t?t:1,a=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance;if(0===r)return e.image;var o,u=et(e.image.frames);try{for(u.s();!(o=u.n()).done;){var s,l=o.value,h=An.from(l,!0),c=l.width,f=l.height,d=et(l);try{for(d.s();!(s=d.n()).done;){var m=s.value,g=Te.clamp(m.y-1,0,f-1),v=Te.clamp(m.y+1,0,f-1),y=Te.clamp(m.x-1,0,c-1),p=Te.clamp(m.x+1,0,c-1),_=h.getPixel(y,v).luminanceNormalized,b=h.getPixel(y,g).luminanceNormalized,k=h.getPixel(p,v).luminanceNormalized,x=h.getPixel(p,g).luminanceNormalized,w=h.getPixel(y,m.y).luminanceNormalized,C=h.getPixel(p,m.y).luminanceNormalized,S=h.getPixel(m.x,v).luminanceNormalized,P=-b-2*h.getPixel(m.x,g).luminanceNormalized-x+_+2*S+k,M=-_-2*w-b+k+2*C+x,z=Math.sqrt(P*P+M*M)*m.maxChannelValue,A=null===(i=e.mask)||void 0===i?void 0:i.getPixel(m.x,m.y).getChannelNormalized(a),I=(null!==A&&void 0!==A?A:1)*r,R=1-I;m.r=z*I+m.r*R,m.g=z*I+m.g*R,m.b=z*I+m.b*R}}catch(F){d.e(F)}finally{d.f()}}}catch(F){u.e(F)}finally{u.f()}return e.image}},{key:"stretchDistortion",value:function(e){var t,n,i,r,a,o,u=null!==(t=e.interpolation)&&void 0!==t?t:at.nearest,s=null!==(n=e.maskChannel)&&void 0!==n?n:tt.luminance,l=et(e.image.frames);try{for(l.s();!(o=l.n()).done;){var h,c=o.value,f=c.clone({skipAnimation:!0}),d=c.width-1,m=c.height-1,g=null!==(i=e.centerX)&&void 0!==i?i:Math.trunc(c.width/2),v=null!==(r=e.centerY)&&void 0!==r?r:Math.trunc(c.height/2),y=g/d*2-1,p=v/m*2-1,_=et(c);try{for(_.s();!(h=_.n()).done;){var b=h.value,k=b.x/d*2-1,x=b.y/m*2-1;k-=y,x-=p;var w=Math.sign(k),C=Math.sign(x);k=Math.abs(k),x=Math.abs(x),k=(.5*k+.5*Te.smoothStep(.25,.5,k)*k)*w,x=(.5*x+.5*Te.smoothStep(.25,.5,x)*x)*C,k+=y,x+=p;var S=Te.clamp((k/2+.5)*d,0,d-1),P=Te.clamp((x/2+.5)*m,0,m-1),M=f.getPixelInterpolate(S,P,u),z=null===(a=e.mask)||void 0===a?void 0:a.getPixel(b.x,b.y).getChannelNormalized(s);void 0===z?(b.r=M.r,b.g=M.g,b.b=M.b):(b.r=Te.mix(b.r,M.r,z),b.g=Te.mix(b.g,M.g,z),b.b=Te.mix(b.b,M.b,z))}}catch(A){_.e(A)}finally{_.f()}}}catch(A){l.e(A)}finally{l.f()}return e.image}},{key:"vignette",value:function(e){var t,n,i,r,a,o,u,s,l,h,c,f,d,m,g=null!==(t=e.start)&&void 0!==t?t:.3,v=null!==(n=e.end)&&void 0!==n?n:.85,y=null!==(i=e.amount)&&void 0!==i?i:.9,p=null!==(r=e.maskChannel)&&void 0!==r?r:tt.luminance,_=e.image.height-1,b=e.image.width-1,k=null!==(o=null===(a=e.color)||void 0===a?void 0:a.rNormalized)&&void 0!==o?o:0,x=null!==(s=null===(u=e.color)||void 0===u?void 0:u.gNormalized)&&void 0!==s?s:0,w=null!==(h=null===(l=e.color)||void 0===l?void 0:l.bNormalized)&&void 0!==h?h:0,C=null!==(f=null===(c=e.color)||void 0===c?void 0:c.aNormalized)&&void 0!==f?f:1,S=b/_,P=et(e.image.frames);try{for(P.s();!(m=P.n()).done;){var M,z=et(m.value);try{for(z.s();!(M=z.n()).done;){var A=M.value,I=(.5-A.x/b)*S,R=.5-A.y/_,F=Math.sqrt(I*I+R*R);F=1-Te.smoothStep(v,g,F);var T=Te.mix(A.rNormalized,k,F)*A.maxChannelValue,N=Te.mix(A.gNormalized,x,F)*A.maxChannelValue,B=Te.mix(A.bNormalized,w,F)*A.maxChannelValue,E=Te.mix(A.aNormalized,C,F)*A.maxChannelValue,L=null===(d=e.mask)||void 0===d?void 0:d.getPixel(A.x,A.y).getChannelNormalized(p),D=(null!==L&&void 0!==L?L:1)*y;A.r=Te.mix(A.r,T,D),A.g=Te.mix(A.g,N,D),A.b=Te.mix(A.b,B,D),A.a=Te.mix(A.a,E,D)}}catch(O){z.e(O)}finally{z.f()}}}catch(O){P.e(O)}finally{P.f()}return e.image}}]),e}();ei._gaussianKernelCache=new Map;var ti=function(){function e(t){var n,i,r,a,o;Ie(this,e),this._curAccum=0,this._curBits=0,this._nBits=0,this._initBits=0,this._eofCode=0,this._maxCode=0,this._clearCode=0,this._freeEnt=0,this._clearFlag=!1,this._blockSize=0,this._supportsAnimation=!0,this._delay=null!==(n=null===t||void 0===t?void 0:t.delay)&&void 0!==n?n:80,this._repeat=null!==(i=null===t||void 0===t?void 0:t.repeat)&&void 0!==i?i:0,this._numColors=256,this._quantizerType=Bn.neural,this._samplingFactor=null!==(r=null===t||void 0===t?void 0:t.samplingFactor)&&void 0!==r?r:10,this._dither=null!==(a=null===t||void 0===t?void 0:t.dither)&&void 0!==a?a:Gn.floydSteinberg,this._ditherSerpentine=null!==(o=null===t||void 0===t?void 0:t.ditherSerpentine)&&void 0!==o&&o,this._encodedFrames=0}return Fe(e,[{key:"supportsAnimation",get:function(){return this._supportsAnimation}},{key:"addImage",value:function(t,n,i){if(!t.hasPalette)throw new We("GIF can only encode palette images.");var r=t.palette,a=r.numColors,o=this._outputBuffer;o.writeByte(e._imageDescRecordType),o.writeUint16(0),o.writeUint16(0),o.writeUint16(n),o.writeUint16(i);var u=r.toUint8Array();o.writeByte(135);var s=r.numChannels;if(3===s)o.writeBytes(u);else if(4===s)for(var l=0,h=0;l<a;++l,h+=4)o.writeByte(u[h]),o.writeByte(u[h+1]),o.writeByte(u[h+2]);else if(1===s||2===s)for(var c=0,f=0;c<a;++c,f+=s){var d=u[f];o.writeByte(d),o.writeByte(d),o.writeByte(d)}for(var m=a;m<256;++m)o.writeByte(0),o.writeByte(0),o.writeByte(0);this.encodeLZW(t)}},{key:"encodeLZW",value:function(t){this._curAccum=0,this._curBits=0,this._blockSize=0,this._block=new Uint8Array(256);this._outputBuffer.writeByte(8);var n=new Int32Array(e._hSize),i=new Int32Array(e._hSize),r=t[Symbol.iterator](),a=r.next();this._initBits=9,this._nBits=this._initBits,this._maxCode=(1<<this._nBits)-1,this._clearCode=1<<this._initBits-1,this._eofCode=this._clearCode+1,this._clearFlag=!1,this._freeEnt=this._clearCode+2;for(var o=!1,u=function(){if(o)return e._eof;var t=Math.trunc(a.value.index);return(a=r.next()).done&&(o=!0),t},s=u(),l=0,h=e._hSize;h<65536;h*=2)l++;l=8-l;for(var c=e._hSize,f=0;f<c;++f)n[f]=-1;this.output(this._clearCode);for(var d=!0;d;){d=!1;for(var m=u();m!==e._eof;){var g=(m<<e._bits)+s,v=m<<l^s;if(n[v]!==g){if(n[v]>=0){var y=c-v;0===v&&(y=1);do{if((v-=y)<0&&(v+=c),n[v]===g){s=i[v],d=!0;break}}while(n[v]>=0);if(d)break}if(this.output(s),s=m,this._freeEnt<1<<e._bits)i[v]=this._freeEnt++,n[v]=g;else{for(var p=0;p<e._hSize;++p)n[p]=-1;this._freeEnt=this._clearCode+2,this._clearFlag=!0,this.output(this._clearCode)}m=u()}else s=i[v],m=u()}}this.output(s),this.output(this._eofCode),this._outputBuffer.writeByte(0)}},{key:"output",value:function(t){for(this._curAccum&=e._masks[this._curBits],this._curBits>0?this._curAccum|=t<<this._curBits:this._curAccum=t,this._curBits+=this._nBits;this._curBits>=8;)this.addToBlock(255&this._curAccum),this._curAccum>>=8,this._curBits-=8;if((this._freeEnt>this._maxCode||this._clearFlag)&&(this._clearFlag?(this._nBits=this._initBits,this._maxCode=(1<<this._nBits)-1,this._clearFlag=!1):(++this._nBits,this._nBits===e._bits?this._maxCode=1<<e._bits:this._maxCode=(1<<this._nBits)-1)),t===this._eofCode){for(;this._curBits>0;)this.addToBlock(255&this._curAccum),this._curAccum>>=8,this._curBits-=8;this.writeBlock()}}},{key:"writeBlock",value:function(){this._blockSize>0&&(this._outputBuffer.writeByte(this._blockSize),this._outputBuffer.writeBytes(this._block,this._blockSize),this._blockSize=0)}},{key:"addToBlock",value:function(e){this._block[this._blockSize++]=e,this._blockSize>=254&&this.writeBlock()}},{key:"writeApplicationExt",value:function(){this._outputBuffer.writeByte(e._extensionRecordType),this._outputBuffer.writeByte(e._applicationExt),this._outputBuffer.writeByte(11);var t=Xe.getCodePoints("NETSCAPE2.0");this._outputBuffer.writeBytes(t),this._outputBuffer.writeBytes(new Uint8Array([3,1])),this._outputBuffer.writeUint16(this._repeat),this._outputBuffer.writeByte(0)}},{key:"writeGraphicsCtrlExt",value:function(t){var n;this._outputBuffer.writeByte(e._extensionRecordType),this._outputBuffer.writeByte(e._graphicControlExt),this._outputBuffer.writeByte(4);var i=0,r=0,a=t.palette,o=a.numChannels,u=o-1;if(4===o||2===o)for(var s=a.toUint8Array(),l=a.numColors,h=0,c=u;h<l;++h,c+=o){if(0===s[c]){r=1,i=h;break}}var f=8|r;this._outputBuffer.writeByte(f),this._outputBuffer.writeUint16(null!==(n=this._lastImageDuration)&&void 0!==n?n:this._delay),this._outputBuffer.writeByte(i),this._outputBuffer.writeByte(0)}},{key:"writeHeader",value:function(t,n){var i=Xe.getCodePoints(e._gif89Id);this._outputBuffer.writeBytes(i),this._outputBuffer.writeUint16(t),this._outputBuffer.writeUint16(n),this._outputBuffer.writeByte(0),this._outputBuffer.writeByte(0),this._outputBuffer.writeByte(0)}},{key:"finish",value:function(){var t=void 0;return void 0===this._outputBuffer||(0===this._encodedFrames&&(this.writeHeader(this._width,this._height),this.writeApplicationExt()),this.writeGraphicsCtrlExt(this._lastImage),this.addImage(this._lastImage,this._width,this._height),this._outputBuffer.writeByte(e._terminateRecordType),this._lastImage=void 0,this._lastColorMap=void 0,this._encodedFrames=0,t=this._outputBuffer.getBytes(),this._outputBuffer=void 0),t}},{key:"addFrame",value:function(e,t){if(void 0===this._outputBuffer)return this._outputBuffer=new In,e.hasPalette?this._lastImage=e:(this._quantizerType===Bn.neural?this._lastColorMap=new En(e,this._numColors,this._samplingFactor):this._lastColorMap=new On(e,this._numColors),this._lastImage=ei.ditherImage({image:e,quantizer:this._lastColorMap,kernel:this._dither,serpentine:this._ditherSerpentine})),this._lastImageDuration=t,this._width=e.width,void(this._height=e.height);0===this._encodedFrames&&(this.writeHeader(this._width,this._height),this.writeApplicationExt()),this.writeGraphicsCtrlExt(this._lastImage),this.addImage(this._lastImage,this._width,this._height),this._encodedFrames++,e.hasPalette?this._lastImage=e:(this._quantizerType===Bn.neural?this._lastColorMap=new En(e,this._numColors,this._samplingFactor):this._lastColorMap=new On(e,this._numColors),this._lastImage=ei.ditherImage({image:e,quantizer:this._lastColorMap,kernel:this._dither,serpentine:this._ditherSerpentine})),this._lastImageDuration=t}},{key:"encode",value:function(e){var t,n=e.image,i=null!==(t=e.singleFrame)&&void 0!==t&&t;if(!n.hasAnimation||i)return this.addFrame(n),this.finish();this._repeat=n.loopCount;var r,a=et(n.frames);try{for(a.s();!(r=a.n()).done;){var o=r.value;this.addFrame(o,Math.trunc(o.frameDuration/10))}}catch(u){a.e(u)}finally{a.f()}return this.finish()}}]),e}();ti._gif89Id="GIF89a",ti._imageDescRecordType=44,ti._extensionRecordType=33,ti._terminateRecordType=59,ti._applicationExt=255,ti._graphicControlExt=249,ti._eof=-1,ti._bits=12,ti._hSize=5003,ti._masks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];var ni;!function(e){e[e.invalid=0]="invalid",e[e.ico=1]="ico",e[e.cur=2]="cur"}(ni||(ni={}));var ii,ri,ai=n(6235),oi=function(){function e(){Ie(this,e)}return Fe(e,null,[{key:"makeTable",value:function(){for(var e=[],t=0,n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}},{key:"getChecksum",value:function(t){for(var n,i,r,a=e._crcTable,o=null!==(n=t.length)&&void 0!==n?n:t.buffer.length,u=null!==(i=t.position)&&void 0!==i?i:0,s=u+o,l=-1^(null!==(r=t.baseCrc)&&void 0!==r?r:0),h=u;h<s;h++)l=l>>>8^a[255&(l^t.buffer[h])];return(-1^l)>>>0}}]),e}();oi._crcTable=new Uint32Array(oi.makeTable()),function(e){e[e.source=0]="source",e[e.over=1]="over"}(ii||(ii={})),function(e){e[e.none=0]="none",e[e.background=1]="background",e[e.previous=2]="previous"}(ri||(ri={}));var ui,si;!function(e){e[e.grayscale=0]="grayscale",e[e.rgb=2]="rgb",e[e.indexed=3]="indexed",e[e.grayscaleAlpha=4]="grayscaleAlpha",e[e.rgba=6]="rgba"}(ui||(ui={})),function(e){e[e.none=0]="none",e[e.deflate=1]="deflate"}(si||(si={}));var li;!function(e){e[e.none=0]="none",e[e.sub=1]="sub",e[e.up=2]="up",e[e.average=3]="average",e[e.paeth=4]="paeth"}(li||(li={}));var hi=function(){function e(t){var n,i;Ie(this,e),this._repeat=0,this._frames=0,this._sequenceNumber=0,this._isAnimated=!1,this._supportsAnimation=!0,this._filter=null!==(n=null===t||void 0===t?void 0:t.filter)&&void 0!==n?n:li.paeth,this._level=null!==(i=null===t||void 0===t?void 0:t.level)&&void 0!==i?i:6}return Fe(e,[{key:"supportsAnimation",get:function(){return this._supportsAnimation}},{key:"writeHeader",value:function(t){this._output.writeBytes(new Uint8Array([137,80,78,71,13,10,26,10]));var n=new In({bigEndian:!0});n.writeUint32(t.width),n.writeUint32(t.height),n.writeByte(t.bitsPerChannel),n.writeByte(t.hasPalette?ui.indexed:1===t.numChannels?ui.grayscale:2===t.numChannels?ui.grayscaleAlpha:3===t.numChannels?ui.rgb:ui.rgba),n.writeByte(0),n.writeByte(0),n.writeByte(0),e.writeChunk(this._output,"IHDR",n.getBytes())}},{key:"writeICCPChunk",value:function(t){var n=new In({bigEndian:!0}),i=Xe.getCodePoints(t.name);n.writeBytes(i),n.writeByte(0),n.writeByte(0),n.writeBytes(t.compressed()),e.writeChunk(this._output,"iCCP",n.getBytes())}},{key:"writeAnimationControlChunk",value:function(){var t=new In({bigEndian:!0});t.writeUint32(this._frames),t.writeUint32(this._repeat),e.writeChunk(this._output,"acTL",t.getBytes())}},{key:"writeFrameControlChunk",value:function(t){var n=new In({bigEndian:!0});n.writeUint32(this._sequenceNumber),n.writeUint32(t.width),n.writeUint32(t.height),n.writeUint32(0),n.writeUint32(0),n.writeUint16(t.frameDuration),n.writeUint16(1e3),n.writeByte(1),n.writeByte(0),e.writeChunk(this._output,"fcTL",n.getBytes())}},{key:"writePalette",value:function(t){if(t.format===je.uint8&&3===t.numChannels&&256===t.numColors)e.writeChunk(this._output,"PLTE",t.toUint8Array());else{for(var n=new In({size:3*t.numColors,bigEndian:!0}),i=t.numColors,r=0;r<i;++r)n.writeByte(Math.trunc(t.getRed(r))),n.writeByte(Math.trunc(t.getGreen(r))),n.writeByte(Math.trunc(t.getBlue(r)));e.writeChunk(this._output,"PLTE",n.getBytes())}if(4===t.numChannels){for(var a=new In({size:t.numColors,bigEndian:!0}),o=t.numColors,u=0;u<o;++u){var s=Math.trunc(t.getAlpha(u));a.writeByte(s)}e.writeChunk(this._output,"tRNS",a.getBytes())}}},{key:"writeTextChunk",value:function(t,n){var i=new In({bigEndian:!0}),r=Xe.getCodePoints(t),a=Xe.getCodePoints(n);i.writeBytes(r),i.writeByte(0),i.writeBytes(a),e.writeChunk(this._output,"tEXt",i.getBytes())}},{key:"filter",value:function(t,n){for(var i=0,r=t.hasPalette?li.none:this._filter,a=t.buffer,o=t.data.rowStride,u=e.numChannels(t)*t.bitsPerChannel+7>>3,s=t.bitsPerChannel+7>>3,l=0,h=void 0,c=0;c<t.height;++c){var f=void 0!==a?new Uint8Array(a,l,o):new Uint8Array;switch(l+=o,r){case li.sub:i=e.filterSub(f,s,u,n,i);break;case li.up:i=e.filterUp(f,s,n,i,h);break;case li.average:i=e.filterAverage(f,s,u,n,i,h);break;case li.paeth:i=e.filterPaeth(f,s,u,n,i,h);break;default:i=e.filterNone(f,s,n,i)}h=f}}},{key:"addFrame",value:function(t){var n=t;(n.isHdrFormat&&n.format!==je.uint16||n.bitsPerChannel<8&&!n.hasPalette&&n.numChannels>1)&&(n=n.convert({format:je.uint8})),void 0===this._output&&(this._output=new In({bigEndian:!0}),this.writeHeader(n),void 0!==n.iccProfile&&this.writeICCPChunk(n.iccProfile),n.hasPalette&&(void 0!==this._globalQuantizer?this.writePalette(this._globalQuantizer.palette):this.writePalette(n.palette)),this._isAnimated&&this.writeAnimationControlChunk());var i=e.numChannels(n),a=n.format===je.uint16?2:1,o=new Uint8Array(n.width*n.height*i*a+t.height);this.filter(n,o);var u=(0,ai.deflate)(o,{level:this._level});if(void 0!==n.textData){var s,l=et(n.textData);try{for(l.s();!(s=l.n()).done;){var h=(0,r.Z)(s.value,2),c=h[0],f=h[1];this.writeTextChunk(c,f)}}catch(m){l.e(m)}finally{l.f()}}if(this._isAnimated&&(this.writeFrameControlChunk(n),this._sequenceNumber++),this._sequenceNumber<=1)e.writeChunk(this._output,"IDAT",u);else{var d=new In({bigEndian:!0});d.writeUint32(this._sequenceNumber),d.writeBytes(u),e.writeChunk(this._output,"fdAT",d.getBytes()),this._sequenceNumber++}}},{key:"finish",value:function(){var t=void 0;return void 0===this._output||(e.writeChunk(this._output,"IEND",new Uint8Array),this._sequenceNumber=0,t=this._output.getBytes(),this._output=void 0),t}},{key:"encode",value:function(e){var t,n=e.image,i=null!==(t=e.singleFrame)&&void 0!==t&&t;if(!n.hasAnimation||i)this._isAnimated=!1,this.addFrame(n);else{if(this._isAnimated=!0,this._frames=n.frames.length,this._repeat=n.loopCount,n.hasPalette){var r=new En(n);this._globalQuantizer=r;var a,o=et(n.frames);try{for(o.s();!(a=o.n()).done;){var u=a.value;u!==n&&r.addImage(u)}}catch(f){o.e(f)}finally{o.f()}}var s,l=et(n.frames);try{for(l.s();!(s=l.n()).done;){var h=s.value;if(void 0!==this._globalQuantizer){var c=this._globalQuantizer.getIndexImage(h);this.addFrame(c)}else this.addFrame(h)}}catch(f){l.e(f)}finally{l.f()}}return this.finish()}}],[{key:"crc",value:function(e,t){var n=Xe.getCodePoints(e),i=oi.getChecksum({buffer:n});return oi.getChecksum({buffer:t,baseCrc:i})}},{key:"writeChunk",value:function(t,n,i){t.writeUint32(i.length);var r=Xe.getCodePoints(n);t.writeBytes(r),t.writeBytes(i);var a=e.crc(n,i);t.writeUint32(a)}},{key:"write",value:function(e,t,n,i,r){var a=e,o=r;for(a--;a>=0;)i[o++]=t[n+a],a--;return o}},{key:"filterSub",value:function(t,n,i,r,a){var o=a;r[o++]=li.sub;for(var u=0;u<i;u+=n)o=e.write(n,t,u,r,o);for(var s=t.length,l=i;l<s;l+=n)for(var h=0,c=n-1;h<n;++h,--c)r[o++]=t[l+c]-t[l+c-i]&255;return o}},{key:"filterUp",value:function(e,t,n,i,r){var a=i;n[a++]=li.up;for(var o=e.length,u=0;u<o;u+=t)for(var s=0,l=t-1;s<t;++s,--l){var h=void 0!==r?r[u+l]:0;n[a++]=e[u+l]-h&255}return a}},{key:"filterAverage",value:function(e,t,n,i,r,a){var o=r;i[o++]=li.average;for(var u=e.length,s=0;s<u;s+=t)for(var l=0,h=t-1;l<t;++l,--h){var c=s+h,f=c<n?0:e[c-n],d=void 0===a?0:a[c],m=e[c];i[o++]=m-(f+d>>1)}return o}},{key:"paethPredictor",value:function(e,t,n){var i=e+t-n,r=i>e?i-e:e-i,a=i>t?i-t:t-i,o=i>n?i-n:n-i;return r<=a&&r<=o?e:a<=o?t:n}},{key:"filterPaeth",value:function(t,n,i,r,a,o){var u=a;r[u++]=li.paeth;for(var s=t.length,l=0;l<s;l+=n)for(var h=0,c=n-1;h<n;++h,--c){var f=l+c,d=f<i?0:t[f-i],m=void 0===o?0:o[f],g=f<i||void 0===o?0:o[f-i],v=t[f],y=e.paethPredictor(d,m,g);r[u++]=v-y&255}return u}},{key:"filterNone",value:function(t,n,i,r){var a=r;if(i[a++]=li.none,1===n)for(var o=t.length,u=0;u<o;++u)i[a++]=t[u];else for(var s=t.length,l=0;l<s;l+=n)a=e.write(n,t,l,i,a);return a}},{key:"numChannels",value:function(e){return e.hasPalette?1:e.numChannels}}]),e}(),ci=function(){function e(t,n,i,r,a){Ie(this,e),this._hSamples=t,this._maxHSamples=n,this._vSamples=i,this._maxVSamples=r,this._lines=a,this._hScaleShift=1===this._hSamples&&2===this._maxHSamples?1:0,this._vScaleShift=1===this._vSamples&&2===this._maxVSamples?1:0}return Fe(e,[{key:"hSamples",get:function(){return this._hSamples}},{key:"maxHSamples",get:function(){return this._maxHSamples}},{key:"vSamples",get:function(){return this._vSamples}},{key:"maxVSamples",get:function(){return this._maxVSamples}},{key:"lines",get:function(){return this._lines}},{key:"hScaleShift",get:function(){return this._hScaleShift}},{key:"vScaleShift",get:function(){return this._vScaleShift}}]),e}(),fi=function(){function e(t,n,i,r){Ie(this,e),this._version=t,this._flags0=n,this._flags1=i,this._transformCode=r}return Fe(e,[{key:"version",get:function(){return this._version}},{key:"flags0",get:function(){return this._flags0}},{key:"flags1",get:function(){return this._flags1}},{key:"transformCode",get:function(){return this._transformCode}}]),e}(),di=function(){function e(t,n,i,r){Ie(this,e),this._blocks=new Array,this._blocksPerLine=0,this._blocksPerColumn=0,this._huffmanTableDC=[],this._huffmanTableAC=[],this._pred=0,this._hSamples=t,this._vSamples=n,this._quantizationTableList=i,this._quantizationIndex=r}return Fe(e,[{key:"hSamples",get:function(){return this._hSamples}},{key:"vSamples",get:function(){return this._vSamples}},{key:"blocks",get:function(){return this._blocks}},{key:"blocksPerLine",get:function(){return this._blocksPerLine}},{key:"blocksPerColumn",get:function(){return this._blocksPerColumn}},{key:"huffmanTableDC",get:function(){return this._huffmanTableDC},set:function(e){this._huffmanTableDC=e}},{key:"huffmanTableAC",get:function(){return this._huffmanTableAC},set:function(e){this._huffmanTableAC=e}},{key:"pred",get:function(){return this._pred},set:function(e){this._pred=e}},{key:"quantizationTable",get:function(){return this._quantizationTableList[this._quantizationIndex]}},{key:"setBlocks",value:function(e,t,n){this._blocks=e,this._blocksPerLine=t,this._blocksPerColumn=n}}]),e}(),mi=function(){function e(t,n,i,r,a,o,u){Ie(this,e),this._maxHSamples=0,this._maxVSamples=0,this._mcusPerLine=0,this._mcusPerColumn=0,this._components=t,this._componentsOrder=n,this._extended=i,this._progressive=r,this._precision=a,this._scanLines=o,this._samplesPerLine=u}return Fe(e,[{key:"components",get:function(){return this._components}},{key:"componentsOrder",get:function(){return this._componentsOrder}},{key:"extended",get:function(){return this._extended}},{key:"progressive",get:function(){return this._progressive}},{key:"precision",get:function(){return this._precision}},{key:"scanLines",get:function(){return this._scanLines}},{key:"samplesPerLine",get:function(){return this._samplesPerLine}},{key:"maxHSamples",get:function(){return this._maxHSamples}},{key:"maxVSamples",get:function(){return this._maxVSamples}},{key:"mcusPerLine",get:function(){return this._mcusPerLine}},{key:"mcusPerColumn",get:function(){return this._mcusPerColumn}},{key:"prepare",value:function(){var e,t=this,n=et(this._components);try{for(n.s();!(e=n.n()).done;){var i=(0,r.Z)(e.value,2),a=(i[0],i[1]);this._maxHSamples=Math.max(this._maxHSamples,a.hSamples),this._maxVSamples=Math.max(this._maxVSamples,a.vSamples)}}catch(l){n.e(l)}finally{n.f()}this._mcusPerLine=Math.ceil(this._samplesPerLine/8/this._maxHSamples),this._mcusPerColumn=Math.ceil(this._scanLines/8/this._maxVSamples);var o,u=et(this._components);try{var s=function(){var e=(0,r.Z)(o.value,2),n=(e[0],e[1]),i=Math.ceil(Math.ceil(t._samplesPerLine/8)*n.hSamples/t._maxHSamples),a=Math.ceil(Math.ceil(t._scanLines/8)*n.vSamples/t.maxVSamples),u=t._mcusPerLine*n.hSamples,s=t._mcusPerColumn*n.vSamples,l=rt.generate(s,(function(e){return rt.generate(u,(function(e){return new Int32Array(64)}))}));n.setBlocks(l,i,a)};for(u.s();!(o=u.n()).done;)s()}catch(l){u.e(l)}finally{u.f()}}}]),e}(),gi=function(){function e(){Ie(this,e),this._children=[],this._index=0}return Fe(e,[{key:"children",get:function(){return this._children}},{key:"index",get:function(){return this._index}},{key:"incrementIndex",value:function(){this._index++}}]),e}(),vi=function(){function e(){Ie(this,e),this._width=0,this._height=0,this._numFrames=1,this._backgroundColor=void 0}return Fe(e,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"numFrames",get:function(){return this._numFrames}},{key:"backgroundColor",get:function(){return this._backgroundColor}},{key:"setSize",value:function(e,t){this._width=e,this._height=t}}]),e}(),yi=function(){function e(t,n,i,r,a,o,u,s){Ie(this,e),this._thumbWidth=t,this._thumbHeight=n,this._majorVersion=i,this._minorVersion=r,this._densityUnits=a,this._xDensity=o,this._yDensity=u,this._thumbData=s}return Fe(e,[{key:"thumbWidth",get:function(){return this._thumbWidth}},{key:"thumbHeight",get:function(){return this._thumbHeight}},{key:"majorVersion",get:function(){return this._majorVersion}},{key:"minorVersion",get:function(){return this._minorVersion}},{key:"densityUnits",get:function(){return this._densityUnits}},{key:"xDensity",get:function(){return this._xDensity}},{key:"yDensity",get:function(){return this._yDensity}},{key:"thumbData",get:function(){return this._thumbData}}]),e}(),pi=function(){function e(){Ie(this,e)}return Fe(e,null,[{key:"createDctClip",value:function(){var t=new Uint8Array(e._dctClipLength),n=0;for(n=-256;n<0;++n)t[e._dctClipOffset+n]=0;for(n=0;n<256;++n)t[e._dctClipOffset+n]=n;for(n=256;n<512;++n)t[e._dctClipOffset+n]=255;return t}},{key:"quantizeAndInverse",value:function(t,n,i,r){for(var a=r,o=4017,u=799,s=3406,l=2276,h=1567,c=3784,f=5793,d=2896,m=0;m<64;m++)a[m]=n[m]*t[m];for(var g=0,v=0;v<8;++v,g+=8)if(0!==a[1+g]||0!==a[2+g]||0!==a[3+g]||0!==a[4+g]||0!==a[5+g]||0!==a[6+g]||0!==a[7+g]){var y=f*a[0+g]+128>>8,p=f*a[4+g]+128>>8,_=a[2+g],b=a[6+g],k=d*(a[1+g]-a[7+g])+128>>8,x=d*(a[1+g]+a[7+g])+128>>8,w=a[3+g]<<4,C=a[5+g]<<4,S=y-p+1>>1;y=y+p+1>>1,p=S,S=_*c+b*h+128>>8,_=_*h-b*c+128>>8,b=S,S=k-C+1>>1,k=k+C+1>>1,C=S,S=x+w+1>>1,w=x-w+1>>1,x=S,S=y-b+1>>1,y=y+b+1>>1,b=S,S=p-_+1>>1,p=p+_+1>>1,_=S,S=k*l+x*s+2048>>12,k=k*s-x*l+2048>>12,x=S,S=w*u+C*o+2048>>12,w=w*o-C*u+2048>>12,C=S,a[0+g]=y+x,a[7+g]=y-x,a[1+g]=p+C,a[6+g]=p-C,a[2+g]=_+w,a[5+g]=_-w,a[3+g]=b+k,a[4+g]=b-k}else{var P=f*a[0+g]+512>>10;a[g+0]=P,a[g+1]=P,a[g+2]=P,a[g+3]=P,a[g+4]=P,a[g+5]=P,a[g+6]=P,a[g+7]=P}for(var M=0;M<8;++M){var z=M;if(0!==a[8+z]||0!==a[16+z]||0!==a[24+z]||0!==a[32+z]||0!==a[40+z]||0!==a[48+z]||0!==a[56+z]){var A=f*a[0+z]+2048>>12,I=f*a[32+z]+2048>>12,R=a[16+z],F=a[48+z],T=d*(a[8+z]-a[56+z])+2048>>12,N=d*(a[8+z]+a[56+z])+2048>>12,B=a[24+z],E=a[40+z],L=A-I+1>>1;A=A+I+1>>1,I=L,L=R*c+F*h+2048>>12,R=R*h-F*c+2048>>12,F=L,L=T-E+1>>1,T=T+E+1>>1,E=L,L=N+B+1>>1,B=N-B+1>>1,N=L,L=A-F+1>>1,A=A+F+1>>1,F=L,L=I-R+1>>1,I=I+R+1>>1,R=L,L=T*l+N*s+2048>>12,T=T*s-N*l+2048>>12,N=L,L=B*u+E*o+2048>>12,B=B*o-E*u+2048>>12,E=L,a[0+z]=A+N,a[56+z]=A-N,a[8+z]=I+E,a[48+z]=I-E,a[16+z]=R+B,a[40+z]=R-B,a[24+z]=F+T,a[32+z]=F-T}else{var D=f*r[M]+8192>>14;a[0+z]=D,a[8+z]=D,a[16+z]=D,a[24+z]=D,a[32+z]=D,a[40+z]=D,a[48+z]=D,a[56+z]=D}}for(var O=0;O<64;++O)i[O]=e._dctClip[e._dctClipOffset+128+(a[O]+8>>4)]}},{key:"getImageFromJpeg",value:function(e){var t=e.exifData.imageIfd.hasOrientation?e.exifData.imageIfd.orientation:0,n=e.width,i=e.height,r=t>=5&&t<=8,a=new An({width:r?i:n,height:r?n:i});a.exifData=Zt.from(e.exifData),a.exifData.imageIfd.orientation=void 0;var o=void 0,u=void 0,s=void 0,l=void 0,h=void 0,c=void 0,f=void 0,d=void 0,m=!1,g=i-1,v=n-1;switch(e.components.length){case 1:for(var y=(o=e.components[0]).lines,p=o.hScaleShift,_=o.vScaleShift,b=0;b<i;b++){h=y[b>>_];for(var k=0;k<n;k++){var x=h[k>>p];2===t?a.setPixelRgb(v-k,b,x,x,x):3===t?a.setPixelRgb(v-k,g-b,x,x,x):4===t?a.setPixelRgb(k,g-b,x,x,x):5===t?a.setPixelRgb(b,k,x,x,x):6===t?a.setPixelRgb(g-b,k,x,x,x):7===t?a.setPixelRgb(g-b,v-k,x,x,x):8===t?a.setPixelRgb(b,v-k,x,x,x):a.setPixelRgb(k,b,x,x,x)}}break;case 2:break;case 3:m=!0,o=e.components[0],u=e.components[1],s=e.components[2];for(var w=o.lines,C=u.lines,S=s.lines,P=o.hScaleShift,M=o.vScaleShift,z=u.hScaleShift,A=u.vScaleShift,I=s.hScaleShift,R=s.vScaleShift,F=0;F<i;F++){var T=F>>A,N=F>>R;h=w[F>>M],c=C[T],f=S[N];for(var B=0;B<n;B++){var E=B>>z,L=B>>I,D=h[B>>P]<<8,O=c[E]-128,U=f[L]-128,V=D+359*U+128,Z=D-88*O-183*U+128,j=D+454*O+128;V=Te.clampInt255(V>>8),Z=Te.clampInt255(Z>>8),j=Te.clampInt255(j>>8),2===t?a.setPixelRgb(v-B,F,V,Z,j):3===t?a.setPixelRgb(v-B,g-F,V,Z,j):4===t?a.setPixelRgb(B,g-F,V,Z,j):5===t?a.setPixelRgb(F,B,V,Z,j):6===t?a.setPixelRgb(g-F,B,V,Z,j):7===t?a.setPixelRgb(g-F,v-B,V,Z,j):8===t?a.setPixelRgb(F,v-B,V,Z,j):a.setPixelRgb(B,F,V,Z,j)}}break;case 4:if(void 0===e.adobe)throw new We("Unsupported color mode (4 components)");m=!1,0!==e.adobe.transformCode&&(m=!0),o=e.components[0],u=e.components[1],s=e.components[2],l=e.components[3];for(var H=o.lines,W=u.lines,q=s.lines,G=l.lines,$=o.hScaleShift,Y=o.vScaleShift,X=u.hScaleShift,Q=u.vScaleShift,K=s.hScaleShift,J=s.vScaleShift,ee=l.hScaleShift,te=l.vScaleShift,ne=0;ne<e.height;ne++){var ie=ne>>Q,re=ne>>J,ae=ne>>te;h=H[ne>>Y],c=W[ie],f=q[re],d=G[ae];for(var oe=0;oe<e.width;oe++){var ue=oe>>$,se=oe>>X,le=oe>>K,he=oe>>ee,ce=0,fe=0,de=0,me=0;if(m){de=h[ue];var ge=c[se],ve=f[le];me=d[he],ce=255-Te.clampInt255(de+1.402*(ve-128)),fe=255-Te.clampInt255(de-.3441363*(ge-128)-.71413636*(ve-128)),de=255-Te.clampInt255(de+1.772*(ge-128))}else ce=h[ue],fe=c[se],de=f[le],me=d[he];var ye=ce*me>>8,pe=fe*me>>8,_e=de*me>>8;2===t?a.setPixelRgb(v-oe,ne,ye,pe,_e):3===t?a.setPixelRgb(v-oe,g-ne,ye,pe,_e):4===t?a.setPixelRgb(oe,g-ne,ye,pe,_e):5===t?a.setPixelRgb(ne,oe,ye,pe,_e):6===t?a.setPixelRgb(g-ne,oe,ye,pe,_e):7===t?a.setPixelRgb(g-ne,v-oe,ye,pe,_e):8===t?a.setPixelRgb(ne,v-oe,ye,pe,_e):a.setPixelRgb(oe,ne,ye,pe,_e)}}break;default:throw new We("Unsupported color mode")}return a}}]),e}();pi._dctClipOffset=256,pi._dctClipLength=768,pi._dctClip=pi.createDctClip();var _i,bi=Fe((function e(){Ie(this,e)})),ki=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),(i=t.call(this))._children=e,i}return Fe(n,[{key:"children",get:function(){return this._children}}]),n}(bi),xi=function(e){Be(n,e);var t=Ue(n);function n(e){var i;return Ie(this,n),(i=t.call(this))._value=e,i}return Fe(n,[{key:"value",get:function(){return this._value}}]),n}(bi);!function(e){e[e.sof0=192]="sof0",e[e.sof1=193]="sof1",e[e.sof2=194]="sof2",e[e.sof3=195]="sof3",e[e.sof5=197]="sof5",e[e.sof6=198]="sof6",e[e.sof7=199]="sof7",e[e.jpg=200]="jpg",e[e.sof9=201]="sof9",e[e.sof10=202]="sof10",e[e.sof11=203]="sof11",e[e.sof13=205]="sof13",e[e.sof14=206]="sof14",e[e.sof15=207]="sof15",e[e.dht=196]="dht",e[e.dac=204]="dac",e[e.rst0=208]="rst0",e[e.rst1=209]="rst1",e[e.rst2=210]="rst2",e[e.rst3=211]="rst3",e[e.rst4=212]="rst4",e[e.rst5=213]="rst5",e[e.rst6=214]="rst6",e[e.rst7=215]="rst7",e[e.soi=216]="soi",e[e.eoi=217]="eoi",e[e.sos=218]="sos",e[e.dqt=219]="dqt",e[e.dnl=220]="dnl",e[e.dri=221]="dri",e[e.dhp=222]="dhp",e[e.exp=223]="exp",e[e.app0=224]="app0",e[e.app1=225]="app1",e[e.app2=226]="app2",e[e.app3=227]="app3",e[e.app4=228]="app4",e[e.app5=229]="app5",e[e.app6=230]="app6",e[e.app7=231]="app7",e[e.app8=232]="app8",e[e.app9=233]="app9",e[e.app10=234]="app10",e[e.app11=235]="app11",e[e.app12=236]="app12",e[e.app13=237]="app13",e[e.app14=238]="app14",e[e.app15=239]="app15",e[e.jpg0=240]="jpg0",e[e.jpg13=253]="jpg13",e[e.com=254]="com",e[e.tem=1]="tem",e[e.error=256]="error"}(_i||(_i={}));var wi=function(){function e(t,n,i,r,a,o,u,s){Ie(this,e),this._bitsData=0,this._bitsCount=0,this._eobrun=0,this._successiveACState=0,this._successiveACNextValue=0,this._input=t,this._frame=n,this._precision=n.precision,this._samplesPerLine=n.samplesPerLine,this._scanLines=n.scanLines,this._mcusPerLine=n.mcusPerLine,this._progressive=n.progressive,this._maxH=n.maxHSamples,this._maxV=n.maxVSamples,this._components=i,this._resetInterval=s,this._spectralStart=r,this._spectralEnd=a,this._successivePrev=o,this._successive=u}return Fe(e,[{key:"input",get:function(){return this._input}},{key:"frame",get:function(){return this._frame}},{key:"precision",get:function(){return this._precision}},{key:"samplesPerLine",get:function(){return this._samplesPerLine}},{key:"scanLines",get:function(){return this._scanLines}},{key:"mcusPerLine",get:function(){return this._mcusPerLine}},{key:"progressive",get:function(){return this._progressive}},{key:"maxH",get:function(){return this._maxH}},{key:"maxV",get:function(){return this._maxV}},{key:"components",get:function(){return this._components}},{key:"resetInterval",get:function(){return this._resetInterval}},{key:"spectralStart",get:function(){return this._spectralStart}},{key:"spectralEnd",get:function(){return this._spectralEnd}},{key:"successivePrev",get:function(){return this._successivePrev}},{key:"successive",get:function(){return this._successive}},{key:"bitsData",get:function(){return this._bitsData}},{key:"bitsCount",get:function(){return this._bitsCount}},{key:"eobrun",get:function(){return this._eobrun}},{key:"successiveACState",get:function(){return this._successiveACState}},{key:"successiveACNextValue",get:function(){return this._successiveACNextValue}},{key:"readBit",value:function(){if(this.bitsCount>0)return this._bitsCount--,this._bitsData>>this._bitsCount&1;if(!this._input.isEOS){if(this._bitsData=this._input.readByte(),255===this._bitsData){var e=this.input.readByte();if(0!==e){var t=(this._bitsData<<8|e).toString(16);throw new We("unexpected marker: ".concat(t))}}return this._bitsCount=7,this._bitsData>>7&1}}},{key:"decodeHuffman",value:function(e){for(var t=new ki(e),n=void 0;void 0!==(n=this.readBit());)if(t instanceof ki&&(t=t.children[n]),t instanceof xi)return t.value}},{key:"receive",value:function(e){for(var t=0,n=e;n>0;){var i=this.readBit();if(void 0===i)return;t=t<<1|i,n--}return t}},{key:"receiveAndExtend",value:function(e){if(1===e)return 1===this.readBit()?1:-1;var t=this.receive(e);return t>=1<<(null!==e&&void 0!==e?e:0)-1?t:t+(-1<<(null!==e&&void 0!==e?e:0))+1}},{key:"decodeBaseline",value:function(e,t){var n=this.decodeHuffman(e.huffmanTableDC),i=0===n?0:this.receiveAndExtend(n);e.pred+=i,t[0]=e.pred;for(var r=1;r<64;){var a=this.decodeHuffman(e.huffmanTableAC),o=15&a,u=a>>4;if(0!==o){r+=u,o=this.receiveAndExtend(o),t[Ci.dctZigZag[r]]=o,r++}else{if(u<15)break;r+=16}}}},{key:"decodeDCFirst",value:function(e,t){var n=this.decodeHuffman(e.huffmanTableDC),i=0===n?0:this.receiveAndExtend(n)<<this._successive;e.pred+=i,t[0]=e.pred}},{key:"decodeDCSuccessive",value:function(e,t){t[0]|=this.readBit()<<this._successive}},{key:"decodeACFirst",value:function(e,t){if(this._eobrun>0)this._eobrun--;else for(var n=this._spectralStart,i=this._spectralEnd;n<=i;){var r=this.decodeHuffman(e.huffmanTableAC),a=15&r,o=r>>4;if(0!==a){n+=o,t[Ci.dctZigZag[n]]=this.receiveAndExtend(a)*(1<<this._successive),n++}else{if(o<15){this._eobrun=this.receive(o)+(1<<o)-1;break}n+=16}}}},{key:"decodeACSuccessive",value:function(e,t){for(var n=this._spectralStart,i=this._spectralEnd,r=0,a=0;n<=i;){var o=Ci.dctZigZag[n];switch(this._successiveACState){case 0:var u=this.decodeHuffman(e.huffmanTableAC);if(void 0===u)throw new We("Invalid progressive encoding");if(a=u>>4,0===(r=15&u))a<15?(this._eobrun=this.receive(a)+(1<<a),this._successiveACState=4):(a=16,this._successiveACState=1);else{if(1!==r)throw new We("invalid ACn encoding");this._successiveACNextValue=this.receiveAndExtend(r),this._successiveACState=0!==a?2:3}continue;case 1:case 2:0!==t[o]?t[o]+=this.readBit()<<this._successive:0===--a&&(this._successiveACState=2===this._successiveACState?3:0);break;case 3:0!==t[o]?t[o]+=this.readBit()<<this._successive:(t[o]=this._successiveACNextValue<<this._successive,this._successiveACState=0);break;case 4:0!==t[o]&&(t[o]+=this.readBit()<<this._successive)}n++}4===this._successiveACState&&(this._eobrun--,0===this._eobrun&&(this._successiveACState=0))}},{key:"decodeMcu",value:function(e,t,n,i,r){var a=Math.floor(n/this._mcusPerLine),o=n%this._mcusPerLine,u=a*e.vSamples+i,s=o*e.hSamples+r;u>=e.blocks.length||(s>=e.blocks[u].length||t.call(this,e,e.blocks[u][s]))}},{key:"decodeBlock",value:function(e,t,n){var i=Math.floor(n/e.blocksPerLine),r=n%e.blocksPerLine;t.call(this,e,e.blocks[i][r])}},{key:"decode",value:function(){var e=this._components.length,t=void 0,n=void 0;n=this._progressive?0===this._spectralStart?0===this._successivePrev?this.decodeDCFirst:this.decodeDCSuccessive:0===this._successivePrev?this.decodeACFirst:this.decodeACSuccessive:this.decodeBaseline;var i=0,r=void 0;r=1===e?this._components[0].blocksPerLine*this._components[0].blocksPerColumn:this._mcusPerLine*this._frame.mcusPerColumn,void 0!==this._resetInterval&&0!==this._resetInterval||(this._resetInterval=r);for(var a=void 0,o=void 0;i<r;){for(var u=0;u<e;u++)this._components[u].pred=0;if(this._eobrun=0,1===e){t=this._components[0];for(var s=0;s<this._resetInterval;s++)this.decodeBlock(t,n,i),i++}else for(var l=0;l<this._resetInterval;l++){for(var h=0;h<e;h++){a=(t=this.components[h]).hSamples,o=t.vSamples;for(var c=0;c<o;c++)for(var f=0;f<a;f++)this.decodeMcu(t,n,i,c,f)}i++}this._bitsCount=0;var d=this._input.getByte(0),m=this._input.getByte(1);if(255===d){if(!(m>=_i.rst0&&m<=_i.rst7))break;this._input.skip(2)}}}}]),e}(),Ci=function(){function e(){Ie(this,e),this._exifData=new Zt,this._quantizationTables=rt.fill(e.numQuantizationTables,void 0),this._frames=new Array,this._huffmanTablesAC=[],this._huffmanTablesDC=[],this._components=new Array}return Fe(e,[{key:"input",get:function(){return this._input}},{key:"jfif",get:function(){return this._jfif}},{key:"adobe",get:function(){return this._adobe}},{key:"frame",get:function(){return this._frame}},{key:"resetInterval",get:function(){return this._resetInterval}},{key:"comment",get:function(){return this._comment}},{key:"exifData",get:function(){return this._exifData}},{key:"quantizationTables",get:function(){return this._quantizationTables}},{key:"frames",get:function(){return this._frames}},{key:"huffmanTablesAC",get:function(){return this._huffmanTablesAC}},{key:"huffmanTablesDC",get:function(){return this._huffmanTablesDC}},{key:"components",get:function(){return this._components}},{key:"width",get:function(){return this._frame.samplesPerLine}},{key:"height",get:function(){return this._frame.scanLines}},{key:"readMarkers",value:function(){var e=this.nextMarker();if(e!==_i.soi)throw new We("Start Of Image marker not found.");for(e=this.nextMarker();e!==_i.eoi&&!this._input.isEOS;){var t=this.readBlock();switch(e){case _i.app0:case _i.app1:case _i.app2:case _i.app3:case _i.app4:case _i.app5:case _i.app6:case _i.app7:case _i.app8:case _i.app9:case _i.app10:case _i.app11:case _i.app12:case _i.app13:case _i.app14:case _i.app15:case _i.com:this.readAppData(e,t);break;case _i.dqt:this.readDQT(t);break;case _i.sof0:case _i.sof1:case _i.sof2:this.readFrame(e,t);break;case _i.sof3:case _i.sof5:case _i.sof6:case _i.sof7:case _i.jpg:case _i.sof9:case _i.sof10:case _i.sof11:case _i.sof13:case _i.sof14:case _i.sof15:throw new We("Unhandled frame type ".concat(e.toString(16)));case _i.dht:this.readDHT(t);break;case _i.dri:this.readDRI(t);break;case _i.sos:this.readSOS(t);break;case 255:255!==this._input.getByte(0)&&this._input.skip(-1);break;default:if(255===this._input.getByte(-3)&&this._input.getByte(-2)>=192&&this._input.getByte(-2)<=254){this._input.skip(-3);break}if(0!==e)throw new We("Unknown JPEG marker ".concat(e.toString(16)))}e=this.nextMarker()}}},{key:"skipBlock",value:function(){var e=this._input.readUint16();if(e<2)throw new We("Invalid Block");this._input.skip(e-2)}},{key:"validate",value:function(e){this._input=new Ke({buffer:e,bigEndian:!0});var t=this._input.peekBytes(2);if(255!==t.getByte(0)||216!==t.getByte(1))return!1;var n=this.nextMarker();if(n!==_i.soi)return!1;var i=!1,r=!1;for(n=this.nextMarker();n!==_i.eoi&&!this._input.isEOS;){var a=this._input.readUint16();if(a<2)break;switch(this._input.skip(a-2),n){case _i.sof0:case _i.sof1:case _i.sof2:i=!0;break;case _i.sos:r=!0}n=this.nextMarker()}return i&&r}},{key:"readInfo",value:function(e){this._input=new Ke({buffer:e,bigEndian:!0});var t=this.nextMarker();if(t===_i.soi){var n=new vi,i=!1,r=!1;for(t=this.nextMarker();t!==_i.eoi&&!this._input.isEOS;){switch(t){case _i.sof0:case _i.sof1:case _i.sof2:i=!0,this.readFrame(t,this.readBlock());break;case _i.sos:r=!0,this.skipBlock();break;default:this.skipBlock()}t=this.nextMarker()}return void 0!==this._frame&&(n.setSize(this._frame.samplesPerLine,this._frame.scanLines),this._frame=void 0),this.frames.length=0,i&&r?n:void 0}}},{key:"read",value:function(t){if(this._input=new Ke({buffer:t,bigEndian:!0}),this.readMarkers(),1!==this._frames.length)throw new We("Only single frame JPEGs supported");if(void 0!==this._frame)for(var n=0;n<this._frame.componentsOrder.length;++n){var i=this._frame.components.get(this._frame.componentsOrder[n]);void 0!==i&&this.components.push(new ci(i.hSamples,this._frame.maxHSamples,i.vSamples,this._frame.maxVSamples,e.buildComponentData(i)))}}},{key:"getImage",value:function(){return pi.getImageFromJpeg(this)}},{key:"readBlock",value:function(){var e=this._input.readUint16();if(e<2)throw new We("Invalid Block");return this._input.readBytes(e-2)}},{key:"nextMarker",value:function(){var e=0;if(this._input.isEOS)return e;do{do{e=this._input.readByte()}while(255!==e&&!this._input.isEOS);if(this._input.isEOS)return e;do{e=this._input.readByte()}while(255===e&&!this._input.isEOS)}while(0===e&&!this._input.isEOS);return e}},{key:"readExifData",value:function(e){1165519206===e.readUint32()&&0===e.readUint16()&&this.exifData.read(e)}},{key:"readAppData",value:function(e,t){var n=t;if(e===_i.app0){if(74===n.getByte(0)&&70===n.getByte(1)&&73===n.getByte(2)&&70===n.getByte(3)&&0===n.getByte(4)){var i=n.getByte(5),r=n.getByte(6),a=n.getByte(7),o=n.getByte(8)<<8|n.getByte(9),u=n.getByte(10)<<8|n.getByte(11),s=n.getByte(12),l=n.getByte(13),h=3*s*l,c=n.subarray(14+h,void 0,14);this._jfif=new yi(s,l,i,r,a,o,u,c)}}else if(e===_i.app1)this.readExifData(n);else if(e===_i.app14){if(65===n.getByte(0)&&100===n.getByte(1)&&111===n.getByte(2)&&98===n.getByte(3)&&101===n.getByte(4)&&0===n.getByte(5)){var f=n.getByte(6),d=n.getByte(7)<<8|n.getByte(8),m=n.getByte(9)<<8|n.getByte(10),g=n.getByte(11);this._adobe=new fi(f,d,m,g)}}else if(e===_i.com)try{this._comment=n.readStringUtf8()}catch(v){}}},{key:"readDQT",value:function(t){for(;!t.isEOS;){var n=t.readByte(),i=n>>4;if((n&=15)>=e.numQuantizationTables)throw new We("Invalid number of quantization tables");void 0===this._quantizationTables[n]&&(this._quantizationTables[n]=new Int16Array(64));var r=this._quantizationTables[n];if(void 0!==r)for(var a=0;a<e.dctSize2;a++){var o=0!==i?t.readUint16():t.readByte();r[e.dctZigZag[a]]=o}}if(!t.isEOS)throw new We("Bad length for DQT block")}},{key:"readFrame",value:function(e,t){if(void 0!==this._frame)throw new We("Duplicate JPG frame data found.");for(var n=e===_i.sof1,i=e===_i.sof2,r=t.readByte(),a=t.readUint16(),o=t.readUint16(),u=t.readByte(),s=new Map,l=new Array,h=0;h<u;h++){var c=t.readByte(),f=t.readByte(),d=f>>4&15,m=15&f,g=t.readByte();l.push(c);var v=new di(d,m,this._quantizationTables,g);s.set(c,v)}this._frame=new mi(s,l,n,i,r,a,o),this._frame.prepare(),this.frames.push(this._frame)}},{key:"readDHT",value:function(t){for(;!t.isEOS;){for(var n=t.readByte(),i=new Uint8Array(16),r=0,a=0;a<16;a++)i[a]=t.readByte(),r+=i[a];var o=t.readBytes(r).toUint8Array(),u=[];0!==(16&n)?(n-=16,u=this._huffmanTablesAC):u=this._huffmanTablesDC,u.length<=n&&(u.length=n+1),u[n]=e.buildHuffmanTable(i,o)}}},{key:"readDRI",value:function(e){this._resetInterval=e.readUint16()}},{key:"readSOS",value:function(t){var n=t.readByte();if(n<1||n>e.maxCompsInScan)throw new We("Invalid SOS block");for(var i=new Array,r=0;r<n;r++){var a=t.readByte(),o=t.readByte();if(!this._frame.components.has(a))throw new We("Invalid Component in SOS block");var u=this._frame.components.get(a);if(void 0!==u){var s=o>>4&15,l=15&o;s<this._huffmanTablesDC.length&&(u.huffmanTableDC=this._huffmanTablesDC[s]),l<this._huffmanTablesAC.length&&(u.huffmanTableAC=this._huffmanTablesAC[l]),i.push(u)}}var h=t.readByte(),c=t.readByte(),f=t.readByte(),d=f>>4&15,m=15&f;new wi(this._input,this._frame,i,h,c,d,m,this._resetInterval).decode()}}],[{key:"buildHuffmanTable",value:function(e,t){for(var n=0,i=new Array,r=16;r>0&&0===e[r-1];)r--;i.push(new gi);for(var a=i[0],o=0;o<r;o++){for(var u=0;u<e[o];u++){for((a=i.pop()).children.length<=a.index&&(a.children.length=a.index+1),a.children[a.index]=new xi(t[n]);a.index>0;)a=i.pop();for(a.incrementIndex(),i.push(a);i.length<=o;){var s=new gi;i.push(s),a.children.length<=a.index&&(a.children.length=a.index+1),a.children[a.index]=new ki(s.children),a=s}n++}if(o+1<r){var l=new gi;i.push(l),a.children.length<=a.index&&(a.children.length=a.index+1),a.children[a.index]=new ki(l.children),a=l}}return i[0].children}},{key:"buildComponentData",value:function(e){for(var t=e.blocksPerLine,n=e.blocksPerColumn,i=t<<3,r=new Int32Array(64),a=new Uint8Array(64),o=rt.fill(8*n,void 0),u=0,s=0;s<n;s++){for(var l=s<<3,h=0;h<8;h++)o[u++]=new Uint8Array(i);for(var c=0;c<t;c++){pi.quantizeAndInverse(e.quantizationTable,e.blocks[s][c],a,r);for(var f=0,d=c<<3,m=0;m<8;m++)for(var g=o[l+m],v=0;v<8;v++)g[d+v]=a[f++]}}return o}},{key:"toFix",value:function(e){return 4294967295&Math.trunc(1048576*e)}}]),e}();Ci.dctZigZag=[0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63],Ci.dctSize=8,Ci.dctSize2=64,Ci.numQuantizationTables=4,Ci.numHuffmanTables=4,Ci.numArithTables=16,Ci.maxCompsInScan=4,Ci.maxSamplingFactor=4;var Si,Pi=function(){function e(){Ie(this,e)}return Fe(e,[{key:"numFrames",get:function(){return void 0!==this._info?this._info.numFrames:0}},{key:"isValidFile",value:function(e){return(new Ci).validate(e)}},{key:"startDecode",value:function(e){return this._input=new Ke({buffer:e,bigEndian:!0}),this._info=(new Ci).readInfo(e),this._info}},{key:"decodeFrame",value:function(e){if(void 0!==this._input){var t=new Ci;if(t.read(this._input.buffer),1!==t.frames.length)throw new We("Only single frame JPEGs supported.");return t.getImage()}}},{key:"decode",value:function(e){var t=e.bytes,n=new Ci;if(n.read(t),1!==n.frames.length)throw new We("Only single frame JPEGs supported.");return n.getImage()}}]),e}();!function(e){e[e.yuv444=0]="yuv444",e[e.yuv420=1]="yuv420"}(Si||(Si={}));var Mi,zi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;Ie(this,e),this._tableY=new Uint8Array(64),this._tableUv=new Uint8Array(64),this._fdTableY=new Float32Array(64),this._fdTableUv=new Float32Array(64),this._bitCode=rt.fill(65535,void 0),this._category=rt.fill(65535,void 0),this._outputfDCTQuant=rt.fill(64,void 0),this._du=rt.fill(64,void 0),this._tableRgbYuv=new Int32Array(2048),this._byteNew=0,this._bytePos=7,this._supportsAnimation=!1,this.initHuffmanTable(),this.initCategoryNumber(),this.initRgbYuvTable(),this.setQuality(t)}return Fe(e,[{key:"supportsAnimation",get:function(){return this._supportsAnimation}},{key:"calculateYUV",value:function(e,t,n,i,r,a,o,u){for(var s=0;s<64;s++){var l=s>>3,h=7&s,c=n+l,f=t+h;c>=r&&(c-=n+1+l-r),f>=i&&(f-=t+h-i+1);var d=e.getPixel(f,c);d.format!==je.uint8&&(d=d.convert({format:je.uint8}));var m=Math.trunc(d.r),g=Math.trunc(d.g),v=Math.trunc(d.b);a[s]=(this._tableRgbYuv[m]+this._tableRgbYuv[g+256]+this._tableRgbYuv[v+512]>>16)-128,o[s]=(this._tableRgbYuv[m+768]+this._tableRgbYuv[g+1024]+this._tableRgbYuv[v+1280]>>16)-128,u[s]=(this._tableRgbYuv[m+1280]+this._tableRgbYuv[g+1536]+this._tableRgbYuv[v+1792]>>16)-128}}},{key:"initHuffmanTable",value:function(){this._ydcHuffman=e.computeHuffmanTable(e._stdDcLuminanceNrCodes,e._stdDcLuminanceValues),this._uvdcHuffman=e.computeHuffmanTable(e._stdDcChrominanceNrCodes,e._stdDcChrominanceValues),this._yacHuffman=e.computeHuffmanTable(e._stdAcLuminanceNrCodes,e._stdAcLuminanceValues),this._uvacHuffman=e.computeHuffmanTable(e._stdAcChrominanceNrCodes,e._stdAcChrominanceValues)}},{key:"initCategoryNumber",value:function(){for(var e=1,t=2,n=1;n<=15;n++){for(var i=e;i<t;i++)this._category[32767+i]=n,this._bitCode[32767+i]=[i,n];for(var r=-(t-1);r<=-e;r++)this._category[32767+r]=n,this._bitCode[32767+r]=[t-1+r,n];e<<=1,t<<=1}}},{key:"initRgbYuvTable",value:function(){for(var e=0;e<256;e++)this._tableRgbYuv[e]=19595*e,this._tableRgbYuv[e+256]=38470*e,this._tableRgbYuv[e+512]=7471*e+32768,this._tableRgbYuv[e+768]=-11059*e,this._tableRgbYuv[e+1024]=-21709*e,this._tableRgbYuv[e+1280]=32768*e+8421375,this._tableRgbYuv[e+1536]=-27439*e,this._tableRgbYuv[e+1792]=-5329*e}},{key:"setQuality",value:function(e){var t=Te.clampInt(e,1,100);if(this._currentQuality!==t){var n=0;n=t<50?Math.floor(5e3/t):Math.floor(200-2*t),this.initQuantTables(n),this._currentQuality=t}}},{key:"initQuantTables",value:function(t){for(var n=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var r=Math.floor((n[i]*t+50)/100);r<1?r=1:r>255&&(r=255),this._tableY[e._zigzag[i]]=r}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var u=Math.floor((a[o]*t+50)/100);u<1?u=1:u>255&&(u=255),this._tableUv[e._zigzag[o]]=u}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,h=0;h<8;h++)for(var c=0;c<8;c++)this._fdTableY[l]=1/(this._tableY[e._zigzag[l]]*s[h]*s[c]*8),this._fdTableUv[l]=1/(this._tableUv[e._zigzag[l]]*s[h]*s[c]*8),l++}},{key:"fDCTQuant",value:function(e,t){for(var n=0,i=0;i<8;++i){var r=e[n],a=e[n+1],o=e[n+2],u=e[n+3],s=e[n+4],l=e[n+5],h=e[n+6],c=e[n+7],f=r+c,d=r-c,m=a+h,g=a-h,v=o+l,y=o-l,p=u+s,_=u-s,b=f+p,k=f-p,x=m+v,w=m-v;e[n]=b+x,e[n+4]=b-x;var C=.707106781*(w+k);e[n+2]=k+C,e[n+6]=k-C;var S=.382683433*((b=_+y)-(w=g+d)),P=.5411961*b+S,M=1.306562965*w+S,z=.707106781*(x=y+g),A=d+z,I=d-z;e[n+5]=I+P,e[n+3]=I-P,e[n+1]=A+M,e[n+7]=A-M,n+=8}n=0;for(var R=0;R<8;++R){var F=e[n],T=e[n+8],N=e[n+16],B=e[n+24],E=e[n+32],L=e[n+40],D=e[n+48],O=e[n+56],U=F+O,V=F-O,Z=T+D,j=T-D,H=N+L,W=N-L,q=B+E,G=B-E,$=U+q,Y=U-q,X=Z+H,Q=Z-H;e[n]=$+X,e[n+32]=$-X;var K=.707106781*(Q+Y);e[n+16]=Y+K,e[n+48]=Y-K;var J=.382683433*(($=G+W)-(Q=j+V)),ee=.5411961*$+J,te=1.306562965*Q+J,ne=.707106781*(X=W+j),ie=V+ne,re=V-ne;e[n+40]=re+ee,e[n+24]=re-ee,e[n+8]=ie+te,e[n+56]=ie-te,n++}for(var ae=0;ae<64;++ae){var oe=e[ae]*t[ae];this._outputfDCTQuant[ae]=oe>0?Math.trunc(oe+.5):Math.trunc(oe-.5)}return this._outputfDCTQuant}},{key:"writeDQT",value:function(t){e.writeMarker(t,_i.dqt),t.writeUint16(132),t.writeByte(0);for(var n=0;n<64;n++)t.writeByte(this._tableY[n]);t.writeByte(1);for(var i=0;i<64;i++)t.writeByte(this._tableUv[i])}},{key:"writeBits",value:function(e,t){for(var n=t[0],i=t[1]-1;i>=0;)0!==(n&1<<i)&&(this._byteNew|=1<<this._bytePos),i--,this._bytePos--,this._bytePos<0&&(255===this._byteNew?(e.writeByte(255),e.writeByte(0)):e.writeByte(this._byteNew),this._bytePos=7,this._byteNew=0)}},{key:"resetBits",value:function(){this._byteNew=0,this._bytePos=7}},{key:"processDU",value:function(t,n,i,r,a,o){for(var u=a[0],s=a[240],l=this.fDCTQuant(n,i),h=r,c=0,f=0;f<64;++f)this._du[e._zigzag[f]]=l[f];var d=this._du[0]-h;h=this._du[0],0===d?this.writeBits(t,o[0]):(c=32767+d,this.writeBits(t,o[this._category[c]]),this.writeBits(t,this._bitCode[c]));for(var m=63;m>0&&0===this._du[m];m--);if(0===m)return this.writeBits(t,u),h;for(var g=1;g<=m;){for(var v=g;0===this._du[g]&&g<=m;++g);var y=g-v;if(y>=16){for(var p=y>>4,_=1;_<=p;++_)this.writeBits(t,s);y&=15}c=32767+this._du[g],this.writeBits(t,a[(y<<4)+this._category[c]]),this.writeBits(t,this._bitCode[c]),g++}return 63!==m&&this.writeBits(t,u),h}},{key:"encode",value:function(t){var n,i=t.image,r=null!==(n=t.chroma)&&void 0!==n?n:Si.yuv444,a=new In({bigEndian:!0});e.writeMarker(a,_i.soi),e.writeAPP0(a),e.writeAPP1(a,i.exifData),this.writeDQT(a),e.writeSOF0(a,i.width,i.height,r),e.writeDHT(a),e.writeSOS(a),this.resetBits();var o=i.width,u=i.height,s=0,l=0,h=0;if(r===Si.yuv444)for(var c=new Float32Array(64),f=new Float32Array(64),d=new Float32Array(64),m=0;m<u;m+=8)for(var g=0;g<o;g+=8)this.calculateYUV(i,g,m,o,u,c,f,d),s=this.processDU(a,c,this._fdTableY,s,this._yacHuffman,this._ydcHuffman),l=this.processDU(a,f,this._fdTableUv,l,this._uvacHuffman,this._uvdcHuffman),h=this.processDU(a,d,this._fdTableUv,h,this._uvacHuffman,this._uvdcHuffman);else for(var v=rt.generate(4,(function(e){return new Float32Array(64)})),y=rt.generate(4,(function(e){return new Float32Array(64)})),p=rt.generate(4,(function(e){return new Float32Array(64)})),_=new Float32Array(64),b=new Float32Array(64),k=0;k<u;k+=16)for(var x=0;x<o;x+=16)this.calculateYUV(i,x,k,o,u,v[0],y[0],p[0]),this.calculateYUV(i,x+8,k,o,u,v[1],y[1],p[1]),this.calculateYUV(i,x,k+8,o,u,v[2],y[2],p[2]),this.calculateYUV(i,x+8,k+8,o,u,v[3],y[3],p[3]),e.downsampleDU(_,y[0],y[1],y[2],y[3]),e.downsampleDU(b,p[0],p[1],p[2],p[3]),s=this.processDU(a,v[0],this._fdTableY,s,this._yacHuffman,this._ydcHuffman),s=this.processDU(a,v[1],this._fdTableY,s,this._yacHuffman,this._ydcHuffman),s=this.processDU(a,v[2],this._fdTableY,s,this._yacHuffman,this._ydcHuffman),s=this.processDU(a,v[3],this._fdTableY,s,this._yacHuffman,this._ydcHuffman),l=this.processDU(a,_,this._fdTableUv,l,this._uvacHuffman,this._uvdcHuffman),h=this.processDU(a,b,this._fdTableUv,h,this._uvacHuffman,this._uvdcHuffman);if(this._bytePos>=0){var w=[(1<<this._bytePos+1)-1,this._bytePos+1];this.writeBits(a,w)}return e.writeMarker(a,_i.eoi),a.getBytes()}}],[{key:"computeHuffmanTable",value:function(e,t){for(var n=0,i=0,r=new Array,a=1;a<=16;a++){for(var o=1;o<=e[a];o++){var u=t[i];r.length<=u&&(r.length=u+1),r[u]=[n,a],i++,n++}n*=2}return r}},{key:"downsampleDU",value:function(e,t,n,i,r){for(var a=0;a<64;a++){var o=a<32?a%8<4?t:n:a%8<4?i:r,u=(Math.trunc(a%32/8)<<4)+(a%4<<1);e[a]=(o[u]+o[u+1]+o[u+8]+o[u+9])/4}}},{key:"writeMarker",value:function(e,t){e.writeByte(255),e.writeByte(255&t)}},{key:"writeAPP0",value:function(t){e.writeMarker(t,_i.app0),t.writeUint16(16),t.writeByte(74),t.writeByte(70),t.writeByte(73),t.writeByte(70),t.writeByte(0),t.writeByte(1),t.writeByte(1),t.writeByte(0),t.writeUint16(1),t.writeUint16(1),t.writeByte(0),t.writeByte(0)}},{key:"writeAPP1",value:function(e,t){if(!t.isEmpty){var n=new In;t.write(n);var i=n.getBytes();this.writeMarker(e,_i.app1);e.writeUint16(i.length+8),e.writeUint32(1165519206),e.writeUint16(0),e.writeBytes(i)}}},{key:"writeSOF0",value:function(t,n,i,r){e.writeMarker(t,_i.sof0),t.writeUint16(17),t.writeByte(8),t.writeUint16(i),t.writeUint16(n),t.writeByte(3),t.writeByte(1),t.writeByte(r===Si.yuv444?17:34),t.writeByte(0),t.writeByte(2),t.writeByte(17),t.writeByte(1),t.writeByte(3),t.writeByte(17),t.writeByte(1)}},{key:"writeSOS",value:function(t){e.writeMarker(t,_i.sos),t.writeUint16(12),t.writeByte(3),t.writeByte(1),t.writeByte(0),t.writeByte(2),t.writeByte(17),t.writeByte(3),t.writeByte(17),t.writeByte(0),t.writeByte(63),t.writeByte(0)}},{key:"writeDHT",value:function(t){e.writeMarker(t,_i.dht),t.writeUint16(418),t.writeByte(0);for(var n=0;n<16;n++)t.writeByte(e._stdDcLuminanceNrCodes[n+1]);for(var i=0;i<=11;i++)t.writeByte(e._stdDcLuminanceValues[i]);t.writeByte(16);for(var r=0;r<16;r++)t.writeByte(e._stdAcLuminanceNrCodes[r+1]);for(var a=0;a<=161;a++)t.writeByte(e._stdAcLuminanceValues[a]);t.writeByte(1);for(var o=0;o<16;o++)t.writeByte(e._stdDcChrominanceNrCodes[o+1]);for(var u=0;u<=11;u++)t.writeByte(e._stdDcChrominanceValues[u]);t.writeByte(17);for(var s=0;s<16;s++)t.writeByte(e._stdAcChrominanceNrCodes[s+1]);for(var l=0;l<=161;l++)t.writeByte(e._stdAcChrominanceValues[l])}}]),e}();zi._zigzag=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],zi._stdDcLuminanceNrCodes=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],zi._stdDcLuminanceValues=[0,1,2,3,4,5,6,7,8,9,10,11],zi._stdAcLuminanceNrCodes=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],zi._stdAcLuminanceValues=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],zi._stdDcChrominanceNrCodes=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],zi._stdDcChrominanceValues=[0,1,2,3,4,5,6,7,8,9,10,11],zi._stdAcChrominanceNrCodes=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],zi._stdAcChrominanceValues=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250],function(e){e[e.none=0]="none",e[e.palette=1]="palette",e[e.rgb=2]="rgb",e[e.gray=3]="gray",e[e.reserved4=4]="reserved4",e[e.reserved5=5]="reserved5",e[e.reserved6=6]="reserved6",e[e.reserved7=7]="reserved7",e[e.reserved8=8]="reserved8",e[e.paletteRle=9]="paletteRle",e[e.rgbRle=10]="rgbRle",e[e.grayRle=11]="grayRle"}(Mi||(Mi={}));var Ai,Ii=function(){function e(t){Ie(this,e),this._bitBuffer=0,this._bitPosition=0,this._input=t}return Fe(e,[{key:"readBits",value:function(t){var n=t;if(0===n)return 0;0===this._bitPosition&&(this._bitPosition=8,this._bitBuffer=this._input.readByte());for(var i=0;n>this._bitPosition;)i=(i<<this._bitPosition)+(this._bitBuffer&e._bitMask[this._bitPosition]),n-=this._bitPosition,this._bitPosition=8,this._bitBuffer=this._input.readByte();return n>0&&(0===this._bitPosition&&(this._bitPosition=8,this._bitBuffer=this._input.readByte()),i=(i<<n)+(this._bitBuffer>>this._bitPosition-n&e._bitMask[n]),this._bitPosition-=n),i}},{key:"readByte",value:function(){return this.readBits(8)}},{key:"flushByte",value:function(){return this._bitPosition=0}}]),e}();Ii._bitMask=[0,1,3,7,15,31,63,127,255],function(e){e[e.none=1]="none",e[e.ccittRle=2]="ccittRle",e[e.ccittFax3=3]="ccittFax3",e[e.ccittFax4=4]="ccittFax4",e[e.lzw=5]="lzw",e[e.oldJpeg=6]="oldJpeg",e[e.jpeg=7]="jpeg",e[e.next=32766]="next",e[e.ccittRlew=32771]="ccittRlew",e[e.packBits=32773]="packBits",e[e.thunderScan=32809]="thunderScan",e[e.it8ctpad=32895]="it8ctpad",e[e.tt8lw=32896]="tt8lw",e[e.it8mp=32897]="it8mp",e[e.it8bl=32898]="it8bl",e[e.pixarFilm=32908]="pixarFilm",e[e.pixarLog=32909]="pixarLog",e[e.deflate=32946]="deflate",e[e.zip=8]="zip",e[e.dcs=32947]="dcs",e[e.jbig=34661]="jbig",e[e.sgiLog=34676]="sgiLog",e[e.sgiLog24=34677]="sgiLog24",e[e.jp2000=34712]="jp2000"}(Ai||(Ai={}));var Ri,Fi,Ti=function(){function e(t){Ie(this,e),this._tag=t.tag,this._type=t.type,this._count=t.count,this._p=t.p,this._valueOffset=t.valueOffset}return Fe(e,[{key:"tag",get:function(){return this._tag}},{key:"type",get:function(){return this._type}},{key:"count",get:function(){return this._count}},{key:"valueOffset",get:function(){return this._valueOffset}},{key:"value",get:function(){return this._value}},{key:"p",get:function(){return this._p}},{key:"isValid",get:function(){return this._type!==bt.none}},{key:"typeSize",get:function(){return this.isValid?xt[this._type]:0}},{key:"isString",get:function(){return this._type===bt.ascii}},{key:"read",value:function(){if(void 0!==this._value)return this._value;this._p.offset=this._valueOffset;var e=this.p.readBytes(this._count*this.typeSize);switch(this._type){case bt.byte:return this._value=Rt.data(e,this._count);case bt.ascii:return this._value=zt.data(e,this._count);case bt.undefined:return this._value=Rt.data(e,this._count);case bt.short:return this._value=Bt.data(e,this._count);case bt.long:return this._value=Ft.data(e,this._count);case bt.rational:return this._value=It.data(e,this._count);case bt.single:return this._value=Dt.data(e,this._count);case bt.double:return this._value=Ot.data(e,this._count);case bt.sByte:return this._value=Tt.data(e,this._count);case bt.sShort:return this._value=Bt.data(e,this._count);case bt.sLong:return this._value=Et.data(e,this._count);case bt.sRational:return this._value=Lt.data(e,this._count);default:case bt.none:return}}},{key:"toString",value:function(){var e=Pt.get(this._tag);return void 0!==e?"".concat(e.name,": ").concat(this._type," ").concat(this._count):"".concat(this.constructor.name," (<").concat(this._tag,">: ").concat(this._type," ").concat(this._count,")")}}]),e}(),Ni=function(){function e(t){Ie(this,e),this._changingElemSize=0,this._bitPointer=0,this._bytePointer=0,this._lastChangingElement=0,this._compression=2,this._uncompressedMode=0,this._fillBits=0,this._oneD=0,this._fillOrder=t.fillOrder,this._width=t.width,this._height=t.height,this._prevChangingElements=new Array(this._width),this._prevChangingElements.fill(0),this._currChangingElements=new Array(this._width),this._currChangingElements.fill(0)}return Fe(e,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"fillOrder",get:function(){return this._fillOrder}},{key:"nextNBits",value:function(t){var n=0,i=0,r=0,a=this._data.length-1,o=this._bytePointer;if(1===this._fillOrder)n=this._data.getByte(o),o===a?(i=0,r=0):o+1===a?(i=this._data.getByte(o+1),r=0):(i=this._data.getByte(o+1),r=this._data.getByte(o+2));else{if(2!==this._fillOrder)throw new We("TIFFFaxDecoder7");n=e._flipTable[255&this._data.getByte(o)],o===a?(i=0,r=0):o+1===a?(i=e._flipTable[255&this._data.getByte(o+1)],r=0):(i=e._flipTable[255&this._data.getByte(o+1)],r=e._flipTable[255&this._data.getByte(o+2)])}var u=8-this._bitPointer,s=t-u,l=0;s>8&&(l=s-8,s=8),this._bytePointer=this._bytePointer+1;var h=(n&e._table1[u])<<t-u,c=(i&e._table2[s])>>8-s;return 0!==l?(c<<=l,c|=(r&e._table2[l])>>8-l,this._bytePointer+=1,this._bitPointer=l):8===s?(this._bitPointer=0,this._bytePointer+=1):this._bitPointer=s,h|c}},{key:"nextLesserThan8Bits",value:function(t){var n=0,i=0,r=this._data.length-1,a=this._bytePointer;if(1===this._fillOrder)n=this._data.getByte(a),i=a===r?0:this._data.getByte(a+1);else{if(2!==this._fillOrder)throw new We("TIFFFaxDecoder7");n=e._flipTable[255&this._data.getByte(a)],i=a===r?0:e._flipTable[255&this._data.getByte(a+1)]}var o=8-this._bitPointer,u=t-o,s=o-t,l=0;return s>=0?(l=(n&e._table1[o])>>s,this._bitPointer+=t,8===this._bitPointer&&(this._bitPointer=0,this._bytePointer+=1)):(l=(n&e._table1[o])<<-s,l|=(i&e._table2[u])>>8-u,this._bytePointer+=1,this._bitPointer=u),l}},{key:"updatePointer",value:function(e){var t=this._bitPointer-e;t<0?(this._bytePointer-=1,this._bitPointer=8+t):this._bitPointer=t}},{key:"advancePointer",value:function(){return 0!==this._bitPointer&&(this._bytePointer+=1,this._bitPointer=0),!0}},{key:"setToBlack",value:function(e,t,n,i){var r=8*t+n,a=r+i,o=r>>3,u=7&r;if(u>0){for(var s=1<<7-u,l=e.getByte(o);s>0&&r<a;)l|=s,s>>=1,++r;e.setByte(o,l)}for(o=r>>3;r<a-7;)e.setByte(o++,255),r+=8;for(;r<a;)o=r>>3,e.setByte(o,e.getByte(o)|1<<7-(7&r)),++r}},{key:"decodeNextScanline",value:function(t,n,i){var r=i,a=0,o=0,u=0,s=0,l=0,h=!0;for(this._changingElemSize=0;r<this._width;){for(;h;)if(s=this.nextNBits(10),u=1&(l=e._white[s]),12===(a=l>>1&15))s=s<<2&12|this.nextLesserThan8Bits(2),a=(l=e._additionalMakeup[s])>>1&7,r+=o=l>>4&4095,this.updatePointer(4-a);else{if(0===a)throw new We("TIFFFaxDecoder0");if(15===a)throw new We("TIFFFaxDecoder1");r+=o=l>>5&2047,this.updatePointer(10-a),0===u&&(h=!1,this._currChangingElements[this._changingElemSize++]=r)}if(r===this._width){2===this._compression&&this.advancePointer();break}for(;!1===h;)if(s=this.nextLesserThan8Bits(4),u=1&(l=e._initBlack[s]),a=l>>1&15,100===(o=l>>5&2047))if(s=this.nextNBits(9),u=1&(l=e._black[s]),o=l>>5&2047,12===(a=l>>1&15))this.updatePointer(5),s=this.nextLesserThan8Bits(4),a=(l=e._additionalMakeup[s])>>1&7,o=l>>4&4095,this.setToBlack(t,n,r,o),r+=o,this.updatePointer(4-a);else{if(15===a)throw new We("TIFFFaxDecoder2");this.setToBlack(t,n,r,o),r+=o,this.updatePointer(9-a),0===u&&(h=!0,this._currChangingElements[this._changingElemSize++]=r)}else 200===o?(s=this.nextLesserThan8Bits(2),o=(l=e._twoBitBlack[s])>>5&2047,a=l>>1&15,this.setToBlack(t,n,r,o),r+=o,this.updatePointer(2-a),h=!0,this._currChangingElements[this._changingElemSize++]=r):(this.setToBlack(t,n,r,o),r+=o,this.updatePointer(4-a),h=!0,this._currChangingElements[this._changingElemSize++]=r);if(r===this._width){2===this._compression&&this.advancePointer();break}}this._currChangingElements[this._changingElemSize++]=r}},{key:"readEOL",value:function(){if(0===this._fillBits){if(1!==this.nextNBits(12))throw new We("TIFFFaxDecoder6")}else if(1===this._fillBits){var e=8-this._bitPointer;if(0!==this.nextNBits(e))throw new We("TIFFFaxDecoder8");if(e<4&&0!==this.nextNBits(8))throw new We("TIFFFaxDecoder8");for(var t=0;1!==(t=this.nextNBits(8));)if(0!==t)throw new We("TIFFFaxDecoder8")}return 0===this._oneD?1:this.nextLesserThan8Bits(1)}},{key:"getNextChangingElement",value:function(e,t,n){var i=this._prevChangingElements,r=this._changingElemSize,a=this._lastChangingElement>0?this._lastChangingElement-1:0;t?a&=-2:a|=1;for(var o=a;o<r;o+=2){var u=i[o];if(u>e){this._lastChangingElement=o,n[0]=u;break}}o+1<r&&(n[1]=i[o+1])}},{key:"decodeWhiteCodeWord",value:function(){for(var t=0,n=0,i=0,r=0,a=0,o=!0;o;)if(t=this.nextNBits(10),r=1&(n=e._white[t]),12===(i=n>>1&15))t=t<<2&12|this.nextLesserThan8Bits(2),i=(n=e._additionalMakeup[t])>>1&7,a+=n>>4&4095,this.updatePointer(4-i);else{if(0===i)throw new We("TIFFFaxDecoder0");if(15===i)throw new We("TIFFFaxDecoder1");a+=n>>5&2047,this.updatePointer(10-i),0===r&&(o=!1)}return a}},{key:"decodeBlackCodeWord",value:function(){for(var t=0,n=0,i=0,r=0,a=-1,o=0,u=!1;!u;)if(t=this.nextLesserThan8Bits(4),r=1&(n=e._initBlack[t]),i=n>>1&15,100===(a=n>>5&2047))if(t=this.nextNBits(9),r=1&(n=e._black[t]),a=n>>5&2047,12===(i=n>>1&15))this.updatePointer(5),t=this.nextLesserThan8Bits(4),i=(n=e._additionalMakeup[t])>>1&7,o+=a=n>>4&4095,this.updatePointer(4-i);else{if(15===i)throw new We("TIFFFaxDecoder2");o+=a,this.updatePointer(9-i),0===r&&(u=!0)}else 200===a?(t=this.nextLesserThan8Bits(2),o+=a=(n=e._twoBitBlack[t])>>5&2047,i=n>>1&15,this.updatePointer(2-i),u=!0):(o+=a,this.updatePointer(4-i),u=!0);return o}},{key:"decode1D",value:function(e,t,n,i){this._data=t,this._bitPointer=0,this._bytePointer=0;for(var r=0,a=Math.trunc((this._width+7)/8),o=0;o<i;o++)this.decodeNextScanline(e,r,n),r+=a}},{key:"decode2D",value:function(t,n,i,r,a){this._data=n,this._compression=3,this._bitPointer=0,this._bytePointer=0;var o=Math.trunc((this._width+7)/8),u=0,s=0,l=0,h=0,c=0,f=!1,d=0,m=void 0,g=new Array(2);if(g.fill(0),this._oneD=1&a,this._uncompressedMode=(2&a)>>1,this._fillBits=(4&a)>>2,1!==this.readEOL())throw new We("TIFFFaxDecoder3");var v=0,y=0;this.decodeNextScanline(t,v,i),v+=o;for(var p=1;p<r;p++){if(0===this.readEOL()){for(m=this._prevChangingElements,this._prevChangingElements=this._currChangingElements,this._currChangingElements=m,d=0,u=-1,f=!0,y=i,this._lastChangingElement=0;y<this._width;){this.getNextChangingElement(u,f,g);var _=g[0],b=g[1];if(l=this.nextLesserThan8Bits(7),c=7&(l=255&e._twoDCodes[l]),0===(h=(120&l)>>3))f||this.setToBlack(t,v,y,b-y),y=u=b,this.updatePointer(7-c);else if(1===h){this.updatePointer(7-c);var k=0;f?(y+=k=this.decodeWhiteCodeWord(),this._currChangingElements[d++]=y,k=this.decodeBlackCodeWord(),this.setToBlack(t,v,y,k),y+=k,this._currChangingElements[d++]=y):(k=this.decodeBlackCodeWord(),this.setToBlack(t,v,y,k),y+=k,this._currChangingElements[d++]=y,y+=k=this.decodeWhiteCodeWord(),this._currChangingElements[d++]=y),u=y}else{if(!(h<=8))throw new We("TIFFFaxDecoder4");s=_+(h-5),this._currChangingElements[d++]=s,f||this.setToBlack(t,v,y,s-y),y=u=s,f=!f,this.updatePointer(7-c)}}this._currChangingElements[d++]=y,this._changingElemSize=d}else this.decodeNextScanline(t,v,i);v+=o}}},{key:"decodeT6",value:function(t,n,i,r,a){this._data=n,this._compression=4,this._bitPointer=0,this._bytePointer=0;var o=Math.trunc((this._width+7)/8),u=0,s=0,l=0,h=0,c=0,f=0,d=0,m=!1,g=0,v=void 0,y=new Array(2);y.fill(0),this._uncompressedMode=(2&a)>>1;var p=this._currChangingElements;this._changingElemSize=0,p[this._changingElemSize++]=this._width,p[this._changingElemSize++]=this._width;for(var _=0,b=0,k=0;k<r;k++){for(u=-1,m=!0,v=this._prevChangingElements,this._prevChangingElements=this._currChangingElements,p=this._currChangingElements=v,g=0,b=i,this._lastChangingElement=0;b<this._width;)if(this.getNextChangingElement(u,m,y),l=y[0],h=y[1],c=this.nextLesserThan8Bits(7),d=7&(c=255&e._twoDCodes[c]),0===(f=(120&c)>>3))m||this.setToBlack(t,_,b,h-b),b=u=h,this.updatePointer(7-d);else if(1===f){this.updatePointer(7-d);var x=0;m?(b+=x=this.decodeWhiteCodeWord(),p[g++]=b,x=this.decodeBlackCodeWord(),this.setToBlack(t,_,b,x),b+=x,p[g++]=b):(x=this.decodeBlackCodeWord(),this.setToBlack(t,_,b,x),b+=x,p[g++]=b,b+=x=this.decodeWhiteCodeWord(),p[g++]=b),u=b}else if(f<=8)s=l+(f-5),p[g++]=s,m||this.setToBlack(t,_,b,s-b),b=u=s,m=!m,this.updatePointer(7-d);else{if(11!==f)throw new We("TIFFFaxDecoder5 ".concat(f));if(7!==this.nextLesserThan8Bits(3))throw new We("TIFFFaxDecoder5");for(var w=0,C=!1;!C;){for(;1!==this.nextLesserThan8Bits(1);)w++;w>5&&(w-=6,!m&&w>0&&(p[g++]=b),b+=w,w>0&&(m=!0),0===this.nextLesserThan8Bits(1)?(m||(p[g++]=b),m=!0):(m&&(p[g++]=b),m=!1),C=!0),5===w?(m||(p[g++]=b),b+=w,m=!0):(b+=w,p[g++]=b,this.setToBlack(t,_,b,1),++b,m=!1)}}p[g++]=b,this._changingElemSize=g,_+=o}}}]),e}();Ni._table1=[0,1,3,7,15,31,63,127,255],Ni._table2=[0,128,192,224,240,248,252,254,255],Ni._flipTable=[0,-128,64,-64,32,-96,96,-32,16,-112,80,-48,48,-80,112,-16,8,-120,72,-56,40,-88,104,-24,24,-104,88,-40,56,-72,120,-8,4,-124,68,-60,36,-92,100,-28,20,-108,84,-44,52,-76,116,-12,12,-116,76,-52,44,-84,108,-20,28,-100,92,-36,60,-68,124,-4,2,-126,66,-62,34,-94,98,-30,18,-110,82,-46,50,-78,114,-14,10,-118,74,-54,42,-86,106,-22,26,-102,90,-38,58,-70,122,-6,6,-122,70,-58,38,-90,102,-26,22,-106,86,-42,54,-74,118,-10,14,-114,78,-50,46,-82,110,-18,30,-98,94,-34,62,-66,126,-2,1,-127,65,-63,33,-95,97,-31,17,-111,81,-47,49,-79,113,-15,9,-119,73,-55,41,-87,105,-23,25,-103,89,-39,57,-71,121,-7,5,-123,69,-59,37,-91,101,-27,21,-107,85,-43,53,-75,117,-11,13,-115,77,-51,45,-83,109,-19,29,-99,93,-35,61,-67,125,-3,3,-125,67,-61,35,-93,99,-29,19,-109,83,-45,51,-77,115,-13,11,-117,75,-53,43,-85,107,-21,27,-101,91,-37,59,-69,123,-5,7,-121,71,-57,39,-89,103,-25,23,-105,87,-41,55,-73,119,-9,15,-113,79,-49,47,-81,111,-17,31,-97,95,-33,63,-65,127,-1],Ni._white=[6430,6400,6400,6400,3225,3225,3225,3225,944,944,944,944,976,976,976,976,1456,1456,1456,1456,1488,1488,1488,1488,718,718,718,718,718,718,718,718,750,750,750,750,750,750,750,750,1520,1520,1520,1520,1552,1552,1552,1552,428,428,428,428,428,428,428,428,428,428,428,428,428,428,428,428,654,654,654,654,654,654,654,654,1072,1072,1072,1072,1104,1104,1104,1104,1136,1136,1136,1136,1168,1168,1168,1168,1200,1200,1200,1200,1232,1232,1232,1232,622,622,622,622,622,622,622,622,1008,1008,1008,1008,1040,1040,1040,1040,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,396,396,396,396,396,396,396,396,396,396,396,396,396,396,396,396,1712,1712,1712,1712,1744,1744,1744,1744,846,846,846,846,846,846,846,846,1264,1264,1264,1264,1296,1296,1296,1296,1328,1328,1328,1328,1360,1360,1360,1360,1392,1392,1392,1392,1424,1424,1424,1424,686,686,686,686,686,686,686,686,910,910,910,910,910,910,910,910,1968,1968,1968,1968,2e3,2e3,2e3,2e3,2032,2032,2032,2032,16,16,16,16,10257,10257,10257,10257,12305,12305,12305,12305,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,330,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,362,878,878,878,878,878,878,878,878,1904,1904,1904,1904,1936,1936,1936,1936,-18413,-18413,-16365,-16365,-14317,-14317,-10221,-10221,590,590,590,590,590,590,590,590,782,782,782,782,782,782,782,782,1584,1584,1584,1584,1616,1616,1616,1616,1648,1648,1648,1648,1680,1680,1680,1680,814,814,814,814,814,814,814,814,1776,1776,1776,1776,1808,1808,1808,1808,1840,1840,1840,1840,1872,1872,1872,1872,6157,6157,6157,6157,6157,6157,6157,6157,6157,6157,6157,6157,6157,6157,6157,6157,-12275,-12275,-12275,-12275,-12275,-12275,-12275,-12275,-12275,-12275,-12275,-12275,-12275,-12275,-12275,-12275,14353,14353,14353,14353,16401,16401,16401,16401,22547,22547,24595,24595,20497,20497,20497,20497,18449,18449,18449,18449,26643,26643,28691,28691,30739,30739,-32749,-32749,-30701,-30701,-28653,-28653,-26605,-26605,-24557,-24557,-22509,-22509,-20461,-20461,8207,8207,8207,8207,8207,8207,8207,8207,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,4107,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,266,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,298,524,524,524,524,524,524,524,524,524,524,524,524,524,524,524,524,556,556,556,556,556,556,556,556,556,556,556,556,556,556,556,556,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,168,460,460,460,460,460,460,460,460,460,460,460,460,460,460,460,460,492,492,492,492,492,492,492,492,492,492,492,492,492,492,492,492,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,2059,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232,232],Ni._additionalMakeup=[28679,28679,31752,-32759,-31735,-30711,-29687,-28663,29703,29703,30727,30727,-27639,-26615,-25591,-24567],Ni._initBlack=[3226,6412,200,168,38,38,134,134,100,100,100,100,68,68,68,68],Ni._twoBitBlack=[292,260,226,226],Ni._black=[62,62,30,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,3225,588,588,588,588,588,588,588,588,1680,1680,20499,22547,24595,26643,1776,1776,1808,1808,-24557,-22509,-20461,-18413,1904,1904,1936,1936,-16365,-14317,782,782,782,782,814,814,814,814,-12269,-10221,10257,10257,12305,12305,14353,14353,16403,18451,1712,1712,1744,1744,28691,30739,-32749,-30701,-28653,-26605,2061,2061,2061,2061,2061,2061,2061,2061,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,750,750,750,750,1616,1616,1648,1648,1424,1424,1456,1456,1488,1488,1520,1520,1840,1840,1872,1872,1968,1968,8209,8209,524,524,524,524,524,524,524,524,556,556,556,556,556,556,556,556,1552,1552,1584,1584,2e3,2e3,2032,2032,976,976,1008,1008,1040,1040,1072,1072,1296,1296,1328,1328,718,718,718,718,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,456,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,326,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,358,490,490,490,490,490,490,490,490,490,490,490,490,490,490,490,490,4113,4113,6161,6161,848,848,880,880,912,912,944,944,622,622,622,622,654,654,654,654,1104,1104,1136,1136,1168,1168,1200,1200,1232,1232,1264,1264,686,686,686,686,1360,1360,1392,1392,12,12,12,12,12,12,12,12,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390,390],Ni._twoDCodes=[80,88,23,71,30,30,62,62,4,4,4,4,4,4,4,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41],function(e){e[e.invalid=0]="invalid",e[e.uint=1]="uint",e[e.int=2]="int",e[e.float=3]="float"}(Ri||(Ri={})),function(e){e[e.bilevel=0]="bilevel",e[e.gray4bit=1]="gray4bit",e[e.gray=2]="gray",e[e.grayAlpha=3]="grayAlpha",e[e.palette=4]="palette",e[e.rgb=5]="rgb",e[e.rgba=6]="rgba",e[e.yCbCrSub=7]="yCbCrSub",e[e.generic=8]="generic",e[e.invalid=9]="invalid"}(Fi||(Fi={}));var Bi,Ei=function(){function e(){Ie(this,e),this._buffer=new Uint8Array(4096),this._bitsToGet=9,this._bytePointer=0,this._nextData=0,this._nextBits=0}return Fe(e,[{key:"addString",value:function(e,t){this._table[this._tableIndex]=t,this._prefix[this._tableIndex]=e,this._tableIndex=this._tableIndex+1,511===this._tableIndex?this._bitsToGet=10:1023===this._tableIndex?this._bitsToGet=11:2047===this._tableIndex&&(this._bitsToGet=12)}},{key:"getString",value:function(t){this._bufferLength=0;var n=t;for(this._buffer[this._bufferLength++]=this._table[n],n=this._prefix[n];n!==e._noSuchCode;)this._buffer[this._bufferLength++]=this._table[n],n=this._prefix[n]}},{key:"getNextCode",value:function(){if(this._bytePointer>=this._dataLength)return 257;for(;this._nextBits<this._bitsToGet;){if(this._bytePointer>=this._dataLength)return 257;this._nextData=(this._nextData<<8)+this._data[this._bytePointer++]&4294967295,this._nextBits+=8}return this._nextBits-=this._bitsToGet,this._nextData>>this._nextBits&e._andTable[this._bitsToGet-9]}},{key:"initializeStringTable",value:function(){this._table=new Uint8Array(e._lzMaxCode+1),this._prefix=new Uint32Array(e._lzMaxCode+1),this._prefix.fill(e._noSuchCode,0,this._prefix.length);for(var t=0;t<256;t++)this._table[t]=t;this._bitsToGet=9,this._tableIndex=258}},{key:"decode",value:function(e,t){this._out=t;var n=t.length;if(this._outPointer=0,this._data=e.buffer,this._dataLength=this._data.length,this._bytePointer=e.offset,0===this._data[0]&&1===this._data[1])throw new We("Invalid LZW Data");this.initializeStringTable(),this._nextData=0,this._nextBits=0;for(var i=0,r=this.getNextCode();257!==r&&this._outPointer<n;){if(256===r){if(this.initializeStringTable(),r=this.getNextCode(),this._bufferLength=0,257===r)break;this._out[this._outPointer++]=r,i=r}else if(r<this._tableIndex){this.getString(r);for(var a=this._bufferLength-1;a>=0;--a)this._out[this._outPointer++]=this._buffer[a];this.addString(i,this._buffer[this._bufferLength-1]),i=r}else{this.getString(i);for(var o=this._bufferLength-1;o>=0;--o)this._out[this._outPointer++]=this._buffer[o];this._out[this._outPointer++]=this._buffer[this._bufferLength-1],this.addString(i,this._buffer[this._bufferLength-1]),i=r}r=this.getNextCode()}}}]),e}();Ei._lzMaxCode=4095,Ei._noSuchCode=4098,Ei._andTable=[511,1023,2047,4095],function(e){e[e.whiteIsZero=0]="whiteIsZero",e[e.blackIsZero=1]="blackIsZero",e[e.rgb=2]="rgb",e[e.palette=3]="palette",e[e.transparencyMask=4]="transparencyMask",e[e.cmyk=5]="cmyk",e[e.yCbCr=6]="yCbCr",e[e.reserved7=7]="reserved7",e[e.cieLab=8]="cieLab",e[e.iccLab=9]="iccLab",e[e.ituLab=10]="ituLab",e[e.logL=11]="logL",e[e.logLuv=12]="logLuv",e[e.colorFilterArray=13]="colorFilterArray",e[e.linearRaw=14]="linearRaw",e[e.depth=15]="depth",e[e.unknown=16]="unknown"}(Bi||(Bi={}));var Li=function(){function e(t){var n,i,r,a,o,u,s,l,h,c,f,d,m,g;Ie(this,e),this._tags=new Map,this._width=0,this._height=0,this._photometricType=Bi.unknown,this._compression=1,this._bitsPerSample=1,this._samplesPerPixel=1,this._sampleFormat=Ri.uint,this._imageType=Fi.invalid,this._isWhiteZero=!1,this._predictor=1,this._chromaSubH=0,this._chromaSubV=0,this._tiled=!1,this._tileWidth=0,this._tileHeight=0,this._tilesX=0,this._tilesY=0,this._fillOrder=1,this._t4Options=0,this._t6Options=0,this._colorMapSamples=0,this._colorMapRed=0,this._colorMapGreen=0,this._colorMapBlue=0;for(var v=Ke.from(t),y=t.readUint16(),p=0;p<y;++p){var _=t.readUint16(),b=t.readUint16(),k=b,x=xt[b],w=t.readUint32(),C=0;w*x>4?C=t.readUint32():(C=t.offset,t.skip(4));var S=new Ti({tag:_,type:k,count:w,p:v,valueOffset:C});if(this._tags.set(S.tag,S),_===St.get("ImageWidth"))this._width=null!==(i=null===(n=S.read())||void 0===n?void 0:n.toInt())&&void 0!==i?i:0;else if(_===St.get("ImageLength"))this._height=null!==(a=null===(r=S.read())||void 0===r?void 0:r.toInt())&&void 0!==a?a:0;else if(_===St.get("PhotometricInterpretation")){var P=S.read();if(void 0===P)this._photometricType=Bi.unknown;else{var M=P.toInt();this._photometricType=M<17?M:Bi.unknown}}else if(_===St.get("Compression"))this._compression=null!==(u=null===(o=S.read())||void 0===o?void 0:o.toInt())&&void 0!==u?u:0;else if(_===St.get("BitsPerSample"))this._bitsPerSample=null!==(l=null===(s=S.read())||void 0===s?void 0:s.toInt())&&void 0!==l?l:0;else if(_===St.get("SamplesPerPixel"))this._samplesPerPixel=null!==(c=null===(h=S.read())||void 0===h?void 0:h.toInt())&&void 0!==c?c:0;else if(_===St.get("Predictor"))this._predictor=null!==(d=null===(f=S.read())||void 0===f?void 0:f.toInt())&&void 0!==d?d:0;else if(_===St.get("SampleFormat")){var z=null!==(g=null===(m=S.read())||void 0===m?void 0:m.toInt())&&void 0!==g?g:0;this._sampleFormat=z}else if(_===St.get("ColorMap")){var A=S.read();void 0!==A&&(this._colorMap=new Uint16Array(A.toData().buffer),this._colorMapRed=0,this._colorMapGreen=Math.trunc(this._colorMap.length/3),this._colorMapBlue=2*this._colorMapGreen)}}if(void 0!==this._colorMap&&this._photometricType===Bi.palette&&(this._colorMapSamples=3,this._samplesPerPixel=1),0!==this._width&&0!==this._height){if(void 0!==this._colorMap&&8===this._bitsPerSample)for(var I=this._colorMap,R=I.length,F=0;F<R;++F)I[F]>>=8;if(this._photometricType===Bi.whiteIsZero&&(this._isWhiteZero=!0),this.hasTag(St.get("TileOffsets")))this._tiled=!0,this._tileWidth=this.readTag(St.get("TileWidth")),this._tileHeight=this.readTag(St.get("TileLength")),this._tileOffsets=this.readTagList(St.get("TileOffsets")),this._tileByteCounts=this.readTagList(St.get("TileByteCounts"));else{if(this._tiled=!1,this._tileWidth=this.readTag(St.get("TileWidth"),this._width),this.hasTag(St.get("RowsPerStrip"))){var T=this.readTag(St.get("RowsPerStrip")),N=1;N=(N<<32)-1,this._tileHeight=T===N?this._height:T}else this._tileHeight=this.readTag(St.get("TileLength"),this._height);this._tileOffsets=this.readTagList(St.get("StripOffsets")),this._tileByteCounts=this.readTagList(St.get("StripByteCounts"))}switch(this._tilesX=Math.trunc((this._width+this._tileWidth-1)/this._tileWidth),this._tilesY=Math.trunc((this._height+this._tileHeight-1)/this._tileHeight),this._tileSize=this._tileWidth*this._tileHeight*this._samplesPerPixel,this._fillOrder=this.readTag(St.get("FillOrder"),1),this._t4Options=this.readTag(St.get("T4Options")),this._t6Options=this.readTag(St.get("T6Options")),this._extraSamples=this.readTag(St.get("ExtraSamples")),this._photometricType){case Bi.whiteIsZero:case Bi.blackIsZero:1===this._bitsPerSample&&1===this._samplesPerPixel?this._imageType=Fi.bilevel:4===this._bitsPerSample&&1===this._samplesPerPixel?this._imageType=Fi.gray4bit:this._bitsPerSample%8===0&&(1===this._samplesPerPixel?this._imageType=Fi.gray:2===this._samplesPerPixel?this._imageType=Fi.grayAlpha:this._imageType=Fi.generic);break;case Bi.rgb:this._bitsPerSample%8===0&&(3===this._samplesPerPixel?this._imageType=Fi.rgb:4===this._samplesPerPixel?this._imageType=Fi.rgba:this._imageType=Fi.generic);break;case Bi.palette:1!==this._samplesPerPixel||void 0===this._colorMap||4!==this._bitsPerSample&&8!==this._bitsPerSample&&16!==this._bitsPerSample||(this._imageType=Fi.palette);break;case Bi.transparencyMask:1===this._bitsPerSample&&1===this._samplesPerPixel&&(this._imageType=Fi.bilevel);break;case Bi.yCbCr:if(this._compression===Ai.jpeg&&8===this._bitsPerSample&&3===this._samplesPerPixel)this._imageType=Fi.rgb;else{if(this.hasTag(St.get("YCbCrSubSampling"))){var B=St.get("YCbCrSubSampling"),E=this._tags.get(B).read();this._chromaSubH=E.toInt(),this._chromaSubV=E.toInt(1)}else this._chromaSubH=2,this._chromaSubV=2;this._chromaSubH*this._chromaSubV===1?this._imageType=Fi.generic:8===this._bitsPerSample&&3===this._samplesPerPixel&&(this._imageType=Fi.yCbCrSub)}break;default:this._bitsPerSample%8===0&&(this._imageType=Fi.generic)}}}return Fe(e,[{key:"tags",get:function(){return this._tags}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"photometricType",get:function(){return this._photometricType}},{key:"compression",get:function(){return this._compression}},{key:"bitsPerSample",get:function(){return this._bitsPerSample}},{key:"samplesPerPixel",get:function(){return this._samplesPerPixel}},{key:"sampleFormat",get:function(){return this._sampleFormat}},{key:"imageType",get:function(){return this._imageType}},{key:"isWhiteZero",get:function(){return this._isWhiteZero}},{key:"predictor",get:function(){return this._predictor}},{key:"chromaSubH",get:function(){return this._chromaSubH}},{key:"chromaSubV",get:function(){return this._chromaSubV}},{key:"tiled",get:function(){return this._tiled}},{key:"tileWidth",get:function(){return this._tileWidth}},{key:"tileHeight",get:function(){return this._tileHeight}},{key:"tileOffsets",get:function(){return this._tileOffsets}},{key:"tileByteCounts",get:function(){return this._tileByteCounts}},{key:"tilesX",get:function(){return this._tilesX}},{key:"tilesY",get:function(){return this._tilesY}},{key:"tileSize",get:function(){return this._tileSize}},{key:"fillOrder",get:function(){return this._fillOrder}},{key:"t4Options",get:function(){return this._t4Options}},{key:"t6Options",get:function(){return this._t6Options}},{key:"extraSamples",get:function(){return this._extraSamples}},{key:"colorMapSamples",get:function(){return this._colorMapSamples}},{key:"colorMap",get:function(){return this._colorMap}},{key:"isValid",get:function(){return 0!==this._width&&0!==this._height}},{key:"readTag",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.hasTag(e)?null!==(n=null===(t=this._tags.get(e).read())||void 0===t?void 0:t.toInt())&&void 0!==n?n:0:i}},{key:"readTagList",value:function(e){if(this.hasTag(e)){var t=this._tags.get(e),n=t.read();return rt.generate(t.count,(function(e){return n.toInt(e)}))}}},{key:"decodeBilevelTile",value:function(e,t,n,i){var r=i*this._tilesX+n;e.offset=this._tileOffsets[r];var a=n*this._tileWidth,o=i*this._tileHeight,u=this._tileByteCounts[r],s=void 0;if(this._compression===Ai.packBits){var l=0;l=this._tileWidth%8===0?Math.trunc(this._tileWidth/8)*this._tileHeight:(Math.trunc(this._tileWidth/8)+1)*this._tileHeight,s=new Ke({buffer:new Uint8Array(this._tileWidth*this._tileHeight)}),this.decodePackBits(e,l,s.buffer)}else if(this._compression===Ai.lzw){if(s=new Ke({buffer:new Uint8Array(this._tileWidth*this._tileHeight)}),(new Ei).decode(Ke.from(e,0,u),s.buffer),2===this._predictor)for(var h=0,c=0;c<this._height;c++){h=this._samplesPerPixel*(c*this._width+1);for(var f=this._samplesPerPixel;f<this._width*this._samplesPerPixel;f++){var d=s.getByte(h)+s.getByte(h-this._samplesPerPixel);s.setByte(h,d),h++}}}else if(this._compression===Ai.ccittRle){s=new Ke({buffer:new Uint8Array(this._tileWidth*this._tileHeight)});try{new Ni({fillOrder:this._fillOrder,width:this._tileWidth,height:this._tileHeight}).decode1D(s,e,0,this._tileHeight)}catch(P){}}else if(this._compression===Ai.ccittFax3){s=new Ke({buffer:new Uint8Array(this._tileWidth*this._tileHeight)});try{new Ni({fillOrder:this._fillOrder,width:this._tileWidth,height:this._tileHeight}).decode2D(s,e,0,this._tileHeight,this._t4Options)}catch(P){}}else if(this._compression===Ai.ccittFax4){s=new Ke({buffer:new Uint8Array(this._tileWidth*this._tileHeight)});try{new Ni({fillOrder:this._fillOrder,width:this._tileWidth,height:this._tileHeight}).decodeT6(s,e,0,this._tileHeight,this._t6Options)}catch(P){}}else if(this._compression===Ai.zip){var m=e.toUint8Array(0,u),g=(0,ai.inflate)(m);s=new Ke({buffer:g})}else if(this._compression===Ai.deflate){var v=e.toUint8Array(0,u),y=(0,ai.inflate)(v);s=new Ke({buffer:y})}else{if(this._compression!==Ai.none)throw new We("Unsupported Compression Type: ".concat(this._compression));s=e}for(var p=new Ii(s),_=t.maxChannelValue,b=this._isWhiteZero?_:0,k=this._isWhiteZero?0:_,x=0,w=o;x<this._tileHeight;++x,++w){for(var C=0,S=a;C<this._tileWidth&&!(w>=t.height||S>=t.width);++C,++S)0===p.readBits(1)?t.setPixelRgb(S,w,b,0,0):t.setPixelRgb(S,w,k,0,0);p.flushByte()}}},{key:"decodeTile",value:function(e,t,n,i){if(this._imageType!==Fi.bilevel){var r=i*this._tilesX+n;e.offset=this._tileOffsets[r];var a=n*this._tileWidth,o=i*this._tileHeight,u=this._tileByteCounts[r],s=this._tileWidth*this._tileHeight*this._samplesPerPixel;16===this._bitsPerSample?s*=2:32===this._bitsPerSample&&(s*=4);var l=void 0;if(8!==this._bitsPerSample&&16!==this._bitsPerSample&&32!==this._bitsPerSample&&64!==this._bitsPerSample)throw new We("Unsupported bitsPerSample: ".concat(this._bitsPerSample));if(this._compression===Ai.none)l=e;else if(this._compression===Ai.lzw){l=new Ke({buffer:new Uint8Array(s)});var h=new Ei;try{h.decode(Ke.from(e,0,u),l.buffer)}catch(H){}if(2===this._predictor)for(var c=0,f=0;f<this._tileHeight;f++){c=this._samplesPerPixel*(f*this._tileWidth+1);for(var d=this._tileWidth*this._samplesPerPixel,m=this._samplesPerPixel;m<d;m++)l.setByte(c,l.getByte(c)+l.getByte(c-this._samplesPerPixel)),c++}}else if(this._compression===Ai.packBits)l=new Ke({buffer:new Uint8Array(s)}),this.decodePackBits(e,s,l.buffer);else if(this._compression===Ai.deflate){var g=e.toUint8Array(0,u),v=(0,ai.inflate)(g);l=new Ke({buffer:v})}else{if(this._compression!==Ai.zip){if(this._compression===Ai.oldJpeg){var y=e.toUint8Array(0,u),p=(new Pi).decode({bytes:y});return void(void 0!==p&&this.jpegToImage(p,t,a,o,this._tileWidth,this._tileHeight))}throw new We("Unsupported Compression Type: ".concat(this._compression))}var _=e.toUint8Array(0,u),b=(0,ai.inflate)(_);l=new Ke({buffer:b})}for(var k=0,x=o;k<this._tileHeight&&x<this._height;++k,++x)for(var w=0,C=a;w<this._tileWidth&&C<this._width;++w,++C)if(1===this._samplesPerPixel)if(this._sampleFormat===Ri.float){var S=0;32===this._bitsPerSample?S=l.readFloat32():64===this._bitsPerSample?S=l.readFloat64():16===this._bitsPerSample&&(S=ot.float16ToDouble(l.readUint16())),t.setPixelR(C,x,S)}else{var P=0;if(8===this._bitsPerSample?P=this._sampleFormat===Ri.int?l.readInt8():l.readByte():16===this._bitsPerSample?P=this._sampleFormat===Ri.int?l.readInt16():l.readUint16():32===this._bitsPerSample&&(P=this._sampleFormat===Ri.int?l.readInt32():l.readUint32()),this._photometricType===Bi.whiteIsZero)P=Math.trunc(t.maxChannelValue)-P;t.setPixelR(C,x,P)}else if(2===this._samplesPerPixel){var M=0,z=0;8===this._bitsPerSample?(M=this._sampleFormat===Ri.int?l.readInt8():l.readByte(),z=this._sampleFormat===Ri.int?l.readInt8():l.readByte()):16===this._bitsPerSample?(M=this._sampleFormat===Ri.int?l.readInt16():l.readUint16(),z=this._sampleFormat===Ri.int?l.readInt16():l.readUint16()):32===this._bitsPerSample&&(M=this._sampleFormat===Ri.int?l.readInt32():l.readUint32(),z=this._sampleFormat===Ri.int?l.readInt32():l.readUint32()),t.setPixelRgb(C,x,M,z,0)}else if(3===this._samplesPerPixel)if(this._sampleFormat===Ri.float){var A=0,I=0,R=0;32===this._bitsPerSample?(A=l.readFloat32(),I=l.readFloat32(),R=l.readFloat32()):64===this._bitsPerSample?(A=l.readFloat64(),I=l.readFloat64(),R=l.readFloat64()):16===this._bitsPerSample&&(A=ot.float16ToDouble(l.readUint16()),I=ot.float16ToDouble(l.readUint16()),R=ot.float16ToDouble(l.readUint16())),t.setPixelRgb(C,x,A,I,R)}else{var F=0,T=0,N=0;8===this._bitsPerSample?(F=this._sampleFormat===Ri.int?l.readInt8():l.readByte(),T=this._sampleFormat===Ri.int?l.readInt8():l.readByte(),N=this._sampleFormat===Ri.int?l.readInt8():l.readByte()):16===this._bitsPerSample?(F=this._sampleFormat===Ri.int?l.readInt16():l.readUint16(),T=this._sampleFormat===Ri.int?l.readInt16():l.readUint16(),N=this._sampleFormat===Ri.int?l.readInt16():l.readUint16()):32===this._bitsPerSample&&(F=this._sampleFormat===Ri.int?l.readInt32():l.readUint32(),T=this._sampleFormat===Ri.int?l.readInt32():l.readUint32(),N=this._sampleFormat===Ri.int?l.readInt32():l.readUint32()),t.setPixelRgb(C,x,F,T,N)}else if(this._samplesPerPixel>=4)if(this._sampleFormat===Ri.float){var B=0,E=0,L=0,D=0;32===this._bitsPerSample?(B=l.readFloat32(),E=l.readFloat32(),L=l.readFloat32(),D=l.readFloat32()):64===this._bitsPerSample?(B=l.readFloat64(),E=l.readFloat64(),L=l.readFloat64(),D=l.readFloat64()):16===this._bitsPerSample&&(B=ot.float16ToDouble(l.readUint16()),E=ot.float16ToDouble(l.readUint16()),L=ot.float16ToDouble(l.readUint16()),D=ot.float16ToDouble(l.readUint16())),t.setPixelRgba(C,x,B,E,L,D)}else{var O=0,U=0,V=0,Z=0;if(8===this._bitsPerSample?(O=this._sampleFormat===Ri.int?l.readInt8():l.readByte(),U=this._sampleFormat===Ri.int?l.readInt8():l.readByte(),V=this._sampleFormat===Ri.int?l.readInt8():l.readByte(),Z=this._sampleFormat===Ri.int?l.readInt8():l.readByte()):16===this._bitsPerSample?(O=this._sampleFormat===Ri.int?l.readInt16():l.readUint16(),U=this._sampleFormat===Ri.int?l.readInt16():l.readUint16(),V=this._sampleFormat===Ri.int?l.readInt16():l.readUint16(),Z=this._sampleFormat===Ri.int?l.readInt16():l.readUint16()):32===this._bitsPerSample&&(O=this._sampleFormat===Ri.int?l.readInt32():l.readUint32(),U=this._sampleFormat===Ri.int?l.readInt32():l.readUint32(),V=this._sampleFormat===Ri.int?l.readInt32():l.readUint32(),Z=this._sampleFormat===Ri.int?l.readInt32():l.readUint32()),this._photometricType===Bi.cmyk){var j=pt.cmykToRgb(O,U,V,Z);O=j[0],U=j[1],V=j[2],Z=Math.trunc(t.maxChannelValue)}t.setPixelRgba(C,x,O,U,V,Z)}}else this.decodeBilevelTile(e,t,n,i)}},{key:"jpegToImage",value:function(e,t,n,i,r,a){for(var o=r,u=a,s=0;s<u;s++)for(var l=0;l<o;l++)t.setPixel(l+n,s+i,e.getPixel(l,s))}},{key:"decodePackBits",value:function(e,t,n){for(var i=0,r=0;r<t;){var a=Ye.uint8ToInt8(e.getByte(i++));if(a>=0&&a<=127)for(var o=0;o<a+1;++o)n[r++]=e.getByte(i++);else if(a<=-1&&a>=-127)for(var u=e.getByte(i++),s=0;s<1-a;++s)n[r++]=u;else i++}}},{key:"decode",value:function(e){var t=this._sampleFormat===Ri.float,n=this._sampleFormat===Ri.int,i=1===this._bitsPerSample?je.uint1:2===this._bitsPerSample?je.uint2:4===this._bitsPerSample?je.uint4:t&&16===this._bitsPerSample?je.float16:t&&32===this._bitsPerSample?je.float32:t&&64===this._bitsPerSample?je.float64:n&&8===this._bitsPerSample?je.int8:n&&16===this._bitsPerSample?je.int16:n&&32===this._bitsPerSample?je.int32:16===this._bitsPerSample?je.uint16:32===this._bitsPerSample?je.uint32:je.uint8,r=void 0!==this._colorMap&&this._photometricType===Bi.palette,a=r?3:this._samplesPerPixel,o=new An({width:this._width,height:this._height,format:i,numChannels:a,withPalette:r});if(r)for(var u=o.palette,s=this._colorMap,l=Math.trunc(s.length/3),h=0;h<l;++h)u.setRgb(h,s[this._colorMapRed+h],s[this._colorMapGreen+h],s[this._colorMapBlue+h]);for(var c=0,f=0;c<this._tilesY;++c)for(var d=0;d<this._tilesX;++d,++f)this.decodeTile(e,o,d,c);return o}},{key:"hasTag",value:function(e){return this._tags.has(e)}}]),e}(),Di=function(){function e(t){Ie(this,e),this._images=[],this._width=0,this._height=0,this._backgroundColor=void 0,this._bigEndian=t.bigEndian,this._signature=t.signature,this._ifdOffset=t.ifdOffset,this._images=t.images,this._images.length>0&&(this._width=this._images[0].width,this._height=this._images[0].height)}return Fe(e,[{key:"bigEndian",get:function(){return this._bigEndian}},{key:"signature",get:function(){return this._signature}},{key:"ifdOffset",get:function(){return this._ifdOffset}},{key:"images",get:function(){return this._images}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"backgroundColor",get:function(){throw this._backgroundColor}},{key:"numFrames",get:function(){return this._images.length}}]),e}(),Oi=function(){function e(){Ie(this,e),this._info=void 0,this._exifData=void 0}return Fe(e,[{key:"info",get:function(){return this._info}},{key:"exifData",get:function(){return this._exifData}},{key:"numFrames",get:function(){return void 0!==this._info?this._info.images.length:0}},{key:"readHeader",value:function(t){var n=t.readUint16();if(n===e._tiffLittleEndian||n===e._tiffBigEndian){var i=!1;n===e._tiffBigEndian?(t.bigEndian=!0,i=!0):(t.bigEndian=!1,i=!1);var r;if((r=t.readUint16())===e._tiffSignature){var a=t.readUint32(),o=a,u=Ke.from(t);u.offset=a;for(var s=[];0!==a;){var l=void 0;try{if(!(l=new Li(u)).isValid)break}catch(h){break}s.push(l),0!==(a=u.readUint32())&&(u.offset=a)}return s.length>0?new Di({bigEndian:i,signature:r,ifdOffset:o,images:s}):void 0}}}},{key:"isValidFile",value:function(e){var t=new Ke({buffer:e});return void 0!==this.readHeader(t)}},{key:"startDecode",value:function(e){if(this._input=new Ke({buffer:e}),this._info=this.readHeader(this._input),void 0!==this.info){var t=new Ke({buffer:e});this._exifData=Zt.fromInputBuffer(t)}return this._info}},{key:"decodeFrame",value:function(e){if(void 0!==this._info){var t=this._info.images[e].decode(this._input);return void 0!==this._exifData&&(t.exifData=this._exifData),t}}},{key:"decode",value:function(e){var t,n=e.bytes;if(this._input=new Ke({buffer:n}),this._info=this.readHeader(this._input),void 0!==this._info){var i=this.numFrames;if(1===i||void 0!==e.frameIndex)return this.decodeFrame(null!==(t=e.frameIndex)&&void 0!==t?t:0);var r=this.decodeFrame(0);if(void 0!==r){r.exifData=Zt.fromInputBuffer(new Ke({buffer:n})),r.frameType=wt.page;for(var a=1;a<i;++a){var o=this.decodeFrame(a);r.addFrame(o)}return r}}}}]),e}();Oi._tiffSignature=42,Oi._tiffLittleEndian=18761,Oi._tiffBigEndian=19789;var Ui,Vi,Zi,ji;(function(){function e(){Ie(this,e)}return Fe(e,[{key:"readExifData",value:function(t){if(void 0!==t&&(t.readUint32()===e._exifSignature&&0===t.readUint16()))return Zt.fromInputBuffer(t)}},{key:"writeAPP1",value:function(t,n){if(!n.isEmpty){var i=new In;n.write(i);var r=i.getBytes();t.writeUint16(r.length+8),t.writeUint32(e._exifSignature),t.writeUint16(0),t.writeBytes(r)}}},{key:"readBlock",value:function(e){var t=e.readUint16();if(!(t<2))return e.readBytes(t-2)}},{key:"skipBlock",value:function(e,t){var n=e.readUint16();return null===t||void 0===t||t.writeUint16(n),!(n<2)&&(void 0!==t?t.writeBuffer(e.readBytes(n-2)):e.skip(n-2),!0)}},{key:"nextMarker",value:function(e,t){var n=0;if(e.isEOS)return n;do{do{n=e.readByte(),null===t||void 0===t||t.writeByte(n)}while(255!==n&&!e.isEOS);if(e.isEOS)return n;do{n=e.readByte(),null===t||void 0===t||t.writeByte(n)}while(255===n&&!e.isEOS)}while(0===n&&!e.isEOS);return n}},{key:"decodeExif",value:function(e){var t=new Ke({buffer:e,bigEndian:!0}),n=t.peekBytes(2);if(255===n.getByte(0)&&216===n.getByte(1)){var i=this.nextMarker(t);if(i===_i.soi){var r=void 0;for(i=this.nextMarker(t);i!==_i.eoi&&!t.isEOS;){if(i===_i.app1){if(void 0!==(r=this.readExifData(this.readBlock(t))))return r}else this.skipBlock(t);i=this.nextMarker(t)}}}}},{key:"injectExif",value:function(t,n){var i=new Ke({buffer:n,bigEndian:!0}),r=i.peekBytes(2);if(255===r.getByte(0)&&216===r.getByte(1)){var a=new In({size:n.length,bigEndian:!0}),o=this.nextMarker(i,a);if(o===_i.soi){var u=!1,s=i.offset;for(o=this.nextMarker(i);!u&&o!==_i.eoi&&!i.isEOS;){if(o===_i.app1){var l=this.readBlock(i);if((null===l||void 0===l?void 0:l.readUint32())===e._exifSignature){u=!0;break}}else this.skipBlock(i);o=this.nextMarker(i)}if(i.offset=s,!u)return this.writeAPP1(a,t),a.writeBuffer(i.readBytes(i.length)),a.getBytes();for(o=this.nextMarker(i,a);o!==_i.eoi&&!i.isEOS;){if(o===_i.app1){var h=i.offset;i.skip(2);var c=i.readUint32();if(i.offset=h,c===e._exifSignature)return this.skipBlock(i),this.writeAPP1(a,t),a.writeBuffer(i.readBytes(i.length)),a.getBytes()}this.skipBlock(i,a),o=this.nextMarker(i,a)}return a.getBytes()}}}}]),e}())._exifSignature=1165519206,function(e){e[e.topLeft=0]="topLeft",e[e.topCenter=1]="topCenter",e[e.topRight=2]="topRight",e[e.centerLeft=3]="centerLeft",e[e.center=4]="center",e[e.centerRight=5]="centerRight",e[e.bottomLeft=6]="bottomLeft",e[e.bottomCenter=7]="bottomCenter",e[e.bottomRight=8]="bottomRight"}(Ui||(Ui={})),function(e){e[e.horizontal=0]="horizontal",e[e.vertical=1]="vertical",e[e.both=2]="both"}(Vi||(Vi={})),function(e){e[e.top=1]="top",e[e.bottom=2]="bottom",e[e.left=4]="left",e[e.right=8]="right",e[e.all=15]="all"}(Zi||(Zi={})),function(e){e[e.transparent=0]="transparent",e[e.topLeftColor=1]="topLeftColor",e[e.bottomRightColor=2]="bottomRightColor"}(ji||(ji={}));function Hi(e){var t,n,i,r=null!==(t=e.singleFrame)&&void 0!==t&&t,a=null!==(n=e.level)&&void 0!==n?n:6,o=null!==(i=e.filter)&&void 0!==i?i:li.paeth;return new hi({filter:o,level:a}).encode({image:e.image,singleFrame:r})}function Wi(e){var t=new Uint8Array(e.data);return(new Oi).decode({bytes:t,frameIndex:e.frameIndex})}function qi(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readAsDataURL",i=(0,e.useState)(null),a=(0,r.Z)(i,2),o=a[0],u=a[1],s=(0,e.useState)(t),l=(0,r.Z)(s,2),h=l[0],c=l[1];return(0,e.useEffect)((function(){if(o){var e=new FileReader;e.addEventListener("load",(function(){c(e.result)})),e[n](o)}}),[o]),[h,u]}var Gi=n(5735),$i=n(7933),Yi=n(9511),Xi=n(5559);function Qi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ki(e,t){return Ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ki(e,t)}var Ji=e.createContext(null);function er(t,n){var i=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){i[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),i}function tr(e,t,n){return null!=n[t]?n[t]:e.props[t]}function nr(t,n,i){var r=er(t.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),a=[];for(var o in e)o in t?a.length&&(r[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(r[s])for(i=0;i<r[s].length;i++){var l=r[s][i];u[r[s][i]]=n(l)}u[s]=n(s)}for(i=0;i<a.length;i++)u[a[i]]=n(a[i]);return u}(n,r);return Object.keys(a).forEach((function(o){var u=a[o];if((0,e.isValidElement)(u)){var s=o in n,l=o in r,h=n[o],c=(0,e.isValidElement)(h)&&!h.props.in;!l||s&&!c?l||!s||c?l&&s&&(0,e.isValidElement)(h)&&(a[o]=(0,e.cloneElement)(u,{onExited:i.bind(null,u),in:h.props.in,exit:tr(u,"exit",t),enter:tr(u,"enter",t)})):a[o]=(0,e.cloneElement)(u,{in:!1}):a[o]=(0,e.cloneElement)(u,{onExited:i.bind(null,u),in:!0,exit:tr(u,"exit",t),enter:tr(u,"enter",t)})}})),a}var ir=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},rr=function(t){var n,i;function r(e,n){var i,r=(i=t.call(this,e,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}i=t,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,Ki(n,i);var a=r.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(t,n){var i,r,a=n.children,o=n.handleExited;return{children:n.firstRender?(i=t,r=o,er(i.children,(function(t){return(0,e.cloneElement)(t,{onExited:r.bind(null,t),in:!0,appear:tr(t,"appear",i),enter:tr(t,"enter",i),exit:tr(t,"exit",i)})}))):nr(t,a,o),firstRender:!1}},a.handleExited=function(e,t){var n=er(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,l.Z)({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var t=this.props,n=t.component,i=t.childFactory,r=(0,s.Z)(t,["component","childFactory"]),a=this.state.contextValue,o=ir(this.state.children).map(i);return delete r.appear,delete r.enter,delete r.exit,null===n?e.createElement(Ji.Provider,{value:a},o):e.createElement(Ji.Provider,{value:a},e.createElement(n,r,o))},r}(e.Component);rr.propTypes={},rr.defaultProps={component:"div",childFactory:function(e){return e}};var ar=rr,or=(n(76),n(2110),n(5207));n(2561);function ur(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,or.O)(t)}var sr=function(){var e=ur.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var lr=function(t){var n=t.className,i=t.classes,a=t.pulsate,o=void 0!==a&&a,u=t.rippleX,s=t.rippleY,l=t.rippleSize,c=t.in,f=t.onExited,d=t.timeout,m=e.useState(!1),v=(0,r.Z)(m,2),y=v[0],p=v[1],_=(0,h.Z)(n,i.ripple,i.rippleVisible,o&&i.ripplePulsate),b={width:l,height:l,top:-l/2+s,left:-l/2+u},k=(0,h.Z)(i.child,y&&i.childLeaving,o&&i.childPulsate);return c||y||p(!0),e.useEffect((function(){if(!c&&null!=f){var e=setTimeout(f,d);return function(){clearTimeout(e)}}}),[f,c,d]),(0,g.jsx)("span",{className:_,style:b,children:(0,g.jsx)("span",{className:k})})};var hr,cr,fr,dr,mr,gr,vr,yr,pr=(0,c.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),_r=["center","classes","className"],br=sr(mr||(mr=hr||(hr=Qi(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),kr=sr(gr||(gr=cr||(cr=Qi(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),xr=sr(vr||(vr=fr||(fr=Qi(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),wr=(0,X.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Cr=(0,X.ZP)(lr,{name:"MuiTouchRipple",slot:"Ripple"})(yr||(yr=dr||(dr=Qi(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),pr.rippleVisible,br,550,(function(e){return e.theme.transitions.easing.easeInOut}),pr.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),pr.child,pr.childLeaving,kr,550,(function(e){return e.theme.transitions.easing.easeInOut}),pr.childPulsate,xr,(function(e){return e.theme.transitions.easing.easeInOut})),Sr=e.forwardRef((function(t,n){var a=(0,Y.Z)({props:t,name:"MuiTouchRipple"}),o=a.center,u=void 0!==o&&o,c=a.classes,f=void 0===c?{}:c,d=a.className,m=(0,s.Z)(a,_r),v=e.useState([]),y=(0,r.Z)(v,2),p=y[0],_=y[1],b=e.useRef(0),k=e.useRef(null);e.useEffect((function(){k.current&&(k.current(),k.current=null)}),[p]);var x=e.useRef(!1),w=e.useRef(null),C=e.useRef(null),S=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(w.current)}}),[]);var P=e.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,a=e.rippleSize,o=e.cb;_((function(e){return[].concat((0,i.Z)(e),[(0,g.jsx)(Cr,{classes:{ripple:(0,h.Z)(f.ripple,pr.ripple),rippleVisible:(0,h.Z)(f.rippleVisible,pr.rippleVisible),ripplePulsate:(0,h.Z)(f.ripplePulsate,pr.ripplePulsate),child:(0,h.Z)(f.child,pr.child),childLeaving:(0,h.Z)(f.childLeaving,pr.childLeaving),childPulsate:(0,h.Z)(f.childPulsate,pr.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a},b.current)])})),b.current+=1,k.current=o}),[f]),M=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t.pulsate,r=void 0!==i&&i,a=t.center,o=void 0===a?u||t.pulsate:a,s=t.fakeElement,l=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&x.current)x.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(x.current=!0);var h,c,f,d=l?null:S.current,m=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)h=Math.round(m.width/2),c=Math.round(m.height/2);else{var g=e.touches&&e.touches.length>0?e.touches[0]:e,v=g.clientX,y=g.clientY;h=Math.round(v-m.left),c=Math.round(y-m.top)}if(o)(f=Math.sqrt((2*Math.pow(m.width,2)+Math.pow(m.height,2))/3))%2===0&&(f+=1);else{var p=2*Math.max(Math.abs((d?d.clientWidth:0)-h),h)+2,_=2*Math.max(Math.abs((d?d.clientHeight:0)-c),c)+2;f=Math.sqrt(Math.pow(p,2)+Math.pow(_,2))}null!=e&&e.touches?null===C.current&&(C.current=function(){P({pulsate:r,rippleX:h,rippleY:c,rippleSize:f,cb:n})},w.current=setTimeout((function(){C.current&&(C.current(),C.current=null)}),80)):P({pulsate:r,rippleX:h,rippleY:c,rippleSize:f,cb:n})}}),[u,P]),z=e.useCallback((function(){M({},{pulsate:!0})}),[M]),A=e.useCallback((function(e,t){if(clearTimeout(w.current),"touchend"===(null==e?void 0:e.type)&&C.current)return C.current(),C.current=null,void(w.current=setTimeout((function(){A(e,t)})));C.current=null,_((function(e){return e.length>0?e.slice(1):e})),k.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:z,start:M,stop:A}}),[z,M,A]),(0,g.jsx)(wr,(0,l.Z)({className:(0,h.Z)(pr.root,f.root,d),ref:S},m,{children:(0,g.jsx)(ar,{component:null,exit:!0,children:p})}))})),Pr=Sr;function Mr(e){return(0,f.Z)("MuiButtonBase",e)}var zr,Ar=(0,c.Z)("MuiButtonBase",["root","disabled","focusVisible"]),Ir=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Rr=(0,X.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((zr={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,a.Z)(zr,"&.".concat(Ar.disabled),{pointerEvents:"none",cursor:"default"}),(0,a.Z)(zr,"@media print",{colorAdjust:"exact"}),zr)),Fr=e.forwardRef((function(t,n){var i=(0,Y.Z)({props:t,name:"MuiButtonBase"}),a=i.action,o=i.centerRipple,u=void 0!==o&&o,c=i.children,f=i.className,d=i.component,m=void 0===d?"button":d,v=i.disabled,y=void 0!==v&&v,_=i.disableRipple,b=void 0!==_&&_,k=i.disableTouchRipple,x=void 0!==k&&k,w=i.focusRipple,C=void 0!==w&&w,S=i.LinkComponent,P=void 0===S?"a":S,M=i.onBlur,z=i.onClick,A=i.onContextMenu,I=i.onDragLeave,R=i.onFocus,F=i.onFocusVisible,T=i.onKeyDown,N=i.onKeyUp,B=i.onMouseDown,E=i.onMouseLeave,L=i.onMouseUp,D=i.onTouchEnd,O=i.onTouchMove,U=i.onTouchStart,V=i.tabIndex,Z=void 0===V?0:V,j=i.TouchRippleProps,H=i.touchRippleRef,W=i.type,q=(0,s.Z)(i,Ir),G=e.useRef(null),$=e.useRef(null),X=(0,$i.Z)($,H),Q=(0,Xi.Z)(),K=Q.isFocusVisibleRef,J=Q.onFocus,ee=Q.onBlur,te=Q.ref,ne=e.useState(!1),ie=(0,r.Z)(ne,2),re=ie[0],ae=ie[1];y&&re&&ae(!1),e.useImperativeHandle(a,(function(){return{focusVisible:function(){ae(!0),G.current.focus()}}}),[]);var oe=e.useState(!1),ue=(0,r.Z)(oe,2),se=ue[0],le=ue[1];e.useEffect((function(){le(!0)}),[]);var he=se&&!b&&!y;function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;return(0,Yi.Z)((function(i){return t&&t(i),!n&&$.current&&$.current[e](i),!0}))}e.useEffect((function(){re&&C&&!b&&se&&$.current.pulsate()}),[b,C,re,se]);var fe=ce("start",B),de=ce("stop",A),me=ce("stop",I),ge=ce("stop",L),ve=ce("stop",(function(e){re&&e.preventDefault(),E&&E(e)})),ye=ce("start",U),pe=ce("stop",D),_e=ce("stop",O),be=ce("stop",(function(e){ee(e),!1===K.current&&ae(!1),M&&M(e)}),!1),ke=(0,Yi.Z)((function(e){G.current||(G.current=e.currentTarget),J(e),!0===K.current&&(ae(!0),F&&F(e)),R&&R(e)})),xe=function(){var e=G.current;return m&&"button"!==m&&!("A"===e.tagName&&e.href)},we=e.useRef(!1),Ce=(0,Yi.Z)((function(e){C&&!we.current&&re&&$.current&&" "===e.key&&(we.current=!0,$.current.stop(e,(function(){$.current.start(e)}))),e.target===e.currentTarget&&xe()&&" "===e.key&&e.preventDefault(),T&&T(e),e.target===e.currentTarget&&xe()&&"Enter"===e.key&&!y&&(e.preventDefault(),z&&z(e))})),Se=(0,Yi.Z)((function(e){C&&" "===e.key&&$.current&&re&&!e.defaultPrevented&&(we.current=!1,$.current.stop(e,(function(){$.current.pulsate(e)}))),N&&N(e),z&&e.target===e.currentTarget&&xe()&&" "===e.key&&!e.defaultPrevented&&z(e)})),Pe=m;"button"===Pe&&(q.href||q.to)&&(Pe=P);var Me={};"button"===Pe?(Me.type=void 0===W?"button":W,Me.disabled=y):(q.href||q.to||(Me.role="button"),y&&(Me["aria-disabled"]=y));var ze=(0,$i.Z)(n,te,G);var Ae=(0,l.Z)({},i,{centerRipple:u,component:m,disabled:y,disableRipple:b,disableTouchRipple:x,focusRipple:C,tabIndex:Z,focusVisible:re}),Ie=function(e){var t=e.disabled,n=e.focusVisible,i=e.focusVisibleClassName,r=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,p.Z)(a,Mr,r);return n&&i&&(o.root+=" ".concat(i)),o}(Ae);return(0,g.jsxs)(Rr,(0,l.Z)({as:Pe,className:(0,h.Z)(Ie.root,f),ownerState:Ae,onBlur:be,onClick:z,onContextMenu:de,onFocus:ke,onKeyDown:Ce,onKeyUp:Se,onMouseDown:fe,onMouseLeave:ve,onMouseUp:ge,onDragLeave:me,onTouchEnd:pe,onTouchMove:_e,onTouchStart:ye,ref:ze,tabIndex:y?-1:Z,type:W},Me,q,{children:[c,he?(0,g.jsx)(Pr,(0,l.Z)({ref:X,center:u},j)):null]}))})),Tr=Fr;function Nr(e){return(0,f.Z)("MuiButton",e)}var Br=(0,c.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Er=e.createContext({}),Lr=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Dr=function(e){return(0,l.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Or=(0,X.ZP)(Tr,{shouldForwardProp:function(e){return(0,X.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,ee.Z)(n.color))],t["size".concat((0,ee.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,ee.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,i,r=e.theme,o=e.ownerState;return(0,l.Z)({},r.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create(["background-color","box-shadow","border-color","color"],{duration:r.transitions.duration.short}),"&:hover":(0,l.Z)({textDecoration:"none",backgroundColor:r.vars?"rgba(".concat(r.vars.palette.text.primaryChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,$.Fq)(r.palette.text.primary,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:r.vars?"rgba(".concat(r.vars.palette[o.color].mainChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,$.Fq)(r.palette[o.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat((r.vars||r).palette[o.color].main),backgroundColor:r.vars?"rgba(".concat(r.vars.palette[o.color].mainChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,$.Fq)(r.palette[o.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:(r.vars||r).palette.grey.A100,boxShadow:(r.vars||r).shadows[4],"@media (hover: none)":{boxShadow:(r.vars||r).shadows[2],backgroundColor:(r.vars||r).palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:(r.vars||r).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(r.vars||r).palette[o.color].main}}),"&:active":(0,l.Z)({},"contained"===o.variant&&{boxShadow:(r.vars||r).shadows[8]})},(0,a.Z)(t,"&.".concat(Br.focusVisible),(0,l.Z)({},"contained"===o.variant&&{boxShadow:(r.vars||r).shadows[6]})),(0,a.Z)(t,"&.".concat(Br.disabled),(0,l.Z)({color:(r.vars||r).palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat((r.vars||r).palette.action.disabledBackground)},"outlined"===o.variant&&"secondary"===o.color&&{border:"1px solid ".concat((r.vars||r).palette.action.disabled)},"contained"===o.variant&&{color:(r.vars||r).palette.action.disabled,boxShadow:(r.vars||r).shadows[0],backgroundColor:(r.vars||r).palette.action.disabledBackground})),t),"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:(r.vars||r).palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===o.variant&&"inherit"!==o.color&&{color:(r.vars||r).palette[o.color].main,border:r.vars?"1px solid rgba(".concat(r.vars.palette[o.color].mainChannel," / 0.5)"):"1px solid ".concat((0,$.Fq)(r.palette[o.color].main,.5))},"contained"===o.variant&&{color:r.vars?r.vars.palette.text.primary:null==(n=(i=r.palette).getContrastText)?void 0:n.call(i,r.palette.grey[300]),backgroundColor:(r.vars||r).palette.grey[300],boxShadow:(r.vars||r).shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:(r.vars||r).palette[o.color].contrastText,backgroundColor:(r.vars||r).palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:r.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:r.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:r.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:r.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:r.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:r.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,a.Z)(t,"&.".concat(Br.focusVisible),{boxShadow:"none"}),(0,a.Z)(t,"&:active",{boxShadow:"none"}),(0,a.Z)(t,"&.".concat(Br.disabled),{boxShadow:"none"}),t)})),Ur=(0,X.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,ee.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,l.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Dr(t))})),Vr=(0,X.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,ee.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,l.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Dr(t))})),Zr=e.forwardRef((function(t,n){var i=e.useContext(Er),r=(0,Gi.Z)(i,t),a=(0,Y.Z)({props:r,name:"MuiButton"}),o=a.children,u=a.color,c=void 0===u?"primary":u,f=a.component,d=void 0===f?"button":f,m=a.className,v=a.disabled,y=void 0!==v&&v,_=a.disableElevation,b=void 0!==_&&_,k=a.disableFocusRipple,x=void 0!==k&&k,w=a.endIcon,C=a.focusVisibleClassName,S=a.fullWidth,P=void 0!==S&&S,M=a.size,z=void 0===M?"medium":M,A=a.startIcon,I=a.type,R=a.variant,F=void 0===R?"text":R,T=(0,s.Z)(a,Lr),N=(0,l.Z)({},a,{color:c,component:d,disabled:y,disableElevation:b,disableFocusRipple:x,fullWidth:P,size:z,type:I,variant:F}),B=function(e){var t=e.color,n=e.disableElevation,i=e.fullWidth,r=e.size,a=e.variant,o=e.classes,u={root:["root",a,"".concat(a).concat((0,ee.Z)(t)),"size".concat((0,ee.Z)(r)),"".concat(a,"Size").concat((0,ee.Z)(r)),"inherit"===t&&"colorInherit",n&&"disableElevation",i&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,ee.Z)(r))],endIcon:["endIcon","iconSize".concat((0,ee.Z)(r))]},s=(0,p.Z)(u,Nr,o);return(0,l.Z)({},o,s)}(N),E=A&&(0,g.jsx)(Ur,{className:B.startIcon,ownerState:N,children:A}),L=w&&(0,g.jsx)(Vr,{className:B.endIcon,ownerState:N,children:w});return(0,g.jsxs)(Or,(0,l.Z)({ownerState:N,className:(0,h.Z)(i.className,B.root,m),component:d,disabled:y,focusRipple:!x,focusVisibleClassName:(0,h.Z)(B.focusVisible,C),ref:n,type:I},T,{classes:B,children:[E,o,L]}))})),jr=n(3518),Hr=n(5423);function Wr(t){var n=t.canvasX,i=t.setCanvasX,a=t.canvasY,o=t.setCanvasY,s=t.worldScale,l=t.setWorldScale,h=t.imageFixed,c=t.setImageFixed,f=t.imageMoving,d=t.setImageMoving,m=t.workingImages,v=t.setWorkingImages,y=qi(null,"readAsText"),p=(0,r.Z)(y,2),_=p[0],b=p[1],k=[{fontSize:"0.01em",value:0,label:"transparent"},{value:1,label:"solid"}];(0,e.useEffect)((function(){if(null!=_){var e=JSON.parse(_);i(e.canvasX),o(e.canvasY),l(e.worldScale),c(e.imageFixed),v(e.workingImages)}}),[_]);var x=JSON.stringify({canvasX:n,canvasY:a,worldScale:s,imageFixed:h,workingImages:m},null,2),w=window.URL.createObjectURL(new Blob([x],{type:"application/json"}));if(!h)return null;var C=document.querySelector("#myCanvas").outerHTML,S=new Blob(['<?xml version="1.0" standalone="no"?>\r\n',C],{type:"image/svg+xml;charset=utf-8"}),P=URL.createObjectURL(S);return(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:"20px"},children:[(0,g.jsxs)(Zr,{variant:"contained",style:{width:"350px"},starticon:(0,g.jsx)(Hr.Z,{}),children:["Upload (known) Image Settings",(0,g.jsx)("input",{type:"file",onChange:function(e){return b(e.target.files[0])}})]}),(0,g.jsx)("div",{children:(0,g.jsxs)("div",{children:[(0,g.jsx)("br",{}),"WORKING IMAGES",(0,g.jsx)("br",{}),"world-scale (affects both working images):"," ",(0,g.jsx)("input",{value:s,type:"number",min:.1,max:1.2,step:.01,onChange:function(e){return l(e.target.value)}})]})}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("br",{}),"Fixed-image ID=",h.id," (position on canvas)"]}),(0,g.jsxs)("div",{children:["coord_x:"," ",(0,g.jsx)("input",{value:h.x,type:"number",onChange:function(e){return c(u(u({},h),{},{x:+e.target.value}))}})]}),(0,g.jsxs)("div",{children:["coord_y:"," ",(0,g.jsx)("input",{value:h.y,type:"number",onChange:function(e){return c(u(u({},h),{},{y:+e.target.value}))}})]}),(0,g.jsxs)("div",{children:["rotation:"," ",(0,g.jsx)("input",{value:h.rotation,type:"number",min:-180,max:180,step:.01,onChange:function(e){return c(u(u({},h),{},{rotation:+e.target.value}))}})]}),(0,g.jsxs)("div",{children:["scaling (affects fixed image only):"," ",(0,g.jsx)("input",{value:h.scaling,type:"number",min:.1,max:10,step:.001,onChange:function(e){return c(u(u({},h),{},{scaling:+e.target.value}))}})]}),(0,g.jsxs)("div",{children:["image original dimensions (wxh): ",h.width," x"," ",h.height," ",(0,g.jsx)("br",{}),"image on canvas dimensions (scaled by ",s,", and by"," ",h.scaling,"):"," ",((null===h||void 0===h?void 0:h.width)*s*h.scaling).toFixed(0)," x"," ",((null===h||void 0===h?void 0:h.height)*s*h.scaling).toFixed(0)," "]}),(0,g.jsx)("div",{style:{paddingBottom:"20px",paddingLeft:"0px",width:"200px"},children:(0,g.jsxs)(ke,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",children:[(0,g.jsx)("span",{children:"opacity: "}),(0,g.jsx)(he,{size:"small",variant:"contained",value:h.opacity,type:"range",min:0,max:1,step:.1,marks:k,valueLabelDisplay:"auto",onChange:function(e){return c(u(u({},h),{},{opacity:+e.target.value}))}})]})})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("br",{}),"Moving-image ID=",f.id," (position on canvas)"]}),(0,g.jsxs)("div",{children:["coord_x:"," ",(0,g.jsx)("input",{value:f.x,type:"number",onChange:function(e){return d(u(u({},f),{},{x:+e.target.value}))}})]}),(0,g.jsxs)("div",{children:["coord_y:"," ",(0,g.jsx)("input",{value:f.y,type:"number",onChange:function(e){return d(u(u({},f),{},{y:+e.target.value}))}})]}),(0,g.jsxs)("div",{children:["rotation:"," ",(0,g.jsx)("input",{value:f.rotation,type:"number",min:-180,max:180,step:.01,onChange:function(e){return d(u(u({},f),{},{rotation:+e.target.value}))}})]}),(0,g.jsxs)("div",{children:["scaling (affects moving image only):"," ",(0,g.jsx)("input",{value:f.scaling,type:"number",min:.1,max:10,step:.001,onChange:function(e){return d(u(u({},f),{},{scaling:+e.target.value}))}})]}),(0,g.jsxs)("div",{children:["image original dimensions (wxh): ",null===f||void 0===f?void 0:f.width," x"," ",null===f||void 0===f?void 0:f.height," ",(0,g.jsx)("br",{}),"image on canvas dimensions (scaled by ",s,", and by"," ",f.scaling,"):"," ",f?((null===f||void 0===f?void 0:f.width)*s*f.scaling).toFixed(0):0," ","x"," ",f?((null===f||void 0===f?void 0:f.height)*s*f.scaling).toFixed(0):0," "]}),(0,g.jsx)("div",{style:{paddingBottom:"20px",paddingLeft:"0px",width:"200px"},children:(0,g.jsxs)(ke,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",children:[(0,g.jsx)("span",{children:"opacity: "}),(0,g.jsx)(he,{size:"small",variant:"contained",value:f.opacity,type:"range",min:0,max:1,step:.1,marks:k,valueLabelDisplay:"auto",onChange:function(e){return d(u(u({},f),{},{opacity:+e.target.value}))}})]})}),(0,g.jsx)("br",{}),(0,g.jsx)("a",{href:w,download:"settings.json",children:(0,g.jsx)(Zr,{variant:"contained",style:{width:"300px"},startIcon:(0,g.jsx)(jr.Z,{}),children:"Save Moving Image Settings"})}),(0,g.jsx)("br",{}),(0,g.jsx)("a",{href:P,download:"canvas.svg",children:(0,g.jsx)(Zr,{variant:"contained",style:{width:"300px"},startIcon:(0,g.jsx)(jr.Z,{}),children:"Save Canvas (working images as per settings)"})})]})}var qr=n(2007),Gr=n.n(qr);function $r(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{s(i.next(e))}catch(t){a(t)}}function u(e){try{s(i.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((i=i.apply(e,t||[])).next())}))}function Yr(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function Xr(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(u){r={error:u}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function Qr(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}Object.create;var Kr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Jr(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),i=Kr.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var i=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof i&&i.length>0?i:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var ea=[".DS_Store","Thumbs.db"];function ta(e){return"object"===typeof e&&null!==e}function na(e){return oa(e.target.files).map((function(e){return Jr(e)}))}function ia(e){return $r(this,void 0,void 0,(function(){return Yr(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return Jr(e)}))]}}))}))}function ra(e,t){return $r(this,void 0,void 0,(function(){var n;return Yr(this,(function(i){switch(i.label){case 0:return e.items?(n=oa(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(ua))]):[3,2];case 1:return[2,aa(sa(i.sent()))];case 2:return[2,aa(oa(e.files).map((function(e){return Jr(e)})))]}}))}))}function aa(e){return e.filter((function(e){return-1===ea.indexOf(e.name)}))}function oa(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i)}return t}function ua(e){if("function"!==typeof e.webkitGetAsEntry)return la(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?ca(t):la(e)}function sa(e){return e.reduce((function(e,t){return Qr(Qr([],Xr(e),!1),Xr(Array.isArray(t)?sa(t):[t]),!1)}),[])}function la(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=Jr(t);return Promise.resolve(n)}function ha(e){return $r(this,void 0,void 0,(function(){return Yr(this,(function(t){return[2,e.isDirectory?ca(e):fa(e)]}))}))}function ca(e){var t=e.createReader();return new Promise((function(e,n){var i=[];!function r(){var a=this;t.readEntries((function(t){return $r(a,void 0,void 0,(function(){var a,o,u;return Yr(this,(function(s){switch(s.label){case 0:if(t.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return a=s.sent(),e(a),[3,4];case 3:return o=s.sent(),n(o),[3,4];case 4:return[3,6];case 5:u=Promise.all(t.map(ha)),i.push(u),r(),s.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function fa(e){return $r(this,void 0,void 0,(function(){return Yr(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var i=Jr(n,e.fullPath);t(i)}),(function(e){n(e)}))}))]}))}))}var da=n(9998);function ma(e){return function(e){if(Array.isArray(e))return ba(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){ya(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(s){u=!0,r=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw r}}return a}(e,t)||_a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _a(e,t){if(e){if("string"===typeof e)return ba(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ba(e,t):void 0}}function ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ka="file-invalid-type",xa="file-too-large",wa="file-too-small",Ca="too-many-files",Sa=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:ka,message:"File type must be ".concat(t)}},Pa=function(e){return{code:xa,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},Ma=function(e){return{code:wa,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},za={code:Ca,message:"Too many files"};function Aa(e,t){var n="application/x-moz-file"===e.type||(0,da.Z)(e,t);return[n,n?null:Sa(t)]}function Ia(e,t,n){if(Ra(e.size))if(Ra(t)&&Ra(n)){if(e.size>n)return[!1,Pa(n)];if(e.size<t)return[!1,Ma(t)]}else{if(Ra(t)&&e.size<t)return[!1,Ma(t)];if(Ra(n)&&e.size>n)return[!1,Pa(n)]}return[!0,null]}function Ra(e){return void 0!==e&&null!==e}function Fa(e){var t=e.files,n=e.accept,i=e.minSize,r=e.maxSize,a=e.multiple,o=e.maxFiles,u=e.validator;return!(!a&&t.length>1||a&&o>=1&&t.length>o)&&t.every((function(e){var t=pa(Aa(e,n),1)[0],a=pa(Ia(e,i,r),1)[0],o=u?u(e):null;return t&&a&&!o}))}function Ta(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function Na(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function Ba(e){e.preventDefault()}function Ea(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function La(e){return-1!==e.indexOf("Edge/")}function Da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return Ea(e)||La(e)}function Oa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.some((function(t){return!Ta(e)&&t&&t.apply(void 0,[e].concat(i)),Ta(e)}))}}function Ua(){return"showOpenFilePicker"in window}function Va(e){return Ra(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var t=pa(e,2),n=t[0],i=t[1],r=!0;return Wa(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),r=!1),Array.isArray(i)&&i.every(qa)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),r=!1),r})).reduce((function(e,t){var n=pa(t,2),i=n[0],r=n[1];return va(va({},e),{},ya({},i,r))}),{})}]:e}function Za(e){if(Ra(e))return Object.entries(e).reduce((function(e,t){var n=pa(t,2),i=n[0],r=n[1];return[].concat(ma(e),[i],ma(r))}),[]).filter((function(e){return Wa(e)||qa(e)})).join(",")}function ja(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}function Ha(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}function Wa(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function qa(e){return/^.*\.[\w]+$/.test(e)}var Ga=["children"],$a=["open"],Ya=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Xa=["refKey","onChange","onClick"];function Qa(e){return function(e){if(Array.isArray(e))return eo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ja(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(s){u=!0,r=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw r}}return a}(e,t)||Ja(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ja(e,t){if(e){if("string"===typeof e)return eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eo(e,t):void 0}}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ao=(0,e.forwardRef)((function(t,n){var i=t.children,r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=no(no({},oo),t),i=n.accept,r=n.disabled,a=n.getFilesFromEvent,o=n.maxSize,u=n.minSize,s=n.multiple,l=n.maxFiles,h=n.onDragEnter,c=n.onDragLeave,f=n.onDragOver,d=n.onDrop,m=n.onDropAccepted,g=n.onDropRejected,v=n.onFileDialogCancel,y=n.onFileDialogOpen,p=n.useFsAccessApi,_=n.autoFocus,b=n.preventDropOnDocument,k=n.noClick,x=n.noKeyboard,w=n.noDrag,C=n.noDragEventsBubbling,S=n.onError,P=n.validator,M=(0,e.useMemo)((function(){return Za(i)}),[i]),z=(0,e.useMemo)((function(){return Va(i)}),[i]),A=(0,e.useMemo)((function(){return"function"===typeof y?y:ho}),[y]),I=(0,e.useMemo)((function(){return"function"===typeof v?v:ho}),[v]),R=(0,e.useRef)(null),F=(0,e.useRef)(null),T=Ka((0,e.useReducer)(lo,so),2),N=T[0],B=T[1],E=N.isFocused,L=N.isFileDialogActive,D=(0,e.useRef)("undefined"!==typeof window&&window.isSecureContext&&p&&Ua()),O=function(){!D.current&&L&&setTimeout((function(){F.current&&(F.current.files.length||(B({type:"closeDialog"}),I()))}),300)};(0,e.useEffect)((function(){return window.addEventListener("focus",O,!1),function(){window.removeEventListener("focus",O,!1)}}),[F,L,I,D]);var U=(0,e.useRef)([]),V=function(e){R.current&&R.current.contains(e.target)||(e.preventDefault(),U.current=[])};(0,e.useEffect)((function(){return b&&(document.addEventListener("dragover",Ba,!1),document.addEventListener("drop",V,!1)),function(){b&&(document.removeEventListener("dragover",Ba),document.removeEventListener("drop",V))}}),[R,b]),(0,e.useEffect)((function(){return!r&&_&&R.current&&R.current.focus(),function(){}}),[R,_,r]);var Z=(0,e.useCallback)((function(e){S?S(e):console.error(e)}),[S]),j=(0,e.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),U.current=[].concat(Qa(U.current),[e.target]),Na(e)&&Promise.resolve(a(e)).then((function(t){if(!Ta(e)||C){var n=t.length,i=n>0&&Fa({files:t,accept:M,minSize:u,maxSize:o,multiple:s,maxFiles:l,validator:P});B({isDragAccept:i,isDragReject:n>0&&!i,isDragActive:!0,type:"setDraggedFiles"}),h&&h(e)}})).catch((function(e){return Z(e)}))}),[a,h,Z,C,M,u,o,s,l,P]),H=(0,e.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=Na(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&f&&f(e),!1}),[f,C]),W=(0,e.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=U.current.filter((function(e){return R.current&&R.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),U.current=t,t.length>0||(B({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Na(e)&&c&&c(e))}),[R,c,C]),q=(0,e.useCallback)((function(e,t){var n=[],i=[];e.forEach((function(e){var t=Ka(Aa(e,M),2),r=t[0],a=t[1],s=Ka(Ia(e,u,o),2),l=s[0],h=s[1],c=P?P(e):null;if(r&&l&&!c)n.push(e);else{var f=[a,h];c&&(f=f.concat(c)),i.push({file:e,errors:f.filter((function(e){return e}))})}})),(!s&&n.length>1||s&&l>=1&&n.length>l)&&(n.forEach((function(e){i.push({file:e,errors:[za]})})),n.splice(0)),B({acceptedFiles:n,fileRejections:i,type:"setFiles"}),d&&d(n,i,t),i.length>0&&g&&g(i,t),n.length>0&&m&&m(n,t)}),[B,s,M,u,o,l,d,m,g,P]),G=(0,e.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),U.current=[],Na(e)&&Promise.resolve(a(e)).then((function(t){Ta(e)&&!C||q(t,e)})).catch((function(e){return Z(e)})),B({type:"reset"})}),[a,q,Z,C]),$=(0,e.useCallback)((function(){if(D.current){B({type:"openDialog"}),A();var e={multiple:s,types:z};window.showOpenFilePicker(e).then((function(e){return a(e)})).then((function(e){q(e,null),B({type:"closeDialog"})})).catch((function(e){ja(e)?(I(e),B({type:"closeDialog"})):Ha(e)?(D.current=!1,F.current?(F.current.value=null,F.current.click()):Z(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Z(e)}))}else F.current&&(B({type:"openDialog"}),A(),F.current.value=null,F.current.click())}),[B,A,I,p,q,Z,z,s]),Y=(0,e.useCallback)((function(e){R.current&&R.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),$()))}),[R,$]),X=(0,e.useCallback)((function(){B({type:"focus"})}),[]),Q=(0,e.useCallback)((function(){B({type:"blur"})}),[]),K=(0,e.useCallback)((function(){k||(Da()?setTimeout($,0):$())}),[k,$]),J=function(e){return r?null:e},ee=function(e){return x?null:J(e)},te=function(e){return w?null:J(e)},ne=function(e){C&&e.stopPropagation()},ie=(0,e.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.role,a=e.onKeyDown,o=e.onFocus,u=e.onBlur,s=e.onClick,l=e.onDragEnter,h=e.onDragOver,c=e.onDragLeave,f=e.onDrop,d=ro(e,Ya);return no(no(io({onKeyDown:ee(Oa(a,Y)),onFocus:ee(Oa(o,X)),onBlur:ee(Oa(u,Q)),onClick:J(Oa(s,K)),onDragEnter:te(Oa(l,j)),onDragOver:te(Oa(h,H)),onDragLeave:te(Oa(c,W)),onDrop:te(Oa(f,G)),role:"string"===typeof i&&""!==i?i:"presentation"},n,R),r||x?{}:{tabIndex:0}),d)}}),[R,Y,X,Q,K,j,H,W,G,x,w,r]),re=(0,e.useCallback)((function(e){e.stopPropagation()}),[]),ae=(0,e.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.onChange,r=e.onClick,a=ro(e,Xa);return no(no({},io({accept:M,multiple:s,type:"file",style:{display:"none"},onChange:J(Oa(i,G)),onClick:J(Oa(r,re)),tabIndex:-1},n,F)),a)}}),[F,i,s,G,r]);return no(no({},N),{},{isFocused:E&&!r,getRootProps:ie,getInputProps:ae,rootRef:R,inputRef:F,open:J($)})}(ro(t,Ga)),a=r.open,o=ro(r,$a);return(0,e.useImperativeHandle)(n,(function(){return{open:a}}),[a]),e.createElement(e.Fragment,null,i(no(no({},o),{},{open:a})))}));ao.displayName="Dropzone";var oo={disabled:!1,getFilesFromEvent:function(e){return $r(this,void 0,void 0,(function(){return Yr(this,(function(t){return ta(e)&&ta(e.dataTransfer)?[2,ra(e.dataTransfer,e.type)]:function(e){return ta(e)&&ta(e.target)}(e)?[2,na(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,ia(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};ao.defaultProps=oo,ao.propTypes={children:Gr().func,accept:Gr().objectOf(Gr().arrayOf(Gr().string)),multiple:Gr().bool,preventDropOnDocument:Gr().bool,noClick:Gr().bool,noKeyboard:Gr().bool,noDrag:Gr().bool,noDragEventsBubbling:Gr().bool,minSize:Gr().number,maxSize:Gr().number,maxFiles:Gr().number,disabled:Gr().bool,getFilesFromEvent:Gr().func,onFileDialogCancel:Gr().func,onFileDialogOpen:Gr().func,useFsAccessApi:Gr().bool,autoFocus:Gr().bool,onDragEnter:Gr().func,onDragLeave:Gr().func,onDragOver:Gr().func,onDrop:Gr().func,onDropAccepted:Gr().func,onDropRejected:Gr().func,onError:Gr().func,validator:Gr().func};var uo=ao,so={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function lo(e,t){switch(t.type){case"focus":return no(no({},e),{},{isFocused:!0});case"blur":return no(no({},e),{},{isFocused:!1});case"openDialog":return no(no({},so),{},{isFileDialogActive:!0});case"closeDialog":return no(no({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return no(no({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return no(no({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return no({},so);default:return e}}function ho(){}function co(e){return(0,f.Z)("MuiPaper",e)}(0,c.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var fo=["className","component","elevation","square","variant"],mo=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},go=(0,X.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,i=e.ownerState;return(0,l.Z)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!i.square&&{borderRadius:n.shape.borderRadius},"outlined"===i.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===i.variant&&(0,l.Z)({boxShadow:(n.vars||n).shadows[i.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,$.Fq)("#fff",mo(i.elevation)),", ").concat((0,$.Fq)("#fff",mo(i.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[i.elevation]}))})),vo=e.forwardRef((function(e,t){var n=(0,Y.Z)({props:e,name:"MuiPaper"}),i=n.className,r=n.component,a=void 0===r?"div":r,o=n.elevation,u=void 0===o?1:o,c=n.square,f=void 0!==c&&c,d=n.variant,m=void 0===d?"elevation":d,v=(0,s.Z)(n,fo),y=(0,l.Z)({},n,{component:a,elevation:u,square:f,variant:m}),_=function(e){var t=e.square,n=e.elevation,i=e.variant,r=e.classes,a={root:["root",i,!t&&"rounded","elevation"===i&&"elevation".concat(n)]};return(0,p.Z)(a,co,r)}(y);return(0,g.jsx)(go,(0,l.Z)({as:a,ownerState:y,className:(0,h.Z)(_.root,i),ref:t},v))}));function yo(e){return(0,f.Z)("MuiCard",e)}(0,c.Z)("MuiCard",["root"]);var po=["className","raised"],_o=(0,X.ZP)(vo,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),bo=e.forwardRef((function(e,t){var n=(0,Y.Z)({props:e,name:"MuiCard"}),i=n.className,r=n.raised,a=void 0!==r&&r,o=(0,s.Z)(n,po),u=(0,l.Z)({},n,{raised:a}),c=function(e){var t=e.classes;return(0,p.Z)({root:["root"]},yo,t)}(u);return(0,g.jsx)(_o,(0,l.Z)({className:(0,h.Z)(c.root,i),elevation:a?8:void 0,ref:t,ownerState:u},o))}));function ko(e){return(0,f.Z)("MuiCardContent",e)}(0,c.Z)("MuiCardContent",["root"]);var xo=["className","component"],wo=(0,X.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),Co=e.forwardRef((function(e,t){var n=(0,Y.Z)({props:e,name:"MuiCardContent"}),i=n.className,r=n.component,a=void 0===r?"div":r,o=(0,s.Z)(n,xo),u=(0,l.Z)({},n,{component:a}),c=function(e){var t=e.classes;return(0,p.Z)({root:["root"]},ko,t)}(u);return(0,g.jsx)(wo,(0,l.Z)({as:a,className:(0,h.Z)(c.root,i),ownerState:u,ref:t},o))}));function So(e){return(0,f.Z)("MuiTypography",e)}(0,c.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var Po=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Mo=(0,X.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,ee.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),zo={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ao={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Io=e.forwardRef((function(e,t){var n=(0,Y.Z)({props:e,name:"MuiTypography"}),i=function(e){return Ao[e]||e}(n.color),r=ve((0,l.Z)({},n,{color:i})),a=r.align,o=void 0===a?"inherit":a,u=r.className,c=r.component,f=r.gutterBottom,d=void 0!==f&&f,m=r.noWrap,v=void 0!==m&&m,y=r.paragraph,_=void 0!==y&&y,b=r.variant,k=void 0===b?"body1":b,x=r.variantMapping,w=void 0===x?zo:x,C=(0,s.Z)(r,Po),S=(0,l.Z)({},r,{align:o,color:i,className:u,component:c,gutterBottom:d,noWrap:v,paragraph:_,variant:k,variantMapping:w}),P=c||(_?"p":w[k]||zo[k])||"span",M=function(e){var t=e.align,n=e.gutterBottom,i=e.noWrap,r=e.paragraph,a=e.variant,o=e.classes,u={root:["root",a,"inherit"!==e.align&&"align".concat((0,ee.Z)(t)),n&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return(0,p.Z)(u,So,o)}(S);return(0,g.jsx)(Mo,(0,l.Z)({as:P,ref:t,ownerState:S,className:(0,h.Z)(M.root,u)},C))})),Ro=n(5130);function Fo(e,t,n,i){return{id:e,href:t,x:0,y:0,width:n,height:i,opacity:1,scaling:1,rotation:0}}function To(e){return e.map((function(e){return e.id+1})).reduce((function(e,t){return e>t?e:t}),0)}function No(e){var t=e.images,n=e.setImages,r=e.selectedImageId,a=e.setSelectedImageId;return console.log("rerender",t.length,r),(0,g.jsx)(bo,{sx:{minWidth:250,maxHeight:700,overflowY:"scroll"},children:(0,g.jsx)(Co,{children:(0,g.jsxs)("section",{children:[(0,g.jsx)(uo,{onDrop:function(e){return e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"readAsDataURL",i=new FileReader;if(console.log(e.type),"image/tiff"==e.type)return i.addEventListener("load",(function(){var e=Wi({data:new Uint8Array(i.result)});console.log(e.numChannels),1==e.numChannels&&(console.log("hola"),e.remapChannels(Qe.grayAlpha),console.log(e.numChannels)),window.memoryImage=e;var n=Hi({image:e}),r=new Blob([n],{type:"image/png"}),a=URL.createObjectURL(r);t(a)})),void i.readAsArrayBuffer(e);i.addEventListener("load",(function(){t(i.result)})),i[n](e)}(e,(function(e){return function(e,t){var n=new Image;n.onload=function(){return t({width:n.naturalWidth,height:n.naturalHeight})},n.src=e}(e,(function(t){var r=t.width,a=t.height;return n((function(t){return[].concat((0,i.Z)(t),[Fo(To(t),e,r,a)])}))}))}))}))},children:function(e){var t=e.getRootProps,n=e.getInputProps;return(0,g.jsxs)("div",u(u({},t()),{},{children:[(0,g.jsx)("input",u({},n())),(0,g.jsx)(Io,{sx:{fontSize:14},color:"text.secondary",backgroundColor:"#eeeeee",gutterBottom:!0,children:"Upload Working Images"})]}))}}),t.map((function(e){return(0,g.jsxs)(bo,{children:[(0,g.jsx)("img",{src:e.href,style:{width:140,border:r==e.id&&0!==e.id?"solid 10px coral":r==e.id&&0==e.id?"solid 10px #321ab0":"none"},onClick:function(){return a(e.id)}}),(0,g.jsx)("div",{style:{display:"flex",flexDirection:"row"}}),"image ID = ",e.id,0==e.id?" (fixed)":" (moving)",(0,g.jsx)(Ro.Z,{onClick:function(){n((function(t){return t.filter((function(t){return t.id!=e.id}))}))}}),(0,g.jsx)("br",{}),(0,g.jsx)("br",{})]},e.id)}))]})})})}var Bo="/fixed-image.jpg",Eo="/moving-image-d02.jpg";var Lo=function(){var t=(0,e.useState)(450),n=(0,r.Z)(t,2),a=(n[0],n[1],(0,e.useState)(450)),o=(0,r.Z)(a,2),u=(o[0],o[1],(0,e.useState)(1)),s=(0,r.Z)(u,2),l=s[0],h=s[1],c=(0,e.useState)(1),f=(0,r.Z)(c,2),d=(f[0],f[1],qi(Eo)),m=(0,r.Z)(d,2),v=(m[0],m[1],qi(Bo)),y=(0,r.Z)(v,2),p=(y[0],y[1],(0,e.useState)([])),_=(0,r.Z)(p,2),b=_[0],k=_[1],x=(0,e.useState)(0),w=(0,r.Z)(x,2),C=w[0],S=w[1];return(0,g.jsxs)("div",{className:"App",children:[(0,g.jsxs)("h1",{id:"titleMain",children:["image registration",(0,g.jsx)("br",{}),"CANVAS"]}),(0,g.jsx)("br",{}),(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,g.jsx)(Ae,{images:b,worldScale:l}),(0,g.jsx)(No,{images:b,setImages:k,selectedImageId:C,setSelectedImageId:S}),(0,g.jsx)(Wr,{workingImages:b.slice(1),imageFixed:b[0],setImageFixed:function(e){k((function(t){return[e].concat((0,i.Z)(t.slice(1)))}))},imageMoving:b.find((function(e){return C==e.id})),setImageMoving:function(e){k((function(t){var n=t.findIndex((function(e){return C==e.id}));return[].concat((0,i.Z)(t.slice(0,n)),[e],(0,i.Z)(t.slice(n+1)))}))},setWorkingImages:function(e){k((function(t){return[t[0]].concat((0,i.Z)(e))}))},worldScale:l,setWorldScale:h})]})]})},Do=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),r(e),a(e),o(e)}))};t.createRoot(document.getElementById("root")).render((0,g.jsx)(e.StrictMode,{children:(0,g.jsx)(Lo,{})})),Do()}()}();
//# sourceMappingURL=main.4bef3501.js.map